<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>维生素</title>
      <link href="/2024/04/09/%E8%90%A5%E5%85%BB%E5%AD%A6/%E3%80%90%E8%90%A5%E5%85%BB%E5%AD%A6%E5%9F%BA%E7%A1%80%E3%80%91%E7%BB%B4%E7%94%9F%E7%B4%A0%E5%90%88%E9%9B%86/"/>
      <url>/2024/04/09/%E8%90%A5%E5%85%BB%E5%AD%A6/%E3%80%90%E8%90%A5%E5%85%BB%E5%AD%A6%E5%9F%BA%E7%A1%80%E3%80%91%E7%BB%B4%E7%94%9F%E7%B4%A0%E5%90%88%E9%9B%86/</url>
      
        <content type="html"><![CDATA[<h2 id="维生素"><a href="#维生素" class="headerlink" title="维生素"></a>维生素</h2><p>不是构成身体组织原料，也不是能量来源，是一类生理调节物质，在代谢中起重要作用</p><p>体内不能&#x2F;很少合成，必须由食物提供</p><h3 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h3><ul><li><p>水溶性</p><p>在体内少量存储，缺乏不足易出现缺乏症</p><p>维生素 B1（硫胺素，抗脚气病因子） 酸性稳定</p><p>维生素 B2（核黄素，维生素 PP，）</p><p>烟酸（尼克酸， 抗赖皮病因子</p><p>维生素 B6（吡哆酸，抗皮炎维生素，泛酸，遍多酸，生物素，）</p><p>叶酸</p><p>维生素 B12（钴胺素，抗恶性贫血维生素）</p><p>维 C（100mg）</p></li><li><p>脂溶性</p><p>大部分存储在脂肪中，过量摄入会导致中毒</p><p>维生素 A（视黄醇）</p><p>维生素 D（钙化醇， 抗佝偻病维生素，10ug）</p><p>维生素 E（生育酚，抗不育维生素）</p><p>维生素 K（凝血维生素）</p></li></ul><h2 id="维生素A"><a href="#维生素A" class="headerlink" title="维生素A"></a>维生素A</h2><p>包括维A1、A2</p><p>维A原：分解形式形成维A的类胡萝卜素</p><h3 id="理化性质"><a href="#理化性质" class="headerlink" title="理化性质"></a>理化性质</h3><ul><li>溶于脂肪，不溶于水</li><li>酸、热、碱稳定，易氧化破坏</li><li>食物中含磷脂、维E、抗坏血酸或其他抗氧化剂时非常稳定</li></ul><h3 id="功能"><a href="#功能" class="headerlink" title="功能"></a>功能</h3><ul><li>视觉</li><li>上皮组织和细胞健康</li><li>骨骼生长发育</li><li>促进生长生殖</li><li>其他：防癌、抗氧化、提高免疫力</li></ul><h3 id="缺乏"><a href="#缺乏" class="headerlink" title="缺乏"></a>缺乏</h3><ul><li>原因<ul><li>摄入不足</li><li>吸收利用障碍：慢性消化道疾病（慢性腹泻、肝胆疾病等</li><li>需要量增加：生长发育、重体力劳动者、急慢性消耗性疾病、传染病</li><li>代谢障碍：甲状腺功能低下，糖尿病</li><li>营养素影响：蛋白质、Zn缺乏</li><li>其他：酗酒、药物影响（消胆胺、新霉素、秋水仙碱）</li></ul></li><li>表现<ul><li>视力<ul><li>暗适应能力下降，眼干燥症，夜盲，角膜软化（最早症状），失明</li></ul></li><li>皮肤<ul><li>干燥、蟾皮症</li></ul></li><li>骨骼<ul><li>儿童骨组织停止生长，发育迟缓，牙龈增生角质，牙齿生长缓慢</li></ul></li><li>生殖系统<ul><li>女性受孕和怀胎或导致婴儿畸形或死亡，男性精子减少，性激素合成障碍</li></ul></li><li>免疫功能低下<ul><li>儿童反复呼吸道感染和腹泻</li></ul></li></ul></li><li>预防<ul><li>摄入维A及β-胡萝卜素丰富食物</li><li>检测易感人群（婴幼儿、孕妇乳母、儿童）维A状况</li><li>进行干预：视黄醇制剂，维A强化食品</li></ul></li></ul><h3 id="过量"><a href="#过量" class="headerlink" title="过量"></a>过量</h3><ul><li>急性中毒</li><li>婴幼儿慢性中毒</li><li>皮肤干粗&#x2F;薄而发亮</li><li>脂溢性皮炎</li><li>唇及口角皲裂</li><li>骨痛</li><li>毛发稀少。干枯</li></ul><h3 id="影响吸收因素"><a href="#影响吸收因素" class="headerlink" title="影响吸收因素"></a>影响吸收因素</h3><ul><li>小肠中的胆汁 乳化维A必须</li><li>足量脂肪促进</li><li>抗氧化剂</li><li>矿物油及肠道寄生虫的存在不利于吸收</li></ul><h3 id="视黄醇活性当量ugRAE"><a href="#视黄醇活性当量ugRAE" class="headerlink" title="视黄醇活性当量ugRAE"></a>视黄醇活性当量ugRAE</h3><blockquote><p>膳食或食物中的视黄醇活性当量ugRAE&#x3D;全反式视黄醇（ug）+1&#x2F;2补充剂纯品反式β-胡萝卜素（ug）+1&#x2F;12膳食全反式β-胡萝卜素（ug）+1&#x2F;24其他膳食维A原胡萝卜素（yg）</p></blockquote><h3 id="来源"><a href="#来源" class="headerlink" title="来源"></a>来源</h3><ul><li>维A<ul><li>动物肝脏，动物肉、鱼油、全奶、蛋黄等</li></ul></li><li>β-胡萝卜素<ul><li>植物性、有色蔬菜和水果</li></ul></li></ul><h3 id="测定"><a href="#测定" class="headerlink" title="测定"></a>测定</h3><ul><li>眼结膜印迹细胞学法</li><li>血清视黄醇（0.7umol&#x2F;g 0.35umol&#x2F;g</li><li>生理盲点</li><li>暗适应能力</li></ul><h2 id="维生素D"><a href="#维生素D" class="headerlink" title="维生素D"></a>维生素D</h2><ul><li>维D原<ul><li>皮肤7-脱氧胆固醇-》D3</li><li>植物麦角固醇 -》D2</li></ul></li><li>肝脏<ul><li>25-OH-D3 -》第一次羟化</li></ul></li><li>肾脏<ul><li>1,25-(OH)2-D3 -》第二次羟化  活性形式</li></ul></li></ul><h3 id="理化性质-1"><a href="#理化性质-1" class="headerlink" title="理化性质"></a>理化性质</h3><ul><li>溶于脂肪</li><li>不溶于水</li><li>热碱稳定</li></ul><h3 id="功能-1"><a href="#功能-1" class="headerlink" title="功能"></a>功能</h3><ul><li>促进小肠黏膜对Ca吸收</li><li>促进肾小管对Ca、P重吸收</li><li>促进骨组织软化</li></ul><h3 id="缺乏-1"><a href="#缺乏-1" class="headerlink" title="缺乏"></a>缺乏</h3><ul><li>婴幼儿佝偻病<ul><li>神经精神状况：多汗、夜惊、枕秃</li><li>骨骼：颅骨软化，肋骨串珠，胸廓串珠</li><li>其他：发育不良，神情呆滞、呼吸运动限制、易继发性肺部感染和消化功能障碍</li><li>判断<ul><li>血清25-(OH)D3水平</li><li>X射线检查</li></ul></li></ul></li><li>成人骨软化病<ul><li>肌无力、骨痛、骨压痛、步态特殊，”鸭步“</li><li>判断标准<ul><li>骨质软化，骨样组织增生，骨骼变形</li></ul></li></ul></li><li>预防<ul><li>系统管理</li><li>综合防治</li><li>因地制宜</li><li>早治早防</li></ul></li></ul><h3 id="来源-1"><a href="#来源-1" class="headerlink" title="来源"></a>来源</h3><ul><li>太阳皮肤，取决于照射皮肤面积，照射时长，程度</li><li>脂肪含量高的海鱼、肝脏、蛋黄；</li><li>奶油、干酪、天然浓缩鱼油</li></ul><h2 id="维E"><a href="#维E" class="headerlink" title="维E"></a>维E</h2><h3 id="理化性质-2"><a href="#理化性质-2" class="headerlink" title="理化性质"></a>理化性质</h3><ul><li>有8种化合物，α-生育酚</li><li>热、光、碱稳定</li></ul><h3 id="功能-2"><a href="#功能-2" class="headerlink" title="功能"></a>功能</h3><ul><li>抗氧化</li><li>保持红细胞活性</li><li>调节体内某些物质活性</li><li>其他</li></ul><h3 id="膳食中α-TE当量"><a href="#膳食中α-TE当量" class="headerlink" title="膳食中α-TE当量"></a>膳食中α-TE当量</h3><blockquote><p>膳食中α-TE当量&#x3D;1*α-生育酚（mg）+ 0.5 *β-生育酚（mg）+ 0.1 * γ-生育酚 + 0.02 * δ-生育酚 + 0.3 * 三烯生育酚</p></blockquote><h3 id="来源-2"><a href="#来源-2" class="headerlink" title="来源"></a>来源</h3><ul><li>只能在植物种合成</li><li>麦胚、向日葵及其油富含α-生育酚</li></ul><h2 id="维K"><a href="#维K" class="headerlink" title="维K"></a>维K</h2><h3 id="理化性质-3"><a href="#理化性质-3" class="headerlink" title="理化性质"></a>理化性质</h3><ul><li>常温下黄色油状物，其衍生物为黄色结晶</li><li>溶于脂肪</li><li>光、热敏感，热氧化剂稳定</li></ul><h3 id="功能-3"><a href="#功能-3" class="headerlink" title="功能"></a>功能</h3><ul><li>血液凝固</li><li>骨代谢 辅酶<ul><li>作为骨质疏松预判指标</li></ul></li></ul><h3 id="缺乏-2"><a href="#缺乏-2" class="headerlink" title="缺乏"></a>缺乏</h3><ul><li>很少缺乏，新生儿出血症</li></ul><h3 id="来源-3"><a href="#来源-3" class="headerlink" title="来源"></a>来源</h3><ul><li>绿色蔬菜（最多</li><li>肝脏、鱼类</li><li>肉、乳（中等含量</li><li>水果、谷物</li></ul><h2 id="维C"><a href="#维C" class="headerlink" title="维C"></a>维C</h2><h3 id="理化性质-4"><a href="#理化性质-4" class="headerlink" title="理化性质"></a>理化性质</h3><ul><li>易溶于水，不溶于脂肪</li><li>酸性稳定，有氧、碱、热、光不稳定</li><li>氧化酶、痕量铜、Fe存在，氧化破坏</li><li>黄瓜、白菜氧化酶多，但不稳定</li><li>枣、刺梨中含生物类黄酮，稳定</li></ul><h3 id="功能-4"><a href="#功能-4" class="headerlink" title="功能"></a>功能</h3><ul><li>羟化反应<ul><li>酶的辅助酶</li><li>促进胶原合成，神经递质合成</li><li>类固醇羟化，有机物或毒物羟化解读</li></ul></li><li>还原作用<ul><li>促进抗体合成</li><li>Fe吸收，四氢叶酸形成</li><li>维持疏基酶形成</li></ul></li><li>其他<ul><li>解毒</li><li>预防癌症</li><li>消除自由基</li></ul></li></ul><h3 id="缺乏-3"><a href="#缺乏-3" class="headerlink" title="缺乏"></a>缺乏</h3><ul><li>原因<ul><li>摄入降低</li><li>吸收率降低</li><li>需要量升高</li><li>药物</li></ul></li><li>表现<ul><li>面色苍白，倦怠无力，食欲减退，抑郁等</li><li>儿童易激惹，体重不增，水肿，发热</li><li>贫血</li><li>出血症状：皮肤瘀点为较突出症状，牙龈出现，鼻出血</li><li>骨骼：四肢疼痛呈蛙状，坏血性串珠</li></ul></li><li>判断标准-典型症状<ul><li>毛细血管脆性实验</li><li>血浆及白细胞中维C含量测定</li><li>维C尿负荷实验</li><li>治疗实验</li></ul></li><li>预防<ul><li>摄入富含维C的蔬果</li><li>合理烹调（加碱被破坏</li><li>定期监测</li></ul></li></ul><h3 id="来源-4"><a href="#来源-4" class="headerlink" title="来源"></a>来源</h3><ul><li>新鲜蔬果</li></ul><h2 id="维B1"><a href="#维B1" class="headerlink" title="维B1"></a>维B1</h2><h3 id="理化性质-5"><a href="#理化性质-5" class="headerlink" title="理化性质"></a>理化性质</h3><ul><li>极溶于水，1%溶于乙醇，不溶于其他有机溶剂</li><li>耐酸不耐碱</li></ul><h3 id="功能-5"><a href="#功能-5" class="headerlink" title="功能"></a>功能</h3><ul><li>构成辅酶，维持体内正常代谢<ul><li>硫胺素焦磷酸（TPP）是活性形式</li></ul></li><li>促进肠胃蠕动<ul><li>抑制胆碱酯酶对乙酰胆碱水解</li></ul></li><li>对神经组织作用</li></ul><h3 id="缺乏-4"><a href="#缺乏-4" class="headerlink" title="缺乏"></a>缺乏</h3><ul><li>原因<ul><li>摄入减少（谷类淘洗次数过多，或者加碱</li><li>利用率低</li><li>需要量&#x2F;消耗量增加</li><li>抗硫胺素因子</li><li>慢性乙醇中毒导致吸收减少</li></ul></li><li>表现<ul><li>亚临床型（3个月<ul><li>疲乏无力，烦躁不安，易激动，肠胃功能紊乱，下肢倦怠酸痛</li></ul></li><li>神经型<ul><li>主累及肢体远端，下肢发病比上肢早，呈上升性，对称性感觉异常早于运动异常</li><li>病情加重烦躁不安，声音嘶哑</li><li>韦尼克脑病</li></ul></li><li>心血管型<ul><li>以右心为主的左右心室衰竭，常见症状为水肿</li></ul></li><li>婴儿脚气病：多发于数月婴幼儿，发病急<ul><li>初期食欲不振，呕吐，兴奋，腹痛便秘，水肿，呼吸急促困难</li><li>喉鸣，晚期发绀，心力衰竭，肺充血及肝淤血</li><li>严重时脑充血，脑高压，强直痉挛，昏迷甚至死亡</li></ul></li></ul></li><li>预防<ul><li>改善谷类加工方法，调整饮食结构</li><li>开展易感人群监测</li><li>开展健康活动</li><li>B1强化食品</li></ul></li></ul><h3 id="来源-5"><a href="#来源-5" class="headerlink" title="来源"></a>来源</h3><ul><li>瓜子、花生</li><li>小麦粉、大豆粉、玉米等谷类</li><li>瘦猪肉</li><li>鱼、蔬果少</li></ul><h2 id="维B2"><a href="#维B2" class="headerlink" title="维B2"></a>维B2</h2><h3 id="理化性质-6"><a href="#理化性质-6" class="headerlink" title="理化性质"></a>理化性质</h3><ul><li>在酸性&#x2F;中性环境中，短期加盐不被破坏</li><li>碱性加热不稳定</li><li>热稳定，光敏感</li></ul><h3 id="功能-6"><a href="#功能-6" class="headerlink" title="功能"></a>功能</h3><ul><li>构成黄酶、辅酶，参与物质代谢</li><li>参与细胞正常生长</li><li>其他：肾上腺皮质激素的产生，骨髓中红细胞生成及Fe吸收，储存</li></ul><h3 id="缺乏-5"><a href="#缺乏-5" class="headerlink" title="缺乏"></a>缺乏</h3><ul><li>原因<ul><li>摄入减少</li><li>吸收障碍</li><li>需要&#x2F;消耗量增加</li></ul></li><li>表现<ul><li>视觉<ul><li>视线模糊、畏光、暗适应能力下降</li><li>视力疲劳，角膜充血，流泪</li></ul></li><li>口角炎，舌（地图舌）唇炎、脂溢性皮炎</li><li>阴囊、阴唇炎，脱发</li><li>口腔-生殖综合征</li></ul></li><li>预发<ul><li>摄入增加，改善烹饪方法</li><li>开展活动</li><li>营养干预</li></ul></li></ul><h3 id="来源-6"><a href="#来源-6" class="headerlink" title="来源"></a>来源</h3><ul><li>动物肝脏</li><li>蛋黄、牛奶</li><li>大豆、绿叶蔬菜</li></ul><h2 id="维B6"><a href="#维B6" class="headerlink" title="维B6"></a>维B6</h2><p>空肠吸收</p><h3 id="理化性质-7"><a href="#理化性质-7" class="headerlink" title="理化性质"></a>理化性质</h3><ul><li>酸、氧稳定</li><li>碱不稳</li></ul><h3 id="功能-7"><a href="#功能-7" class="headerlink" title="功能"></a>功能</h3><ul><li>氨基酸代谢</li><li>糖原与脂肪代谢</li><li>其他：降低同型半胱氨酸水平，核酸代谢</li></ul><h3 id="缺乏-6"><a href="#缺乏-6" class="headerlink" title="缺乏"></a>缺乏</h3><ul><li>脂溢性皮炎</li><li>小细胞性贫血</li><li>癫病样惊厥及忧郁，精神错乱</li></ul><h3 id="来源-7"><a href="#来源-7" class="headerlink" title="来源"></a>来源</h3><ul><li>豆、畜肉、肝脏、鱼</li><li>蛋、蔬果</li><li>乳、油少</li></ul><h2 id="烟酸"><a href="#烟酸" class="headerlink" title="烟酸"></a>烟酸</h2><h3 id="理化性质-8"><a href="#理化性质-8" class="headerlink" title="理化性质"></a>理化性质</h3><ul><li>溶于水、乙醇</li><li>酸、碱、氧不易破坏</li></ul><h3 id="功能-8"><a href="#功能-8" class="headerlink" title="功能"></a>功能</h3><ul><li>构成辅酶</li><li>葡萄糖耐药因子构成成分（Cr</li><li>保护心血管</li></ul><h3 id="缺乏-7"><a href="#缺乏-7" class="headerlink" title="缺乏"></a>缺乏</h3><ul><li>赖皮病，3D症状<ul><li>皮炎、腹泻、痴呆</li><li>前驱症状：体重降低，疲乏无力，记忆力降低，失眠</li></ul></li></ul><h3 id="烟酸当量-mgNE"><a href="#烟酸当量-mgNE" class="headerlink" title="烟酸当量 mgNE"></a>烟酸当量 mgNE</h3><blockquote><p>mgNE&#x3D;烟酸mg+1&#x2F;60色氨酸mg</p></blockquote><h3 id="来源-8"><a href="#来源-8" class="headerlink" title="来源"></a>来源</h3><ul><li>肝肾、瘦畜肉，鱼类、坚果含量高</li><li>玉米<ul><li>含量不低，但是是结合性烟酸（加碱变为游离型）</li><li>不易被人体利用吸收，色氨酸含量低</li></ul></li></ul><h2 id="叶酸"><a href="#叶酸" class="headerlink" title="叶酸"></a>叶酸</h2><h3 id="理化性质-9"><a href="#理化性质-9" class="headerlink" title="理化性质"></a>理化性质</h3><ul><li>微溶于水，钠盐易溶解</li><li>不溶于乙醇、乙醚</li><li>热、光、酸不稳定</li><li>碱、中性中对热稳定</li></ul><h3 id="生理功能"><a href="#生理功能" class="headerlink" title="生理功能"></a>生理功能</h3><ul><li>参与嘌呤和胸腺嘧啶的合成，进一步合成DNA、RNA</li><li>参与氨基酸之间的转换</li><li>参与血红蛋白和重要化合物合成<ul><li>如肾上腺素、肌酸、胆碱等</li></ul></li></ul><h3 id="缺乏-8"><a href="#缺乏-8" class="headerlink" title="缺乏"></a>缺乏</h3><ul><li>原因<ul><li>摄入减少</li><li>消化吸收、利用率低</li><li>需要&#x2F;消耗量增加</li><li>排除量增加</li></ul></li><li>表现<ul><li>巨幼红细胞贫血</li><li>高同型半胱氨酸血症</li><li>胎儿神经异常</li></ul></li><li>预防<ul><li>一般人群注意食物多样，平衡膳食</li><li>妊娠妇女从围孕期开始补充</li></ul></li></ul><h3 id="叶酸当量-ugDEF"><a href="#叶酸当量-ugDEF" class="headerlink" title="叶酸当量 ugDEF"></a>叶酸当量 ugDEF</h3><blockquote><p>ugDEF&#x3D;膳食叶酸ug（50%利用率+1.7*叶酸补充剂（85%利用率</p></blockquote><h3 id="来源-9"><a href="#来源-9" class="headerlink" title="来源"></a>来源</h3><ul><li>动物肝肾</li><li>鸡蛋、豆类</li><li>酵母</li><li>绿叶菜，水果，坚果</li></ul><h3 id="维B12（钴胺素、氰钴胺"><a href="#维B12（钴胺素、氰钴胺" class="headerlink" title="维B12（钴胺素、氰钴胺"></a>维B12（钴胺素、氰钴胺</h3><h3 id="理化性质-10"><a href="#理化性质-10" class="headerlink" title="理化性质"></a>理化性质</h3><ul><li>弱酸稳定，强酸&#x2F;碱性易分解</li><li>活性形式<ul><li>甲基B12（甲基钴胺素</li><li>辅酶B12（腺苷基钴胺素</li></ul></li></ul><h3 id="功能-9"><a href="#功能-9" class="headerlink" title="功能"></a>功能</h3><ul><li>参与同型半胱氨酸甲基转变为蛋氨酸：甲基B12</li><li>参与甲基丙二酸  琥珀酸的异化反应</li></ul><h3 id="缺乏-9"><a href="#缺乏-9" class="headerlink" title="缺乏"></a>缺乏</h3><ul><li>高同型半胱氨酸血症</li><li>巨幼红细胞贫血</li></ul><h3 id="来源-10"><a href="#来源-10" class="headerlink" title="来源"></a>来源</h3><ul><li>肉、内脏、鱼、禽、贝类、蛋</li><li>乳（少</li><li>植物几乎不含</li></ul>]]></content>
      
      
      <categories>
          
          <category> 营养学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 营养学 </tag>
            
            <tag> 营养学基础 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>axios取消请求原理</title>
      <link href="/2024/03/25/%E3%80%90%E6%BA%90%E7%A0%81%E3%80%91axios-%E5%8F%96%E6%B6%88%E8%AF%B7%E6%B1%82/"/>
      <url>/2024/03/25/%E3%80%90%E6%BA%90%E7%A0%81%E3%80%91axios-%E5%8F%96%E6%B6%88%E8%AF%B7%E6%B1%82/</url>
      
        <content type="html"><![CDATA[<p><a href="https://imgse.com/i/pFqWBin"><img src="https://s21.ax1x.com/2024/04/07/pFqWBin.png" alt="pFqWBin.png"></a></p><p><a href="https://imgse.com/i/pFqWrR0"><img src="https://s21.ax1x.com/2024/04/07/pFqWrR0.png" alt="pFqWrR0.png"></a></p><h2 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title class_">CancelToken</span> = axios.<span class="property">CancelToken</span>;</span><br><span class="line"><span class="keyword">const</span> source = <span class="title class_">CancelToken</span>.<span class="title function_">source</span>();</span><br><span class="line"></span><br><span class="line">axios</span><br><span class="line">  .<span class="title function_">get</span>(<span class="string">&quot;/get/server&quot;</span>, &#123;</span><br><span class="line">    <span class="attr">cancelToken</span>: source.<span class="property">token</span>,</span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">catch</span>(<span class="keyword">function</span> (<span class="params">err</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (axios.<span class="title function_">isCancel</span>(err)) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;请求取消&quot;</span>, err.<span class="property">message</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// handle error</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 取消函数。</span></span><br><span class="line">source.<span class="title function_">cancel</span>(<span class="string">&quot;调用cancel方法&quot;</span>);</span><br></pre></td></tr></table></figure><h2 id="取消类"><a href="#取消类" class="headerlink" title="取消类"></a>取消类</h2><h3 id="CancelToken"><a href="#CancelToken" class="headerlink" title="CancelToken"></a>CancelToken</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// /lib/cancel/CancelToken.js</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">CancelToken</span>(<span class="params">executor</span>) &#123;</span><br><span class="line">  <span class="comment">// executor传入的函数，参数是取消函数，调用这个参数可以直接取消请求</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> executor !== <span class="string">&quot;function&quot;</span>) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">TypeError</span>(<span class="string">&quot;executor must be a function.&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> resolvePromise;</span><br><span class="line">  <span class="comment">// 实例化一个Promise</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">promise</span> = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span> <span class="title function_">promiseExecutor</span>(<span class="params">resolve</span>) &#123;</span><br><span class="line">    resolvePromise = resolve;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> token = <span class="variable language_">this</span>;</span><br><span class="line">  <span class="comment">// 如果执行了取消，那么就执行监听取消的函数</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">promise</span>.<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params">cancel</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!token.<span class="property">_listeners</span>) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> i;</span><br><span class="line">    <span class="keyword">var</span> l = token.<span class="property">_listeners</span>.<span class="property">length</span>;</span><br><span class="line">    <span class="comment">// 循环执行</span></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; l; i++) &#123;</span><br><span class="line">      token.<span class="property">_listeners</span>[i](cancel);</span><br><span class="line">    &#125;</span><br><span class="line">    token.<span class="property">_listeners</span> = <span class="literal">null</span>;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 这个没有在axios里面看到使用过，猜测应该是之前老axios遗留代码</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">promise</span>.<span class="property">then</span> = <span class="keyword">function</span> (<span class="params">onfulfilled</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> _resolve;</span><br><span class="line">    <span class="keyword">var</span> promise = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span> (<span class="params">resolve</span>) &#123;</span><br><span class="line">      token.<span class="title function_">subscribe</span>(resolve);</span><br><span class="line">      _resolve = resolve;</span><br><span class="line">    &#125;).<span class="title function_">then</span>(onfulfilled);</span><br><span class="line"></span><br><span class="line">    promise.<span class="property">cancel</span> = <span class="keyword">function</span> <span class="title function_">reject</span>(<span class="params"></span>) &#123;</span><br><span class="line">      token.<span class="title function_">unsubscribe</span>(_resolve);</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> promise;</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="comment">// 执行传入的函数，当source.cancel时，就执行这个回调</span></span><br><span class="line">  <span class="title function_">executor</span>(<span class="keyword">function</span> <span class="title function_">cancel</span>(<span class="params">message</span>) &#123;</span><br><span class="line">    <span class="comment">// 如果已经有reason，那么表示是已经取消请求了</span></span><br><span class="line">    <span class="keyword">if</span> (token.<span class="property">reason</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 把CanceledError实例作为一个reason，并且把message作为reason的message</span></span><br><span class="line">    token.<span class="property">reason</span> = <span class="keyword">new</span> <span class="title class_">CanceledError</span>(message);</span><br><span class="line">    <span class="comment">// 执行this.promise.then()的回调</span></span><br><span class="line">    <span class="title function_">resolvePromise</span>(token.<span class="property">reason</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 判断是否已经取消，因为只有reason有值时，才表示已经取消请求了</span></span><br><span class="line"><span class="comment"> * 如果已经取消请求，那么直接抛出错误，走入catch</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="title class_">CancelToken</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">throwIfRequested</span> = <span class="keyword">function</span> <span class="title function_">throwIfRequested</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">reason</span>) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="variable language_">this</span>.<span class="property">reason</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 添加取消监听函数</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">CancelToken</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">subscribe</span> = <span class="keyword">function</span> <span class="title function_">subscribe</span>(<span class="params">listener</span>) &#123;</span><br><span class="line">  <span class="comment">// 如果已经执行取消，那么就直接执行监听函数</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">reason</span>) &#123;</span><br><span class="line">    <span class="title function_">listener</span>(<span class="variable language_">this</span>.<span class="property">reason</span>);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 将监听函数加入数组中</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">_listeners</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">_listeners</span>.<span class="title function_">push</span>(listener);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">_listeners</span> = [listener];</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 删除监听函数</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="title class_">CancelToken</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">unsubscribe</span> = <span class="keyword">function</span> <span class="title function_">unsubscribe</span>(<span class="params">listener</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (!<span class="variable language_">this</span>.<span class="property">_listeners</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">var</span> index = <span class="variable language_">this</span>.<span class="property">_listeners</span>.<span class="title function_">indexOf</span>(listener);</span><br><span class="line">  <span class="keyword">if</span> (index !== -<span class="number">1</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">_listeners</span>.<span class="title function_">splice</span>(index, <span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Returns an object that contains a new `CancelToken` and a function that, when called,</span></span><br><span class="line"><span class="comment"> * cancels the `CancelToken`.</span></span><br><span class="line"><span class="comment"> * 调用创建取消token的函数，返回一个对象，包含一个取消token和一个取消函数</span></span><br><span class="line"><span class="comment"> * token是返回的函数实例，即可以直接访问函数内部</span></span><br><span class="line"><span class="comment"> * cancel是在CancelToken里面执行executor时，里面包裹的回调函数</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="title class_">CancelToken</span>.<span class="property">source</span> = <span class="keyword">function</span> <span class="title function_">source</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> cancel;</span><br><span class="line">  <span class="comment">// 创建一个实例</span></span><br><span class="line">  <span class="keyword">var</span> token = <span class="keyword">new</span> <span class="title class_">CancelToken</span>(<span class="keyword">function</span> <span class="title function_">executor</span>(<span class="params">c</span>) &#123;</span><br><span class="line">    cancel = c;</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="comment">// 返回实例和取消调用的函数</span></span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">token</span>: token,</span><br><span class="line">    <span class="attr">cancel</span>: cancel,</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="title class_">CancelToken</span>;</span><br></pre></td></tr></table></figure><h2 id="取消调用流程"><a href="#取消调用流程" class="headerlink" title="取消调用流程"></a>取消调用流程</h2><p>以下是以浏览器的流程为示例</p><ul><li><p><code>dispatchRequest</code>中判断一次此请求是否确认取消</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// /lib/core/dispatchRequest.js</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">throwIfCancellationRequested</span>(<span class="params">config</span>) &#123;</span><br><span class="line">  <span class="comment">// 如果有cancelToken，那么表示这个请求是可被取消的，调用cancelToken的请求取消报错即可结束</span></span><br><span class="line">  <span class="keyword">if</span> (config.<span class="property">cancelToken</span>) &#123;</span><br><span class="line">    config.<span class="property">cancelToken</span>.<span class="title function_">throwIfRequested</span>();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (config.<span class="property">signal</span> &amp;&amp; config.<span class="property">signal</span>.<span class="property">aborted</span>) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">CanceledError</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>在 xhr 文件中，进行取消监听函数的添加</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 如果配置列表里有cancelToken，那么表示需要走取消监听</span></span><br><span class="line"><span class="comment">// /lib/adapters/xhr</span></span><br><span class="line"><span class="keyword">if</span> (config.<span class="property">cancelToken</span> || config.<span class="property">signal</span>) &#123;</span><br><span class="line">    <span class="comment">// 取消函数的回调</span></span><br><span class="line">    onCanceled = <span class="keyword">function</span>(<span class="params">cancel</span>) &#123;</span><br><span class="line">      <span class="comment">// 如果这个请求已经进行完成了,那么就不走后面的函数</span></span><br><span class="line">      <span class="keyword">if</span> (!request) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// 如果这个请求还没有结束或者取消,那么就使请求回调走入catch中</span></span><br><span class="line">      <span class="title function_">reject</span>(!cancel || (cancel &amp;&amp; cancel.<span class="property">type</span>) ? <span class="keyword">new</span> <span class="title class_">CanceledError</span>() : cancel);</span><br><span class="line">      <span class="comment">// 取消请求.调用xhr的取消</span></span><br><span class="line">      request.<span class="title function_">abort</span>();</span><br><span class="line">      <span class="comment">// 表明请求已经结束,防止重复取消</span></span><br><span class="line">      request = <span class="literal">null</span>;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="comment">// 如果有cancelToken,那么就添加取消函数</span></span><br><span class="line">    config.<span class="property">cancelToken</span> &amp;&amp; config.<span class="property">cancelToken</span>.<span class="title function_">subscribe</span>(onCanceled);</span><br><span class="line">   <span class="comment">// 这个是针对于fetch的取消处理</span></span><br><span class="line">    <span class="keyword">if</span> (config.<span class="property">signal</span>) &#123;</span><br><span class="line">      config.<span class="property">signal</span>.<span class="property">aborted</span> ? <span class="title function_">onCanceled</span>() : config.<span class="property">signal</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;abort&#x27;</span>, onCanceled);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>onCanceled</code>这个函数的执行是在调用<code>source.cancel()</code>执行的</p></li><li><p>请求结束后,在 xhr 的<code>onloadend</code>&#x2F;<code>onreadystatechange</code>也进行了处理</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 请求结束之后的回调,不管是失败还是成功都会执行</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">done</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// 如果有cancelToken,那么就取消监听订阅的这个函数</span></span><br><span class="line">  <span class="keyword">if</span> (config.<span class="property">cancelToken</span>) &#123;</span><br><span class="line">    config.<span class="property">cancelToken</span>.<span class="title function_">unsubscribe</span>(onCanceled);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// fetch则是取消监听取消的函数</span></span><br><span class="line">  <span class="keyword">if</span> (config.<span class="property">signal</span>) &#123;</span><br><span class="line">    config.<span class="property">signal</span>.<span class="title function_">removeEventListener</span>(<span class="string">&quot;abort&quot;</span>, onCanceled);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (<span class="string">&quot;onloadend&quot;</span> <span class="keyword">in</span> request) &#123;</span><br><span class="line">  <span class="comment">// Use onloadend if available</span></span><br><span class="line">  request.<span class="property">onloadend</span> = onloadend;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="built_in">setTimeout</span>(onloadend);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">onloadend</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// 如果请求已经取消,那么直接结束就行</span></span><br><span class="line">  <span class="keyword">if</span> (!request) &#123;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">var</span> responseHeaders =</span><br><span class="line">    <span class="string">&quot;getAllResponseHeaders&quot;</span> <span class="keyword">in</span> request</span><br><span class="line">      ? <span class="title function_">parseHeaders</span>(request.<span class="title function_">getAllResponseHeaders</span>())</span><br><span class="line">      : <span class="literal">null</span>;</span><br><span class="line">  <span class="keyword">var</span> responseData =</span><br><span class="line">    !responseType || responseType === <span class="string">&quot;text&quot;</span> || responseType === <span class="string">&quot;json&quot;</span></span><br><span class="line">      ? request.<span class="property">responseText</span></span><br><span class="line">      : request.<span class="property">response</span>;</span><br><span class="line">  <span class="keyword">var</span> response = &#123;</span><br><span class="line">    <span class="attr">data</span>: responseData,</span><br><span class="line">    <span class="attr">status</span>: request.<span class="property">status</span>,</span><br><span class="line">    <span class="attr">statusText</span>: request.<span class="property">statusText</span>,</span><br><span class="line">    <span class="attr">headers</span>: responseHeaders,</span><br><span class="line">    <span class="attr">config</span>: config,</span><br><span class="line">    <span class="attr">request</span>: request,</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="comment">// 用请求结果去进行判断</span></span><br><span class="line">  <span class="title function_">settle</span>(</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">_resolve</span>(<span class="params">value</span>) &#123;</span><br><span class="line">      <span class="title function_">resolve</span>(value);</span><br><span class="line">      <span class="title function_">done</span>();</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">_reject</span>(<span class="params">err</span>) &#123;</span><br><span class="line">      <span class="title function_">reject</span>(err);</span><br><span class="line">      <span class="title function_">done</span>();</span><br><span class="line">    &#125;,</span><br><span class="line">    response</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// /lib/core/settle.js</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">settle</span>(<span class="params">resolve, reject, response</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> validateStatus = response.<span class="property">config</span>.<span class="property">validateStatus</span>;</span><br><span class="line">  <span class="comment">// 如果请求返回状态是合理的,那么就直接resolve</span></span><br><span class="line">  <span class="keyword">if</span> (</span><br><span class="line">    !response.<span class="property">status</span> ||</span><br><span class="line">    !validateStatus ||</span><br><span class="line">    <span class="title function_">validateStatus</span>(response.<span class="property">status</span>)</span><br><span class="line">  ) &#123;</span><br><span class="line">    <span class="title function_">resolve</span>(response);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="title function_">reject</span>(</span><br><span class="line">      <span class="keyword">new</span> <span class="title class_">AxiosError</span>(</span><br><span class="line">        <span class="string">&quot;Request failed with status code &quot;</span> + response.<span class="property">status</span>,</span><br><span class="line">        [<span class="title class_">AxiosError</span>.<span class="property">ERR_BAD_REQUEST</span>, <span class="title class_">AxiosError</span>.<span class="property">ERR_BAD_RESPONSE</span>][</span><br><span class="line">          <span class="title class_">Math</span>.<span class="title function_">floor</span>(response.<span class="property">status</span> / <span class="number">100</span>) - <span class="number">4</span></span><br><span class="line">        ],</span><br><span class="line">        response.<span class="property">config</span>,</span><br><span class="line">        response.<span class="property">request</span>,</span><br><span class="line">        response</span><br><span class="line">      )</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>请求结束后,在<code>dispatchRequest</code>中,也有相对于取消请求的处理</p><p>其实和开始请求之前的逻辑一样</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> <span class="title function_">adapter</span>(config).<span class="title function_">then</span>(<span class="keyword">function</span> <span class="title function_">onAdapterResolution</span>(<span class="params">response</span>) &#123;</span><br><span class="line">  <span class="title function_">throwIfCancellationRequested</span>(config);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li></ul><p>总结: </p><ul><li><p>对于请求开始前和结束后,都是在<code>dispatchRequest</code>文件中调用<code>cancelToken.throwIfRequested()</code>进行请求取消的</p></li><li><p>对于已经开始请求的,分为两个</p><ul><li><p>请求结果还未返回: 调用<code>cancelToken.subscribe()</code>进行请求取消回调的<strong>添加</strong></p></li><li><p>请求结果已经返回: 调用<code>cancelToken.unsubscribe()</code>进行请求取消回调的<strong>删除</strong></p></li><li><p>取消请求回调具体是在外部调用<code>source.cancel</code>进行的,因此会存在请求结果前或者请求结果返回后都存在的情况</p></li></ul></li></ul><h2 id="参链"><a href="#参链" class="headerlink" title="参链"></a>参链</h2><ul><li><p><a href="https://juejin.cn/post/7284417436752265277?searchId=202403261358326BBE4B654AB52795AB71">五分钟！让你彻底搞懂axios的请求取消原理！附源码分析</a></p></li><li><p><a href="https://mp.weixin.qq.com/s?__biz=MzA5MjQwMzQyNw==&mid=2650744604&idx=1&sn=51d8d865c9848fd59f7763f5fb9ce789&chksm=88662490bf11ad86061ae76ff71a1177eeddab02c38d046eecd0e1ad25dc16f7591f91e9e3b2&scene=21#wechat_redirect">学习 axios 源码整体架构，打造属于自己的请求库</a></p><p>注:由于这篇文章时间较久,所以里面对于xhr的取消处理是之前的流程,和现在的最新版本不一致</p></li><li><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/AbortController">AbortController</a></p><p>针对于fetch的取消请求处理控制器</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> axios 源码 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> axios 源码 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>axios拦截器原理</title>
      <link href="/2024/03/22/%E3%80%90%E6%BA%90%E7%A0%81%E3%80%91axios-%E6%8B%A6%E6%88%AA%E5%99%A8/"/>
      <url>/2024/03/22/%E3%80%90%E6%BA%90%E7%A0%81%E3%80%91axios-%E6%8B%A6%E6%88%AA%E5%99%A8/</url>
      
        <content type="html"><![CDATA[<h2 id="拦截器使用"><a href="#拦截器使用" class="headerlink" title="拦截器使用"></a>拦截器使用</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&quot;axios&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// http request 拦截器</span></span><br><span class="line">axios.<span class="property">interceptors</span>.<span class="property">request</span>.<span class="title function_">use</span>(</span><br><span class="line">  <span class="function">(<span class="params">config: any</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;请求拦截器&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> config;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(err);</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">// http response 拦截器</span></span><br><span class="line">axios.<span class="property">interceptors</span>.<span class="property">response</span>.<span class="title function_">use</span>(</span><br><span class="line">  <span class="function">(<span class="params">response</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;响应拦截器&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> response.<span class="property">data</span>;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">onError</span>(<span class="string">&quot;系统异常！&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">axios.<span class="title function_">get</span>(url).<span class="title function_">then</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;请求结果&quot;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// 输出结果：</span></span><br><span class="line"><span class="comment">// 请求拦截器</span></span><br><span class="line"><span class="comment">// 请求结果</span></span><br><span class="line"><span class="comment">// 响应拦截器</span></span><br></pre></td></tr></table></figure><h2 id="入口代码"><a href="#入口代码" class="headerlink" title="入口代码"></a>入口代码</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// /lib/core/axios.js</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Axios</span>(<span class="params">instanceConfig</span>) &#123;</span><br><span class="line">  <span class="comment">// 分别设置请求和响应拦截器管理</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">interceptors</span> = &#123;</span><br><span class="line">    <span class="attr">request</span>: <span class="keyword">new</span> <span class="title class_">InterceptorManager</span>(),</span><br><span class="line">    <span class="attr">response</span>: <span class="keyword">new</span> <span class="title class_">InterceptorManager</span>(),</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Axios</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">request</span> = <span class="keyword">function</span> <span class="title function_">request</span>(<span class="params">configOrUrl, config</span>) &#123;</span><br><span class="line">  <span class="comment">// 不相关代码...</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// filter out skipped interceptors</span></span><br><span class="line">  <span class="comment">// 请求拦截器相关</span></span><br><span class="line">  <span class="keyword">var</span> requestInterceptorChain = [];</span><br><span class="line">  <span class="keyword">var</span> synchronousRequestInterceptors = <span class="literal">true</span>;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">interceptors</span>.<span class="property">request</span>.<span class="title function_">forEach</span>(<span class="keyword">function</span> <span class="title function_">unshiftRequestInterceptors</span>(<span class="params"></span></span><br><span class="line"><span class="params">    interceptor</span></span><br><span class="line"><span class="params">  </span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (</span><br><span class="line">      <span class="keyword">typeof</span> interceptor.<span class="property">runWhen</span> === <span class="string">&quot;function&quot;</span> &amp;&amp;</span><br><span class="line">      interceptor.<span class="title function_">runWhen</span>(config) === <span class="literal">false</span></span><br><span class="line">    ) &#123;</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    synchronousRequestInterceptors =</span><br><span class="line">      synchronousRequestInterceptors &amp;&amp; interceptor.<span class="property">synchronous</span>;</span><br><span class="line"></span><br><span class="line">    requestInterceptorChain.<span class="title function_">unshift</span>(</span><br><span class="line">      interceptor.<span class="property">fulfilled</span>,</span><br><span class="line">      interceptor.<span class="property">rejected</span></span><br><span class="line">    );</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="comment">// 响应拦截器相关代码</span></span><br><span class="line">  <span class="keyword">var</span> responseInterceptorChain = [];</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">interceptors</span>.<span class="property">response</span>.<span class="title function_">forEach</span>(<span class="keyword">function</span> <span class="title function_">pushResponseInterceptors</span>(<span class="params"></span></span><br><span class="line"><span class="params">    interceptor</span></span><br><span class="line"><span class="params">  </span>) &#123;</span><br><span class="line">    responseInterceptorChain.<span class="title function_">push</span>(interceptor.<span class="property">fulfilled</span>, interceptor.<span class="property">rejected</span>);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> promise;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (!synchronousRequestInterceptors) &#123;</span><br><span class="line">    <span class="keyword">var</span> chain = [dispatchRequest, <span class="literal">undefined</span>];</span><br><span class="line"></span><br><span class="line">    <span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">unshift</span>.<span class="title function_">apply</span>(chain, requestInterceptorChain);</span><br><span class="line">    chain = chain.<span class="title function_">concat</span>(responseInterceptorChain);</span><br><span class="line"></span><br><span class="line">    promise = <span class="title class_">Promise</span>.<span class="title function_">resolve</span>(config);</span><br><span class="line">    <span class="keyword">while</span> (chain.<span class="property">length</span>) &#123;</span><br><span class="line">      promise = promise.<span class="title function_">then</span>(chain.<span class="title function_">shift</span>(), chain.<span class="title function_">shift</span>());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> promise;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> newConfig = config;</span><br><span class="line">  <span class="keyword">while</span> (requestInterceptorChain.<span class="property">length</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> onFulfilled = requestInterceptorChain.<span class="title function_">shift</span>();</span><br><span class="line">    <span class="keyword">var</span> onRejected = requestInterceptorChain.<span class="title function_">shift</span>();</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      newConfig = <span class="title function_">onFulfilled</span>(newConfig);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">      <span class="title function_">onRejected</span>(error);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    promise = <span class="title function_">dispatchRequest</span>(newConfig);</span><br><span class="line">  &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (responseInterceptorChain.<span class="property">length</span>) &#123;</span><br><span class="line">    promise = promise.<span class="title function_">then</span>(</span><br><span class="line">      responseInterceptorChain.<span class="title function_">shift</span>(),</span><br><span class="line">      responseInterceptorChain.<span class="title function_">shift</span>()</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> promise;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="拦截器管理"><a href="#拦截器管理" class="headerlink" title="拦截器管理"></a>拦截器管理</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// /lib/core/InterceptorManager.js</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> utils = <span class="built_in">require</span>(<span class="string">&quot;./../utils&quot;</span>);</span><br><span class="line"><span class="comment">// 回调数组</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">InterceptorManager</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">handlers</span> = [];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 将新的拦截器添加到回调中</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">Function</span>&#125; fulfilled The function to handle `then` for a `Promise`</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">Function</span>&#125; rejected The function to handle `reject` for a `Promise`</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">Number</span>&#125; An ID used to remove interceptor later</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="title class_">InterceptorManager</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">use</span> = <span class="keyword">function</span> <span class="title function_">use</span>(<span class="params">fulfilled, rejected, options</span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">handlers</span>.<span class="title function_">push</span>(&#123;</span><br><span class="line">    <span class="attr">fulfilled</span>: fulfilled,</span><br><span class="line">    <span class="attr">rejected</span>: rejected,</span><br><span class="line">    <span class="attr">synchronous</span>: options ? options.<span class="property">synchronous</span> : <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">runWhen</span>: options ? options.<span class="property">runWhen</span> : <span class="literal">null</span>,</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">handlers</span>.<span class="property">length</span> - <span class="number">1</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 删除拦截器</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">Number</span>&#125; id The ID that was returned by `use`</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="title class_">InterceptorManager</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">eject</span> = <span class="keyword">function</span> <span class="title function_">eject</span>(<span class="params">id</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">handlers</span>[id]) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">handlers</span>[id] = <span class="literal">null</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 遍历拦截器</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">Function</span>&#125; fn The function to call for each interceptor</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="title class_">InterceptorManager</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">forEach</span> = <span class="keyword">function</span> <span class="title function_">forEach</span>(<span class="params">fn</span>) &#123;</span><br><span class="line">  utils.<span class="title function_">forEach</span>(<span class="variable language_">this</span>.<span class="property">handlers</span>, <span class="keyword">function</span> <span class="title function_">forEachHandler</span>(<span class="params">h</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (h !== <span class="literal">null</span>) &#123;</span><br><span class="line">      <span class="title function_">fn</span>(h);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="title class_">InterceptorManager</span>;</span><br></pre></td></tr></table></figure><p>总结：</p><ul><li><code>InterceptorManager</code>是一个管理拦截器的类，它包含一个<code>handlers</code>数组，用于存储拦截器。<code>use</code>方法用于添加拦截器，<code>eject</code>方法用于删除拦截器，<code>forEach</code>方法用于遍历拦截器。</li><li>在使用拦截器时，调用的<code>use</code>实际上是调用的<code>InterceptorManager</code>的<code>use</code>方法</li></ul><h2 id="请求拦截器"><a href="#请求拦截器" class="headerlink" title="请求拦截器"></a>请求拦截器</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> requestInterceptorChain = [];</span><br><span class="line"><span class="keyword">var</span> synchronousRequestInterceptors = <span class="literal">true</span>;</span><br><span class="line"><span class="comment">// this.interceptors指向的是在文件`/lib/core/Axios.js`中Axios方法中定义的`this.interceptors`</span></span><br><span class="line"><span class="comment">// this.interceptors是一个InterceptorManager实例</span></span><br><span class="line"><span class="comment">// 在外部(项目)调用axios.interceptors.request的时候，会把对应的请求回调加入到this.interceptors.request的handlers中</span></span><br><span class="line"><span class="comment">// 这里的this.interceptors.request实际调用的是InterceptorManager的`forEach`方法，所以这里的foreach实际是遍历this.interceptors.request的handlers数组</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">interceptors</span>.<span class="property">request</span>.<span class="title function_">forEach</span>(<span class="keyword">function</span> <span class="title function_">unshiftRequestInterceptors</span>(<span class="params"></span></span><br><span class="line"><span class="params">  interceptor</span></span><br><span class="line"><span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (</span><br><span class="line">    <span class="keyword">typeof</span> interceptor.<span class="property">runWhen</span> === <span class="string">&quot;function&quot;</span> &amp;&amp;</span><br><span class="line">    interceptor.<span class="title function_">runWhen</span>(config) === <span class="literal">false</span></span><br><span class="line">  ) &#123;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 判断请求拦截器中是否有异步的函数</span></span><br><span class="line">  synchronousRequestInterceptors =</span><br><span class="line">    synchronousRequestInterceptors &amp;&amp; interceptor.<span class="property">synchronous</span>;</span><br><span class="line">  <span class="comment">// 将请求拦截器的回调方法加入到requestInterceptorChain中，注意这里其实是以request的顺序倒叙了一次</span></span><br><span class="line">  <span class="comment">// 即如果request.handlers = [1,2,3]</span></span><br><span class="line">  <span class="comment">// 那么requestInterceptorChain = [3,2,1]</span></span><br><span class="line">  requestInterceptorChain.<span class="title function_">unshift</span>(interceptor.<span class="property">fulfilled</span>, interceptor.<span class="property">rejected</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// 如果请求拦截器中有异步的函数</span></span><br><span class="line"><span class="keyword">if</span> (!synchronousRequestInterceptors) &#123;</span><br><span class="line">  <span class="comment">// dispatchRequest是实际的请求</span></span><br><span class="line">    <span class="keyword">var</span> chain = [dispatchRequest, <span class="literal">undefined</span>];</span><br><span class="line">    <span class="comment">// chain组成一个[请求拦截器1成功， 请求拦截器1失败，请求拦截器2成功，请求拦截器2失败，实际请求，响应拦截器1成功，响应拦截器1失败，响应拦截器2成功，响应拦截器2失败]</span></span><br><span class="line">    <span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">unshift</span>.<span class="title function_">apply</span>(chain, requestInterceptorChain);</span><br><span class="line">    chain = chain.<span class="title function_">concat</span>(responseInterceptorChain);</span><br><span class="line"></span><br><span class="line">    promise = <span class="title class_">Promise</span>.<span class="title function_">resolve</span>(config);</span><br><span class="line">    <span class="keyword">while</span> (chain.<span class="property">length</span>) &#123;</span><br><span class="line">      <span class="comment">// 执行顺序应该为：</span></span><br><span class="line">      <span class="comment">// promise.then(请求拦截器1成功， 请求拦截器1失败)</span></span><br><span class="line">      <span class="comment">// promise.then(请求拦截器2成功，请求拦截器2失败)</span></span><br><span class="line">      <span class="comment">// promise.then(实际请求, undefined)</span></span><br><span class="line">      <span class="comment">// promise.then(响应拦截器1成功，响应拦截器1失败)</span></span><br><span class="line">      <span class="comment">// promise.then(响应拦截器2成功，响应拦截器2失败)</span></span><br><span class="line">      promise = promise.<span class="title function_">then</span>(chain.<span class="title function_">shift</span>(), chain.<span class="title function_">shift</span>());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> promise;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 无关代码...</span></span><br><span class="line"><span class="comment">// 将原有的请求配置浅拷贝一份出来</span></span><br><span class="line"><span class="keyword">var</span> newConfig = config;</span><br><span class="line"><span class="comment">// 循环执行requestInterceptorChain中的回调方法;</span></span><br><span class="line"><span class="keyword">while</span> (requestInterceptorChain.<span class="property">length</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> onFulfilled = requestInterceptorChain.<span class="title function_">shift</span>();</span><br><span class="line">  <span class="keyword">var</span> onRejected = requestInterceptorChain.<span class="title function_">shift</span>();</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="comment">// 执行新的请求拦截器，并将请求拦截器的结果作为下一次执行请求拦截器的参数</span></span><br><span class="line">    newConfig = <span class="title function_">onFulfilled</span>(newConfig);</span><br><span class="line">  &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">    <span class="comment">// 如果请求拦截器中报错，那么不执行后续的操作</span></span><br><span class="line">    <span class="title function_">onRejected</span>(error);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 执行请求</span></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  promise = <span class="title function_">dispatchRequest</span>(newConfig);</span><br><span class="line">&#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>总结：</p><ul><li>请求拦截器的执行顺序是与书写顺序相反的<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">axios.<span class="property">interceptors</span>.<span class="property">request</span>.<span class="title function_">use</span>(</span><br><span class="line">  <span class="function">(<span class="params">config: any</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;请求拦截器1&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> config;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(err);</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br><span class="line">axios.<span class="property">interceptors</span>.<span class="property">request</span>.<span class="title function_">use</span>(</span><br><span class="line">  <span class="function">(<span class="params">config: any</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;请求拦截器2&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> config;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(err);</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br><span class="line"><span class="comment">// 执行结果：</span></span><br><span class="line"><span class="comment">// 请求拦截器2</span></span><br><span class="line"><span class="comment">// 请求拦截器1</span></span><br></pre></td></tr></table></figure></li><li>请求拦截器中如果报错，那么不执行后续的操作</li><li>如果请求拦截器中传入<code>synchronous=false</code>表示为异步请求，默认都是异步请求处理操作</li><li>如果是异步请求，axios是和相应拦截器一样的处理，用Promise包裹了一层</li><li>如果是同步请求，那么是直接循环执行的</li></ul><h2 id="响应拦截器"><a href="#响应拦截器" class="headerlink" title="响应拦截器"></a>响应拦截器</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">  <span class="title class_">Axios</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">request</span> = <span class="keyword">function</span> <span class="title function_">request</span>(<span class="params">configOrUrl, config</span>) &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="comment">// 响应拦截器数组</span></span><br><span class="line">  <span class="keyword">var</span> responseInterceptorChain = [];</span><br><span class="line">  <span class="comment">// 按书写顺序将响应拦截器加入到数组中</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">interceptors</span>.<span class="property">response</span>.<span class="title function_">forEach</span>(<span class="keyword">function</span> <span class="title function_">pushResponseInterceptors</span>(<span class="params">interceptor</span>) &#123;</span><br><span class="line">    responseInterceptorChain.<span class="title function_">push</span>(interceptor.<span class="property">fulfilled</span>, interceptor.<span class="property">rejected</span>);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 无关代码...</span></span><br><span class="line">  <span class="keyword">var</span> promise;</span><br><span class="line">  <span class="comment">// 执行真实请求</span></span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    promise = <span class="title function_">dispatchRequest</span>(newConfig);</span><br><span class="line">  &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 按书写顺序执行响应拦截器，并且是以异步执行的</span></span><br><span class="line">  <span class="keyword">while</span> (responseInterceptorChain.<span class="property">length</span>) &#123;</span><br><span class="line">    promise = promise.<span class="title function_">then</span>(responseInterceptorChain.<span class="title function_">shift</span>(), responseInterceptorChain.<span class="title function_">shift</span>());</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> promise;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>总结：</p><ul><li>与请求拦截器执行顺序不同，响应拦截器按书写顺序执行</li><li>响应拦截器是默认用异步函数包裹了一层，而请求拦截器是将同步和异步分为两种情况的</li></ul><h2 id="参链"><a href="#参链" class="headerlink" title="参链"></a>参链</h2><ul><li><p><a href="https://mp.weixin.qq.com/s?__biz=MzA5MjQwMzQyNw==&mid=2650744604&idx=1&sn=51d8d865c9848fd59f7763f5fb9ce789&chksm=88662490bf11ad86061ae76ff71a1177eeddab02c38d046eecd0e1ad25dc16f7591f91e9e3b2&scene=21#wechat_redirect">学习 axios 源码整体架构，打造属于自己的请求库</a></p></li><li><p><a href="http://www.axios-js.com/zh-cn/docs/#axios-spread-callback">axios官网</a></p></li></ul>]]></content>
      
      
      <categories>
          
          <category> axios 源码 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> axios 源码 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>axios请求流程</title>
      <link href="/2024/03/22/%E3%80%90%E6%BA%90%E7%A0%81%E3%80%91axios-%E6%B5%81%E7%A8%8B/"/>
      <url>/2024/03/22/%E3%80%90%E6%BA%90%E7%A0%81%E3%80%91axios-%E6%B5%81%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<h2 id="入口"><a href="#入口" class="headerlink" title="入口"></a>入口</h2><p>axios的入口是<code>/lib/axios.js</code>，实际主要的流程在<code>/lib/core/Axios.js</code>中</p><p>在<code>/lib/axios.js</code>中，创建了一个<code>/lib/core/Axios.js</code>实例，并继承了其父类的方法，其中就包括<code>get</code>&#x2F;<code>post</code>&#x2F;<code>delete</code>等方法</p><p><code>axios</code>实际是从<code>request</code>方法发起全部请求的，只是封装了<code>get</code>&#x2F;<code>post</code>&#x2F;<code>delete</code>等方法，</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// /lib/core/Axios.js</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Axios</span>(<span class="params">instanceConfig</span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">defaults</span> = instanceConfig;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">interceptors</span> = &#123;</span><br><span class="line">    <span class="attr">request</span>: <span class="keyword">new</span> <span class="title class_">InterceptorManager</span>(),</span><br><span class="line">    <span class="attr">response</span>: <span class="keyword">new</span> <span class="title class_">InterceptorManager</span>()</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// /lib/axios.js</span></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Axios</span> = <span class="built_in">require</span>(<span class="string">&#x27;./core/Axios&#x27;</span>);</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">createInstance</span>(<span class="params">defaultConfig</span>) &#123;</span><br><span class="line">  <span class="comment">// context的prototype上已经包含了get等方法</span></span><br><span class="line">  <span class="keyword">var</span> context = <span class="keyword">new</span> <span class="title class_">Axios</span>(defaultConfig);</span><br><span class="line">  <span class="comment">// 直接调用instance时，实际就是调用了request方法</span></span><br><span class="line">  <span class="comment">// 这就是为什么在调用axios时，除了可以通过get/post进行请求，也可以直接作为一个函数进行直接调用</span></span><br><span class="line">  <span class="keyword">var</span> instance = <span class="title function_">bind</span>(<span class="title class_">Axios</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">request</span>, context);</span><br><span class="line"></span><br><span class="line">  utils.<span class="title function_">extend</span>(instance, <span class="title class_">Axios</span>.<span class="property"><span class="keyword">prototype</span></span>, context);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Copy context to instance</span></span><br><span class="line">  utils.<span class="title function_">extend</span>(instance, context);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Factory for creating new instances</span></span><br><span class="line">  instance.<span class="property">create</span> = <span class="keyword">function</span> <span class="title function_">create</span>(<span class="params">instanceConfig</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">createInstance</span>(<span class="title function_">mergeConfig</span>(defaultConfig, instanceConfig));</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> instance;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="请求流程"><a href="#请求流程" class="headerlink" title="请求流程"></a>请求流程</h2><p>主要的请求流程都在<code>request</code>方法里，方法存在于<code>/lib/core/Axios.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// /lib/core/Axios.js</span></span><br><span class="line"><span class="title class_">Axios</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">request</span> = <span class="keyword">function</span> <span class="title function_">request</span>(<span class="params">configOrUrl, config</span>) &#123;</span><br><span class="line">  <span class="comment">// 适配无额外配置，直接传入url的情况</span></span><br><span class="line">  <span class="comment">// 比如 axios(&#x27;example/url&#x27;)</span></span><br><span class="line">  <span class="comment">// Allow for axios(&#x27;example/url&#x27;[, config]) a la fetch API</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> configOrUrl === <span class="string">&#x27;string&#x27;</span>) &#123;</span><br><span class="line">    config = config || &#123;&#125;;</span><br><span class="line">    config.<span class="property">url</span> = configOrUrl;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    config = configOrUrl || &#123;&#125;;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 将默认配置和传入的配置合并</span></span><br><span class="line">  config = <span class="title function_">mergeConfig</span>(<span class="variable language_">this</span>.<span class="property">defaults</span>, config);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 设置请求方法</span></span><br><span class="line">  <span class="keyword">if</span> (config.<span class="property">method</span>) &#123;</span><br><span class="line">    config.<span class="property">method</span> = config.<span class="property">method</span>.<span class="title function_">toLowerCase</span>();</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">defaults</span>.<span class="property">method</span>) &#123;</span><br><span class="line">    config.<span class="property">method</span> = <span class="variable language_">this</span>.<span class="property">defaults</span>.<span class="property">method</span>.<span class="title function_">toLowerCase</span>();</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    config.<span class="property">method</span> = <span class="string">&#x27;get&#x27;</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> transitional = config.<span class="property">transitional</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (transitional !== <span class="literal">undefined</span>) &#123;</span><br><span class="line">    validator.<span class="title function_">assertOptions</span>(transitional, &#123;</span><br><span class="line">      <span class="comment">// 版本兼容配置-返回值转换为 Json 出错时是否置为 null 返回</span></span><br><span class="line">      <span class="attr">silentJSONParsing</span>: validators.<span class="title function_">transitional</span>(validators.<span class="property">boolean</span>),</span><br><span class="line">      <span class="comment">// 版本兼容配置-responseType 设置非 json 类型时是否强制转换成 json 格式</span></span><br><span class="line">      <span class="attr">forcedJSONParsing</span>: validators.<span class="title function_">transitional</span>(validators.<span class="property">boolean</span>),</span><br><span class="line">      <span class="comment">// 版本兼容配置-请求超时时是否默认返回 ETIMEDOUT 类型错</span></span><br><span class="line">      <span class="attr">clarifyTimeoutError</span>: validators.<span class="title function_">transitional</span>(validators.<span class="property">boolean</span>)</span><br><span class="line">    &#125;, <span class="literal">false</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// filter out skipped interceptors</span></span><br><span class="line">  <span class="comment">// 请求拦截器数组</span></span><br><span class="line">  <span class="keyword">var</span> requestInterceptorChain = [];</span><br><span class="line">  <span class="keyword">var</span> synchronousRequestInterceptors = <span class="literal">true</span>;</span><br><span class="line">  <span class="comment">// 循环访问拦截器的请求数组，将其放在请求真实执行之前</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">interceptors</span>.<span class="property">request</span>.<span class="title function_">forEach</span>(<span class="keyword">function</span> <span class="title function_">unshiftRequestInterceptors</span>(<span class="params">interceptor</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> interceptor.<span class="property">runWhen</span> === <span class="string">&#x27;function&#x27;</span> &amp;&amp; interceptor.<span class="title function_">runWhen</span>(config) === <span class="literal">false</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    synchronousRequestInterceptors = synchronousRequestInterceptors &amp;&amp; interceptor.<span class="property">synchronous</span>;</span><br><span class="line"></span><br><span class="line">    requestInterceptorChain.<span class="title function_">unshift</span>(interceptor.<span class="property">fulfilled</span>, interceptor.<span class="property">rejected</span>);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 响应拦截器数组</span></span><br><span class="line">  <span class="comment">// 循环访问拦截器的响应数组，将其放在请求真实执行之后</span></span><br><span class="line">  <span class="keyword">var</span> responseInterceptorChain = [];</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">interceptors</span>.<span class="property">response</span>.<span class="title function_">forEach</span>(<span class="keyword">function</span> <span class="title function_">pushResponseInterceptors</span>(<span class="params">interceptor</span>) &#123;</span><br><span class="line">    responseInterceptorChain.<span class="title function_">push</span>(interceptor.<span class="property">fulfilled</span>, interceptor.<span class="property">rejected</span>);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> promise;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (!synchronousRequestInterceptors) &#123;</span><br><span class="line">    <span class="keyword">var</span> chain = [dispatchRequest, <span class="literal">undefined</span>];</span><br><span class="line"></span><br><span class="line">    <span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">unshift</span>.<span class="title function_">apply</span>(chain, requestInterceptorChain);</span><br><span class="line">    chain = chain.<span class="title function_">concat</span>(responseInterceptorChain);</span><br><span class="line"></span><br><span class="line">    promise = <span class="title class_">Promise</span>.<span class="title function_">resolve</span>(config);</span><br><span class="line">    <span class="keyword">while</span> (chain.<span class="property">length</span>) &#123;</span><br><span class="line">      promise = promise.<span class="title function_">then</span>(chain.<span class="title function_">shift</span>(), chain.<span class="title function_">shift</span>());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> promise;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> newConfig = config;</span><br><span class="line">  <span class="comment">// 一步步执行请求拦截器，并将其执行结果覆盖请求配置</span></span><br><span class="line">  <span class="keyword">while</span> (requestInterceptorChain.<span class="property">length</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> onFulfilled = requestInterceptorChain.<span class="title function_">shift</span>();</span><br><span class="line">    <span class="keyword">var</span> onRejected = requestInterceptorChain.<span class="title function_">shift</span>();</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      newConfig = <span class="title function_">onFulfilled</span>(newConfig);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">      <span class="title function_">onRejected</span>(error);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 执行请求</span></span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    promise = <span class="title function_">dispatchRequest</span>(newConfig);</span><br><span class="line">  &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// 一步步执行响应拦截器</span></span><br><span class="line">  <span class="keyword">while</span> (responseInterceptorChain.<span class="property">length</span>) &#123;</span><br><span class="line">    promise = promise.<span class="title function_">then</span>(responseInterceptorChain.<span class="title function_">shift</span>(), responseInterceptorChain.<span class="title function_">shift</span>());</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> promise;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>这里包含的流程如下：</p><ul><li>合并配置，包括默认配置和传入的配置</li><li>设置请求方法</li><li>请求拦截器 requestInterceptorChain</li><li>响应拦截器 responseInterceptorChain</li><li>执行请求（dispatchRequest），且是在请求拦截器之后，响应拦截器之前</li></ul><p>注意点：</p><ul><li>这里的执行是放在一个数组里面的，最开始只有实际的请求，然后在数组开头加上请求的拦截器函数，在数组最后加上请求的响应拦截器处理函数</li><li>拦截器的函数的参数是从上一个拦截器中返回的结果</li><li>默认请求头是<code>get</code></li></ul><h2 id="派发请求"><a href="#派发请求" class="headerlink" title="派发请求"></a>派发请求</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// /lib/core/dispatchRequest.js</span></span><br><span class="line"><span class="comment">// 派发请求</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="keyword">function</span> <span class="title function_">dispatchRequest</span>(<span class="params">config</span>) &#123;</span><br><span class="line">  <span class="comment">// 取消请求相关</span></span><br><span class="line">  <span class="title function_">throwIfCancellationRequested</span>(config);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Ensure headers exist</span></span><br><span class="line">  config.<span class="property">headers</span> = config.<span class="property">headers</span> || &#123;&#125;;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Transform the data for a request or a response</span></span><br><span class="line">  config.<span class="property">data</span> = transformData.<span class="title function_">call</span>(</span><br><span class="line">    config,</span><br><span class="line">    config.<span class="property">data</span>,<span class="comment">//方法参数，如果是多个方法，那么方法2的参数是由方法1的返回值决定的</span></span><br><span class="line">    config.<span class="property">headers</span>,<span class="comment">//请求头</span></span><br><span class="line">    config.<span class="property">transformRequest</span><span class="comment">//执行的方法，具体是在axios里面自己定义了，在/lib/defaults.js文件中，主要是用于请求头的修改</span></span><br><span class="line">  );</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 合并拉平请求头</span></span><br><span class="line">  config.<span class="property">headers</span> = utils.<span class="title function_">merge</span>(</span><br><span class="line">    config.<span class="property">headers</span>.<span class="property">common</span> || &#123;&#125;,</span><br><span class="line">    config.<span class="property">headers</span>[config.<span class="property">method</span>] || &#123;&#125;,</span><br><span class="line">    config.<span class="property">headers</span></span><br><span class="line">  );</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 如果是这些请求，那么就删除掉对应的请求头</span></span><br><span class="line">  utils.<span class="title function_">forEach</span>(</span><br><span class="line">    [<span class="string">&#x27;delete&#x27;</span>, <span class="string">&#x27;get&#x27;</span>, <span class="string">&#x27;head&#x27;</span>, <span class="string">&#x27;post&#x27;</span>, <span class="string">&#x27;put&#x27;</span>, <span class="string">&#x27;patch&#x27;</span>, <span class="string">&#x27;common&#x27;</span>],</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">cleanHeaderConfig</span>(<span class="params">method</span>) &#123;</span><br><span class="line">      <span class="keyword">delete</span> config.<span class="property">headers</span>[method];</span><br><span class="line">    &#125;</span><br><span class="line">  );</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> adapter = config.<span class="property">adapter</span> || defaults.<span class="property">adapter</span>;</span><br><span class="line">  <span class="comment">// 执行适配器</span></span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">adapter</span>(config).<span class="title function_">then</span>(<span class="keyword">function</span> <span class="title function_">onAdapterResolution</span>(<span class="params">response</span>) &#123;</span><br><span class="line">    <span class="comment">// 取消相关请求的</span></span><br><span class="line">    <span class="title function_">throwIfCancellationRequested</span>(config);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Transform response data</span></span><br><span class="line">    response.<span class="property">data</span> = transformData.<span class="title function_">call</span>(</span><br><span class="line">      config,</span><br><span class="line">      response.<span class="property">data</span>,</span><br><span class="line">      response.<span class="property">headers</span>,</span><br><span class="line">      config.<span class="property">transformResponse</span><span class="comment">//执行的方法，具体是在axios里面自己定义了，在/lib/defaults.js文件中，主要是用于响应结果的修改</span></span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> response;</span><br><span class="line">  &#125;, <span class="keyword">function</span> <span class="title function_">onAdapterRejection</span>(<span class="params">reason</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="title function_">isCancel</span>(reason)) &#123;</span><br><span class="line">      <span class="title function_">throwIfCancellationRequested</span>(config);</span><br><span class="line"></span><br><span class="line">      <span class="comment">// Transform response data</span></span><br><span class="line">      <span class="keyword">if</span> (reason &amp;&amp; reason.<span class="property">response</span>) &#123;</span><br><span class="line">        reason.<span class="property">response</span>.<span class="property">data</span> = transformData.<span class="title function_">call</span>(</span><br><span class="line">          config,</span><br><span class="line">          reason.<span class="property">response</span>.<span class="property">data</span>,</span><br><span class="line">          reason.<span class="property">response</span>.<span class="property">headers</span>,</span><br><span class="line">          config.<span class="property">transformResponse</span></span><br><span class="line">        );</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(reason);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>流程：</p><ul><li>统一处理请求头</li><li>合并拉平请求头</li><li>某些请求会删除请求头的<code>config.headers[method]</code></li><li>执行请求</li><li>获取到响应数据后，统一处理响应结果</li></ul><p>注意点：</p><ul><li><code>[&#39;delete&#39;, &#39;get&#39;, &#39;head&#39;, &#39;post&#39;, &#39;put&#39;, &#39;patch&#39;, &#39;common&#39;]</code>这些请求axios会删除请求头的<code>config.headers[method]</code></li><li>关于请求头的统一额外处理，在这个阶段进行</li><li>关于响应结果的解析，是在这个阶段执行的</li></ul><h2 id="实际请求发送"><a href="#实际请求发送" class="headerlink" title="实际请求发送"></a>实际请求发送</h2><p>适配器解释了为什么axios可以在nodejs和浏览器里面都发送请求</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// /lib/defaults/index,js</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">getDefaultAdapter</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> adapter;</span><br><span class="line">  <span class="comment">// 如果是浏览器的环境，那么就用的是xhr</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="title class_">XMLHttpRequest</span> !== <span class="string">&#x27;undefined&#x27;</span>) &#123;</span><br><span class="line">    <span class="comment">// For browsers use XHR adapter</span></span><br><span class="line">    adapter = <span class="built_in">require</span>(<span class="string">&#x27;../adapters/xhr&#x27;</span>);</span><br><span class="line">  <span class="comment">// 如果是非浏览器的环境（例如nodejs），那么就用的是http的文件</span></span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span> process !== <span class="string">&#x27;undefined&#x27;</span> &amp;&amp; <span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(process) === <span class="string">&#x27;[object process]&#x27;</span>) &#123;</span><br><span class="line">    <span class="comment">// For node use HTTP adapter</span></span><br><span class="line">    adapter = <span class="built_in">require</span>(<span class="string">&#x27;../adapters/http&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> adapter;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// /lib/adapters/xhr.js</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="keyword">function</span> <span class="title function_">xhrAdapter</span>(<span class="params">config</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span> <span class="title function_">dispatchXhrRequest</span>(<span class="params">resolve, reject</span>) &#123;</span><br><span class="line">    <span class="comment">// 拿到请求配置项</span></span><br><span class="line">    <span class="keyword">var</span> requestData = config.<span class="property">data</span>;</span><br><span class="line">    <span class="keyword">var</span> requestHeaders = config.<span class="property">headers</span>;</span><br><span class="line">    <span class="keyword">var</span> responseType = config.<span class="property">responseType</span>;</span><br><span class="line">    <span class="keyword">var</span> onCanceled;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">done</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="comment">// 如果有取消的，那么走取消请求</span></span><br><span class="line">      <span class="keyword">if</span> (config.<span class="property">cancelToken</span>) &#123;</span><br><span class="line">        config.<span class="property">cancelToken</span>.<span class="title function_">unsubscribe</span>(onCanceled);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (config.<span class="property">signal</span>) &#123;</span><br><span class="line">        config.<span class="property">signal</span>.<span class="title function_">removeEventListener</span>(<span class="string">&#x27;abort&#x27;</span>, onCanceled);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 设置form请求的请求头</span></span><br><span class="line">    <span class="keyword">if</span> (utils.<span class="title function_">isFormData</span>(requestData) &amp;&amp; utils.<span class="title function_">isStandardBrowserEnv</span>()) &#123;</span><br><span class="line">      <span class="keyword">delete</span> requestHeaders[<span class="string">&#x27;Content-Type&#x27;</span>]; <span class="comment">// Let the browser set it</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 创建xhr请求</span></span><br><span class="line">    <span class="keyword">var</span> request = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 如果有设置授权相关的，那么配置其请求头</span></span><br><span class="line">    <span class="keyword">if</span> (config.<span class="property">auth</span>) &#123;</span><br><span class="line">      <span class="keyword">var</span> username = config.<span class="property">auth</span>.<span class="property">username</span> || <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">      <span class="keyword">var</span> password = config.<span class="property">auth</span>.<span class="property">password</span> ? <span class="built_in">unescape</span>(<span class="built_in">encodeURIComponent</span>(config.<span class="property">auth</span>.<span class="property">password</span>)) : <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">      requestHeaders.<span class="property">Authorization</span> = <span class="string">&#x27;Basic &#x27;</span> + <span class="title function_">btoa</span>(username + <span class="string">&#x27;:&#x27;</span> + password);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> fullPath = <span class="title function_">buildFullPath</span>(config.<span class="property">baseURL</span>, config.<span class="property">url</span>);</span><br><span class="line"></span><br><span class="line">    request.<span class="title function_">open</span>(config.<span class="property">method</span>.<span class="title function_">toUpperCase</span>(), <span class="title function_">buildURL</span>(fullPath, config.<span class="property">params</span>, config.<span class="property">paramsSerializer</span>), <span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Set the request timeout in MS</span></span><br><span class="line">    request.<span class="property">timeout</span> = config.<span class="property">timeout</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">onloadend</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (!request) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// Prepare the response</span></span><br><span class="line">      <span class="keyword">var</span> responseHeaders = <span class="string">&#x27;getAllResponseHeaders&#x27;</span> <span class="keyword">in</span> request ? <span class="title function_">parseHeaders</span>(request.<span class="title function_">getAllResponseHeaders</span>()) : <span class="literal">null</span>;</span><br><span class="line">      <span class="keyword">var</span> responseData = !responseType || responseType === <span class="string">&#x27;text&#x27;</span> ||  responseType === <span class="string">&#x27;json&#x27;</span> ?</span><br><span class="line">        request.<span class="property">responseText</span> : request.<span class="property">response</span>;</span><br><span class="line">      <span class="keyword">var</span> response = &#123;</span><br><span class="line">        <span class="attr">data</span>: responseData,</span><br><span class="line">        <span class="attr">status</span>: request.<span class="property">status</span>,</span><br><span class="line">        <span class="attr">statusText</span>: request.<span class="property">statusText</span>,</span><br><span class="line">        <span class="attr">headers</span>: responseHeaders,</span><br><span class="line">        <span class="attr">config</span>: config,</span><br><span class="line">        <span class="attr">request</span>: request</span><br><span class="line">      &#125;;</span><br><span class="line"></span><br><span class="line">      <span class="title function_">settle</span>(<span class="keyword">function</span> <span class="title function_">_resolve</span>(<span class="params">value</span>) &#123;</span><br><span class="line">        <span class="title function_">resolve</span>(value);</span><br><span class="line">        <span class="title function_">done</span>();</span><br><span class="line">      &#125;, <span class="keyword">function</span> <span class="title function_">_reject</span>(<span class="params">err</span>) &#123;</span><br><span class="line">        <span class="title function_">reject</span>(err);</span><br><span class="line">        <span class="title function_">done</span>();</span><br><span class="line">      &#125;, response);</span><br><span class="line"></span><br><span class="line">      <span class="comment">// Clean up request</span></span><br><span class="line">      request = <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="string">&#x27;onloadend&#x27;</span> <span class="keyword">in</span> request) &#123;</span><br><span class="line">      <span class="comment">// Use onloadend if available</span></span><br><span class="line">      request.<span class="property">onloadend</span> = onloadend;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// Listen for ready state to emulate onloadend</span></span><br><span class="line">      request.<span class="property">onreadystatechange</span> = <span class="keyword">function</span> <span class="title function_">handleLoad</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!request || request.<span class="property">readyState</span> !== <span class="number">4</span>) &#123;</span><br><span class="line">          <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// The request errored out and we didn&#x27;t get a response, this will be</span></span><br><span class="line">        <span class="comment">// handled by onerror instead</span></span><br><span class="line">        <span class="comment">// With one exception: request that using file: protocol, most browsers</span></span><br><span class="line">        <span class="comment">// will return status as 0 even though it&#x27;s a successful request</span></span><br><span class="line">        <span class="keyword">if</span> (request.<span class="property">status</span> === <span class="number">0</span> &amp;&amp; !(request.<span class="property">responseURL</span> &amp;&amp; request.<span class="property">responseURL</span>.<span class="title function_">indexOf</span>(<span class="string">&#x27;file:&#x27;</span>) === <span class="number">0</span>)) &#123;</span><br><span class="line">          <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// readystate handler is calling before onerror or ontimeout handlers,</span></span><br><span class="line">        <span class="comment">// so we should call onloadend on the next &#x27;tick&#x27;</span></span><br><span class="line">        <span class="built_in">setTimeout</span>(onloadend);</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Handle browser request cancellation (as opposed to a manual cancellation)</span></span><br><span class="line">    request.<span class="property">onabort</span> = <span class="keyword">function</span> <span class="title function_">handleAbort</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (!request) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="title function_">reject</span>(<span class="keyword">new</span> <span class="title class_">AxiosError</span>(<span class="string">&#x27;Request aborted&#x27;</span>, <span class="title class_">AxiosError</span>.<span class="property">ECONNABORTED</span>, config, request));</span><br><span class="line"></span><br><span class="line">      <span class="comment">// Clean up request</span></span><br><span class="line">      request = <span class="literal">null</span>;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Handle low level network errors</span></span><br><span class="line">    request.<span class="property">onerror</span> = <span class="keyword">function</span> <span class="title function_">handleError</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="comment">// Real errors are hidden from us by the browser</span></span><br><span class="line">      <span class="comment">// onerror should only fire if it&#x27;s a network error</span></span><br><span class="line">      <span class="title function_">reject</span>(<span class="keyword">new</span> <span class="title class_">AxiosError</span>(<span class="string">&#x27;Network Error&#x27;</span>, <span class="title class_">AxiosError</span>.<span class="property">ERR_NETWORK</span>, config, request, request));</span><br><span class="line"></span><br><span class="line">      <span class="comment">// Clean up request</span></span><br><span class="line">      request = <span class="literal">null</span>;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Handle timeout</span></span><br><span class="line">    request.<span class="property">ontimeout</span> = <span class="keyword">function</span> <span class="title function_">handleTimeout</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">var</span> timeoutErrorMessage = config.<span class="property">timeout</span> ? <span class="string">&#x27;timeout of &#x27;</span> + config.<span class="property">timeout</span> + <span class="string">&#x27;ms exceeded&#x27;</span> : <span class="string">&#x27;timeout exceeded&#x27;</span>;</span><br><span class="line">      <span class="keyword">var</span> transitional = config.<span class="property">transitional</span> || transitionalDefaults;</span><br><span class="line">      <span class="keyword">if</span> (config.<span class="property">timeoutErrorMessage</span>) &#123;</span><br><span class="line">        timeoutErrorMessage = config.<span class="property">timeoutErrorMessage</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="title function_">reject</span>(<span class="keyword">new</span> <span class="title class_">AxiosError</span>(</span><br><span class="line">        timeoutErrorMessage,</span><br><span class="line">        transitional.<span class="property">clarifyTimeoutError</span> ? <span class="title class_">AxiosError</span>.<span class="property">ETIMEDOUT</span> : <span class="title class_">AxiosError</span>.<span class="property">ECONNABORTED</span>,</span><br><span class="line">        config,</span><br><span class="line">        request));</span><br><span class="line"></span><br><span class="line">      <span class="comment">// Clean up request</span></span><br><span class="line">      request = <span class="literal">null</span>;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Add xsrf header</span></span><br><span class="line">    <span class="comment">// This is only done if running in a standard browser environment.</span></span><br><span class="line">    <span class="comment">// Specifically not if we&#x27;re in a web worker, or react-native.</span></span><br><span class="line">    <span class="keyword">if</span> (utils.<span class="title function_">isStandardBrowserEnv</span>()) &#123;</span><br><span class="line">      <span class="comment">// Add xsrf header</span></span><br><span class="line">      <span class="keyword">var</span> xsrfValue = (config.<span class="property">withCredentials</span> || <span class="title function_">isURLSameOrigin</span>(fullPath)) &amp;&amp; config.<span class="property">xsrfCookieName</span> ?</span><br><span class="line">        cookies.<span class="title function_">read</span>(config.<span class="property">xsrfCookieName</span>) :</span><br><span class="line">        <span class="literal">undefined</span>;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (xsrfValue) &#123;</span><br><span class="line">        requestHeaders[config.<span class="property">xsrfHeaderName</span>] = xsrfValue;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Add headers to the request</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="string">&#x27;setRequestHeader&#x27;</span> <span class="keyword">in</span> request) &#123;</span><br><span class="line">      utils.<span class="title function_">forEach</span>(requestHeaders, <span class="keyword">function</span> <span class="title function_">setRequestHeader</span>(<span class="params">val, key</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">typeof</span> requestData === <span class="string">&#x27;undefined&#x27;</span> &amp;&amp; key.<span class="title function_">toLowerCase</span>() === <span class="string">&#x27;content-type&#x27;</span>) &#123;</span><br><span class="line">          <span class="comment">// Remove Content-Type if data is undefined</span></span><br><span class="line">          <span class="keyword">delete</span> requestHeaders[key];</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="comment">// Otherwise add header to the request</span></span><br><span class="line">          request.<span class="title function_">setRequestHeader</span>(key, val);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Add withCredentials to request if needed</span></span><br><span class="line">    <span class="keyword">if</span> (!utils.<span class="title function_">isUndefined</span>(config.<span class="property">withCredentials</span>)) &#123;</span><br><span class="line">      request.<span class="property">withCredentials</span> = !!config.<span class="property">withCredentials</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Add responseType to request if needed</span></span><br><span class="line">    <span class="keyword">if</span> (responseType &amp;&amp; responseType !== <span class="string">&#x27;json&#x27;</span>) &#123;</span><br><span class="line">      request.<span class="property">responseType</span> = config.<span class="property">responseType</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Handle progress if needed</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> config.<span class="property">onDownloadProgress</span> === <span class="string">&#x27;function&#x27;</span>) &#123;</span><br><span class="line">      request.<span class="title function_">addEventListener</span>(<span class="string">&#x27;progress&#x27;</span>, config.<span class="property">onDownloadProgress</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Not all browsers support upload events</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> config.<span class="property">onUploadProgress</span> === <span class="string">&#x27;function&#x27;</span> &amp;&amp; request.<span class="property">upload</span>) &#123;</span><br><span class="line">      request.<span class="property">upload</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;progress&#x27;</span>, config.<span class="property">onUploadProgress</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 取消请求相关</span></span><br><span class="line">    <span class="keyword">if</span> (config.<span class="property">cancelToken</span> || config.<span class="property">signal</span>) &#123;</span><br><span class="line">      <span class="comment">// Handle cancellation</span></span><br><span class="line">      <span class="comment">// eslint-disable-next-line func-names</span></span><br><span class="line">      onCanceled = <span class="keyword">function</span>(<span class="params">cancel</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!request) &#123;</span><br><span class="line">          <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="title function_">reject</span>(!cancel || (cancel &amp;&amp; cancel.<span class="property">type</span>) ? <span class="keyword">new</span> <span class="title class_">CanceledError</span>() : cancel);</span><br><span class="line">        request.<span class="title function_">abort</span>();</span><br><span class="line">        request = <span class="literal">null</span>;</span><br><span class="line">      &#125;;</span><br><span class="line"></span><br><span class="line">      config.<span class="property">cancelToken</span> &amp;&amp; config.<span class="property">cancelToken</span>.<span class="title function_">subscribe</span>(onCanceled);</span><br><span class="line">      <span class="keyword">if</span> (config.<span class="property">signal</span>) &#123;</span><br><span class="line">        config.<span class="property">signal</span>.<span class="property">aborted</span> ? <span class="title function_">onCanceled</span>() : config.<span class="property">signal</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;abort&#x27;</span>, onCanceled);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!requestData) &#123;</span><br><span class="line">      requestData = <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> protocol = <span class="title function_">parseProtocol</span>(fullPath);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (protocol &amp;&amp; [ <span class="string">&#x27;http&#x27;</span>, <span class="string">&#x27;https&#x27;</span>, <span class="string">&#x27;file&#x27;</span> ].<span class="title function_">indexOf</span>(protocol) === -<span class="number">1</span>) &#123;</span><br><span class="line">      <span class="title function_">reject</span>(<span class="keyword">new</span> <span class="title class_">AxiosError</span>(<span class="string">&#x27;Unsupported protocol &#x27;</span> + protocol + <span class="string">&#x27;:&#x27;</span>, <span class="title class_">AxiosError</span>.<span class="property">ERR_BAD_REQUEST</span>, config));</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Send the request</span></span><br><span class="line">    request.<span class="title function_">send</span>(requestData);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>注意点：</p><ul><li><code>auth</code>是表示授权相关的请求头，axios会默认加上配置</li><li>如果是form表单请求，axios会删除<code>Content-Type</code>请求头</li><li>在这里也做了取消请求相关的，利用的是xhr的<code>abort</code>函数进行请求取消</li></ul><h2 id="参链"><a href="#参链" class="headerlink" title="参链"></a>参链</h2><ul><li><p><a href="https://mp.weixin.qq.com/s?__biz=MzA5MjQwMzQyNw==&mid=2650744604&idx=1&sn=51d8d865c9848fd59f7763f5fb9ce789&chksm=88662490bf11ad86061ae76ff71a1177eeddab02c38d046eecd0e1ad25dc16f7591f91e9e3b2&scene=21#wechat_redirect">学习 axios 源码整体架构，打造属于自己的请求库</a></p></li><li><p><a href="http://www.axios-js.com/zh-cn/docs/#axios-spread-callback">axios官网</a></p></li></ul>]]></content>
      
      
      <categories>
          
          <category> axios 源码 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> axios 源码 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【js】修饰器（Decorator）</title>
      <link href="/2024/03/06/%E3%80%90JS%E3%80%91%E4%BF%AE%E9%A5%B0%E5%99%A8/"/>
      <url>/2024/03/06/%E3%80%90JS%E3%80%91%E4%BF%AE%E9%A5%B0%E5%99%A8/</url>
      
        <content type="html"><![CDATA[<h2 id="修饰器"><a href="#修饰器" class="headerlink" title="修饰器"></a>修饰器</h2><p>修饰器是 ES7 的提案，是一种用于修改类、方法或属性的语法，它可以在不修改原始代码的情况下增强其功能。修饰器可以实现横切关注点（cross-cutting concerns）的功能，例如日志记录、性能分析、缓存等。通过将这些功能与原始代码分离，我们可以更好地组织和维护代码，并实现更高的可重用性和可扩展性。</p><p>它的出现可以解决其下两个问题:</p><ul><li><p>不同类之间共享方法</p></li><li><p>编译期对类和方法的行为进行改变</p></li></ul><h2 id="类修饰器"><a href="#类修饰器" class="headerlink" title="类修饰器"></a>类修饰器</h2><p>类修饰器用于修改类的行为和属性。它可以在类定义之前应用，以修改类的构造函数或原型。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">log</span>(<span class="params">target</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> originCon = target;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;log&quot;</span>, target);</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">newCon</span>(<span class="params">...args</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;newCon&quot;</span>, args);</span><br><span class="line">    args[<span class="number">0</span>] = <span class="string">&quot;234&quot;</span>; <span class="comment">//修改传给class的参数</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title function_">originCon</span>(...args);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> newCon;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@log</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">classA</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">props</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;classA&quot;</span>, props);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出：</span></span><br><span class="line"><span class="comment">// log class&#123;...&#125;</span></span><br><span class="line"><span class="keyword">const</span> objA = <span class="keyword">new</span> <span class="title function_">classA</span>(<span class="string">&quot;123&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出：</span></span><br><span class="line"><span class="comment">// new Con [&#x27;123&#x27;]</span></span><br><span class="line"><span class="comment">// classA [&#x27;234&#x27;]</span></span><br></pre></td></tr></table></figure><ul><li><p>访问静态属性</p><p>定义了一个修饰器函数 log，然后将这个修饰器应用在 classA，在使用这个修饰器的时候，就会执行修饰器函数 log。</p><p>但是如果需要访问类的静态属性或者方法，会直接报错：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">@log</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">classA</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">props</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;classA&quot;</span>, props);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">staticFn</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;staticFn&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">classA.<span class="title function_">staticFn</span>();</span><br><span class="line"><span class="comment">//   报错：TypeError: classA.staticFn is not a function</span></span><br></pre></td></tr></table></figure><p>因为 log 返回的新实例，不是原始的类，所以没有 staticFn 方法，导致报错。所以需要在修饰器函数中，将静态属性和方法进行赋值。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">log</span>(<span class="params">target</span>) &#123;</span><br><span class="line"><span class="keyword">const</span> originCon = target;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">dir</span>(target);</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">newCon</span>(<span class="params">...args</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;newCon&quot;</span>, args);</span><br><span class="line">    args[<span class="number">0</span>] = <span class="string">&quot;234&quot;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title function_">originCon</span>(...args);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 辅助函数，用于复制静态方法</span></span><br><span class="line">+  <span class="keyword">function</span> <span class="title function_">copyStatic</span>(<span class="params">originalConstructor, newConstructor</span>) &#123;</span><br><span class="line">+    <span class="title class_">Reflect</span>.<span class="title function_">ownKeys</span>(originalConstructor).<span class="title function_">forEach</span>(<span class="function">(<span class="params">prop</span>) =&gt;</span> &#123;</span><br><span class="line">+      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;prop&quot;</span>, prop);</span><br><span class="line">+      <span class="keyword">if</span> (prop !== <span class="string">&quot;prototype&quot;</span> &amp;&amp; prop !== <span class="string">&quot;length&quot;</span> &amp;&amp; prop !== <span class="string">&quot;name&quot;</span>) &#123;</span><br><span class="line">+        newConstructor[prop] = originalConstructor[prop];</span><br><span class="line">+      &#125;</span><br><span class="line">+    &#125;);</span><br><span class="line">+  &#125;</span><br><span class="line">+  <span class="title function_">copyStatic</span>(originCon, newCon);</span><br><span class="line"><span class="keyword">return</span> newCon;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">classA.<span class="title function_">staticFn</span>();</span><br><span class="line"></span><br><span class="line">输出：</span><br><span class="line"><span class="comment">// staticFn</span></span><br></pre></td></tr></table></figure></li><li><p>应用场景</p><ul><li><strong>日志记录</strong>：在类的方法执行前后记录日志信息。</li><li><strong>验证和授权</strong>：对类的方法进行验证和授权操作。</li><li><strong>性能分析</strong>：测量类的方法执行时间，进行性能分析。</li><li><strong>依赖注入</strong>：为类的构造函数注入依赖项。</li></ul></li></ul><h2 id="方法修饰器"><a href="#方法修饰器" class="headerlink" title="方法修饰器"></a>方法修饰器</h2><p>方法修饰器用于修改类的方法行为。它可以在方法定义之前应用，以修改方法的特性和行为。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">log</span>(<span class="params">target, name, descriptor</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">dir</span>(target);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">dir</span>(name);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">dir</span>(descriptor);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;初始化调用修饰器&quot;</span>);</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    ...descriptor,</span><br><span class="line">    <span class="attr">value</span>: <span class="keyword">function</span> (<span class="params">...args</span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;修饰器函数的方法&quot;</span>);</span><br><span class="line">      <span class="keyword">const</span> res = descriptor.<span class="property">value</span>.<span class="title function_">apply</span>(<span class="variable language_">this</span>, args);</span><br><span class="line">      <span class="keyword">return</span> res * <span class="number">100</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">classA</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">props</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;classA&quot;</span>, props);</span><br><span class="line">  &#125;</span><br><span class="line">  @log</span><br><span class="line">  <span class="title function_">addFn</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;调用了原始函数&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> objA = <span class="keyword">new</span> <span class="title function_">classA</span>(<span class="string">&quot;123&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> res = objA.<span class="title function_">addFn</span>(<span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;res&quot;</span>, res);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出：</span></span><br><span class="line"><span class="comment">// Object &#123; addFn, constructor: class classA &#125;</span></span><br><span class="line"><span class="comment">// addFn</span></span><br><span class="line"><span class="comment">// &#123;value: f addFn(a, b), enumerable: false, configurable: true, writable: true&#125;</span></span><br><span class="line"><span class="comment">// 初始化调用修饰器</span></span><br><span class="line"><span class="comment">// classA 123</span></span><br><span class="line"><span class="comment">// 修饰器函数的方法</span></span><br><span class="line"><span class="comment">// 调用了原始函数</span></span><br><span class="line"><span class="comment">// res 300</span></span><br></pre></td></tr></table></figure><p>方法修饰器函数接收三个参数，分别是<code>target</code>（类的原型或构造函数）、<code>name</code>（方法名）和<code>descriptor</code>（方法的属性描述符）。修改<code>descriptor.value</code>可以替换原有的方法</p><ul><li><p>应用场景</p></li><li><p><strong>日志记录</strong>：在方法执行前后记录日志信息。</p></li><li><p><strong>验证和授权</strong>：对方法进行验证和授权操作。</p></li><li><p><strong>性能分析</strong>：测量方法执行时间，进行性能分析。</p></li><li><p><strong>缓存</strong>：为方法添加缓存功能，提高性能。</p></li></ul><h2 id="属性修饰器"><a href="#属性修饰器" class="headerlink" title="属性修饰器"></a>属性修饰器</h2><p>用于修改类的属性行为。它可以在属性定义之前应用，以修改属性的特性和行为</p><p>虽然有很多博客说可以直接用类属性修饰器，但是个人实际使用了一下，并未成功</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">protoDec</span>(<span class="params">initVal</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params">target, name</span>) &#123;</span><br><span class="line">    target[name] = initVal;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">dir</span>(target);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(name);</span><br><span class="line">    <span class="keyword">let</span> val = target[name];</span><br><span class="line">    <span class="keyword">const</span> getter = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;获取值：&quot;</span>, val);</span><br><span class="line">      <span class="keyword">return</span> val;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">const</span> setter = <span class="keyword">function</span> (<span class="params">newVal</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="keyword">typeof</span> newVal === <span class="string">&quot;number&quot;</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;设置值：&quot;</span>, newVal);</span><br><span class="line">        val = newVal + <span class="number">1</span>;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&quot;设置值必须为数字&quot;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(target, name, &#123;</span><br><span class="line">      <span class="attr">get</span>: getter,</span><br><span class="line">      <span class="attr">set</span>: setter,</span><br><span class="line">      <span class="attr">enumerable</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">configurable</span>: <span class="literal">true</span>,</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">classA</span> &#123;</span><br><span class="line">  @<span class="title function_">protoDec</span>(<span class="string">&quot;0&quot;</span>)</span><br><span class="line">  num;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">props</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;classA&quot;</span>, props);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> objA = <span class="keyword">new</span> <span class="title function_">classA</span>(<span class="string">&quot;123&quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;objA&quot;</span>, objA.<span class="property">num</span>);</span><br><span class="line">objA.<span class="property">num</span> = <span class="number">100</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;objA&quot;</span>, objA.<span class="property">num</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 当前输出：</span></span><br><span class="line"><span class="comment">// Object &#123; num: &quot;0&quot; &#125;</span></span><br><span class="line"><span class="comment">// num</span></span><br><span class="line"><span class="comment">// classA 123</span></span><br><span class="line"><span class="comment">// objA undefined</span></span><br><span class="line"><span class="comment">// objA 100</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 预期输出：</span></span><br><span class="line"><span class="comment">// Object &#123; num: &quot;0&quot; &#125;</span></span><br><span class="line"><span class="comment">// num</span></span><br><span class="line"><span class="comment">// classA 123</span></span><br><span class="line"><span class="comment">// 获取值：0</span></span><br><span class="line"><span class="comment">// objA &quot;0&quot;</span></span><br><span class="line"><span class="comment">// 设置值：100</span></span><br><span class="line"><span class="comment">// objA 101</span></span><br></pre></td></tr></table></figure><h2 id="参数修饰器"><a href="#参数修饰器" class="headerlink" title="参数修饰器"></a>参数修饰器</h2><p>参数修饰器用于修改方法的参数行为。它可以在方法参数声明之前应用，以修改参数的特性和行为</p><p>参数装饰器只能用来<strong>监视</strong>一个方法的参数是否被传入，无法修改函数执行结果</p><p>参数装饰器表达式会在运行时当作函数被调用，传入下列 3 个参数：</p><ul><li>对于静态成员来说是类的构造函数，对于实例成员是类的原型对象。</li><li>成员的名字。</li><li>参数在函数参数列表中的索引。</li></ul><p>参数装饰器的返回值会被<strong>忽略</strong>。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">paramsDec</span>(<span class="params">target, name, index</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">dir</span>(target)</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">dir</span>(name)</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">dir</span>(index)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">classA</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">fn</span>(<span class="params">@paramsDec num1, @paramsDec num2</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;执行函数&quot;</span>)</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">props</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;classA&quot;</span>, props);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> objA = <span class="keyword">new</span> <span class="title function_">classA</span>(<span class="string">&quot;123&quot;</span>);</span><br><span class="line">objA.<span class="title function_">fn</span>(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">输出：</span><br><span class="line"><span class="title class_">Object</span> &#123;</span><br><span class="line">    <span class="attr">constructor</span>: <span class="keyword">class</span> <span class="title class_">classA</span>,</span><br><span class="line">    <span class="attr">fn</span>: ƒ <span class="title function_">fn</span>(num1, num2)</span><br><span class="line">&#125;</span><br><span class="line">fn</span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="title class_">Object</span> &#123;</span><br><span class="line">    <span class="attr">constructor</span>: <span class="keyword">class</span> <span class="title class_">classA</span>,</span><br><span class="line">    <span class="attr">fn</span>: ƒ <span class="title function_">fn</span>(num1, num2)</span><br><span class="line">&#125;</span><br><span class="line">fn</span><br><span class="line"><span class="number">0</span></span><br><span class="line">classA <span class="number">123</span></span><br><span class="line">执行函数</span><br></pre></td></tr></table></figure><h2 id="装饰器执行顺序"><a href="#装饰器执行顺序" class="headerlink" title="装饰器执行顺序"></a>装饰器执行顺序</h2><p>当多个装饰器应用在一个声明上时会进行如下步骤的操作：</p><ul><li>由上至下依次对装饰器表达式求值。</li><li>求值的结果会被当作函数，由下至上依次调用。</li></ul><h2 id="参链"><a href="#参链" class="headerlink" title="参链"></a>参链</h2><p><a href="https://www.coding-time.cn/js/advance/%E8%A3%85%E9%A5%B0%E5%99%A8.html#_8-%E5%B8%B8%E7%94%A8%E4%BF%AE%E9%A5%B0%E5%99%A8%E5%BA%93%E5%92%8C%E5%B7%A5%E5%85%B7">JavaScript修饰器：简化代码，增强功能</a></p><p><a href="https://www.tslang.cn/docs/handbook/decorators.html">装饰器</a></p>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>是否外部在调试</title>
      <link href="/2024/02/16/%E3%80%90%E4%B8%9A%E5%8A%A1%E5%9C%BA%E6%99%AF%E3%80%91%E6%98%AF%E5%90%A6%E5%A4%96%E9%83%A8%E5%9C%A8%E8%B0%83%E8%AF%95/"/>
      <url>/2024/02/16/%E3%80%90%E4%B8%9A%E5%8A%A1%E5%9C%BA%E6%99%AF%E3%80%91%E6%98%AF%E5%90%A6%E5%A4%96%E9%83%A8%E5%9C%A8%E8%B0%83%E8%AF%95/</url>
      
        <content type="html"><![CDATA[<ul><li><p>键盘</p><p>用F12键去判断是否有打开</p></li><li><p>浏览器内外宽度差</p></li><li><p>开发者人员工具变量是否为true</p></li><li><p>console</p></li><li><p>代码运行时间差</p>  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">const</span> time = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line"><span class="keyword">const</span> b = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">debugger</span></span><br><span class="line"><span class="keyword">const</span> time2 = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line"><span class="keyword">const</span> space = time2 - time;</span><br></pre></td></tr></table></figure></li><li><p>toString</p><p>  当鼠标放在函数名上时，会调用函数的toString方法</p>  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">isDebug</span>(<span class="params"></span>) &#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br><span class="line">isDebug.<span class="title function_">toString</span>() = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;debuging&#x27;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">isDebug</span>()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>caller</p><p>  返回函数调用方，监测栈的层数</p></li><li><p>监测非浏览器的环境</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> 业务场景 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 业务场景 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SSR和CSR</title>
      <link href="/2024/02/16/%E3%80%90%E5%89%8D%E7%AB%AF%E3%80%91SSR%E5%92%8CCSR/"/>
      <url>/2024/02/16/%E3%80%90%E5%89%8D%E7%AB%AF%E3%80%91SSR%E5%92%8CCSR/</url>
      
        <content type="html"><![CDATA[<h2 id="SSR"><a href="#SSR" class="headerlink" title="SSR"></a>SSR</h2><h3 id="工作流程"><a href="#工作流程" class="headerlink" title="工作流程"></a>工作流程</h3><ul><li><p>浏览器向网站发起请求</p></li><li><p>服务器接收到请求后，先查询数据库中的动态数据(如用户数据)，然后将数据通过模板引擎编译为HTML字符串，然后再返回给浏览器</p></li><li><p>浏览器接收到HTML文档后，将其渲染为可视的UI</p></li></ul><h3 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h3><p>有利于SEO，首屏渲染快</p><h2 id="CSR"><a href="#CSR" class="headerlink" title="CSR"></a>CSR</h2><h3 id="工作流程-1"><a href="#工作流程-1" class="headerlink" title="工作流程"></a>工作流程</h3><ul><li><p>浏览器发起请求</p></li><li><p>服务器接收到请求后，立即返回静态的HTML部分，这部分内容通常是与用户无关的静态数据</p></li><li><p>浏览器解析html文档，待js脚本加载完成后发起异步请求，获取动态数据</p></li><li><p>服务器接收到异步请求后，查询数据库并将动态数据返回给网络浏览器</p></li><li><p>浏览器接收到动态数据后，使用js将数据编译为html字符串并渲染为可视的UI</p></li></ul><h3 id="优点-1"><a href="#优点-1" class="headerlink" title="优点"></a>优点</h3><p>更好支持离线场景和前后端分离等</p>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 前端 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>性能指标</title>
      <link href="/2024/02/06/%E6%80%A7%E8%83%BD%E6%8C%87%E6%A0%87/"/>
      <url>/2024/02/06/%E6%80%A7%E8%83%BD%E6%8C%87%E6%A0%87/</url>
      
        <content type="html"><![CDATA[<h2 id="基于用户的性能指标"><a href="#基于用户的性能指标" class="headerlink" title="基于用户的性能指标"></a>基于用户的性能指标</h2><h3 id="FCP：白屏时间"><a href="#FCP：白屏时间" class="headerlink" title="FCP：白屏时间"></a>FCP：白屏时间</h3><h1></h1><table><thead><tr><th>FCP 时长</th><th>颜色编码</th><th>FCP 分数(HTTP 存档百分位数)</th></tr></thead><tbody><tr><td>0-2s</td><td><font color=green>快速</font></td><td>75-100</td></tr><tr><td>2-4s</td><td><font color=yellow>中等</font></td><td>50-74</td></tr><tr><td>&gt;4s</td><td><font color=red>慢</font></td><td>0-49</td></tr></tbody></table><h3 id="LCP：主要内容可见时间"><a href="#LCP：主要内容可见时间" class="headerlink" title="LCP：主要内容可见时间"></a>LCP：主要内容可见时间</h3><p>(可视区域最大-资源较大 元素到屏幕上的间隔时间)</p><h1></h1><p>并不是只初始加载页面的，而是指页面元素变化的时候</p><blockquote><p>LCP 考虑的元素</p></blockquote><ul><li><code>&lt;img&gt;</code>元素</li><li><code>&lt;image&gt;</code>元素的<code>&lt;svg&gt;</code></li><li><code>&lt;video&gt;</code></li><li>通过<code>[url()](https://developer.mozilla.org/en-US/docs/Web/CSS/url())</code>函数加载背景图片的元素</li><li>包含文本节点或者其他内联文字元素子级的块级元素</li></ul><table><thead><tr><th>LCP 时长</th><th>颜色编码</th></tr></thead><tbody><tr><td>0-2.5s</td><td><font color=green>快速</font></td></tr><tr><td>2.5-4s</td><td><font color=yellow>中等</font></td></tr><tr><td>&gt;4s</td><td><font color=red>慢</font></td></tr></tbody></table><h3 id="FID：首次输入延迟"><a href="#FID：首次输入延迟" class="headerlink" title="FID：首次输入延迟"></a>FID：首次输入延迟</h3><p>第一次与页面交互(点击按钮链接等)到浏览器实际能够响应这次交互的时间</p><h1></h1><blockquote><p>输入延迟是因为浏览器的主线程处于繁忙状态(比如忙于解析和执行程序加载的大量计算的 js)，导致无法及时响应用户。</p></blockquote><blockquote><p>第一次的输入延迟通常发生在 FCP 和 TTI 之间，因为页面虽然已经呈现了，但是还无法可靠交互</p></blockquote><table><thead><tr><th>FID 时长</th><th>颜色编码</th></tr></thead><tbody><tr><td>0-0.1s</td><td><font color=green>快速</font></td></tr><tr><td>0.1-0.3s</td><td><font color=yellow>中等</font></td></tr><tr><td>&gt;0.3s</td><td><font color=red>慢</font></td></tr></tbody></table><h3 id="TTI：第一次完全达到可交互状态"><a href="#TTI：第一次完全达到可交互状态" class="headerlink" title="TTI：第一次完全达到可交互状态"></a>TTI：第一次完全达到可交互状态</h3><p>浏览器可以持续性的响应用户的交互事件。完全达到可交互的状态时间点是在最后一个长文物(50ms 以上才能完成的任务)完成的事件，并且在随后的 5s 内网络和主线程是空闲的</p><h1></h1><table><thead><tr><th>TTI 时长</th><th>颜色编码</th></tr></thead><tbody><tr><td>0-3.8s</td><td><font color=green>快速</font></td></tr><tr><td>3.8-7.3s</td><td><font color=yellow>中等</font></td></tr><tr><td>&gt;7.3s</td><td><font color=red>慢</font></td></tr></tbody></table><h3 id="TBT：总阻塞时间"><a href="#TBT：总阻塞时间" class="headerlink" title="TBT：总阻塞时间"></a>TBT：总阻塞时间</h3><p>即 FCP 和 TTI 之间的间隔时长，在改时间范围内，主线程被阻塞足够长的时间以防止用户的输入事件。</p><h1></h1><blockquote><p>长任务，执行时长超过了 50ms</p></blockquote><blockquote><p>页面总阻塞时间&#x3D;FCP 和 TTI 之间发生的每个长任务的阻塞时间总和</p></blockquote><blockquote><p>长任务的阻塞时间&#x3D;长任务的实际执行时长-50ms</p></blockquote><table><thead><tr><th>TBT 时长</th><th>颜色编码</th></tr></thead><tbody><tr><td>0-0.3s</td><td><font color=green>快速</font></td></tr><tr><td>0.3-0.6s</td><td><font color=yellow>中等</font></td></tr><tr><td>&gt;0.6s</td><td><font color=red>慢</font></td></tr></tbody></table><h3 id="CLS：累计布局偏移"><a href="#CLS：累计布局偏移" class="headerlink" title="CLS：累计布局偏移"></a>CLS：累计布局偏移</h3><p>在整个生命周期中发生的每个意外的布局移位(即在不是预计的位置偏移或者样式错乱)的所有单独布局。</p><p>保证页面的视觉稳定性</p><h1></h1><blockquote><p>元素的意外移动通常是由于异步加载资源或者 DOM 元素动态添加到现有内容商法的页面而发生的</p></blockquote><blockquote><p>可能是由于尺寸未知的多媒体资源，字体变化或者动态调整自身大小的第三方广告、小部件</p></blockquote><table><thead><tr><th>TBT 时长</th><th>颜色编码</th></tr></thead><tbody><tr><td>0-0.1ms</td><td><font color=green>快速</font></td></tr><tr><td>0.1-0.25ms</td><td><font color=yellow>中等</font></td></tr><tr><td>&gt;0.25ms</td><td><font color=red>慢</font></td></tr></tbody></table><h3 id="速度指数-SI-：页面可视区域中内容的填充速度"><a href="#速度指数-SI-：页面可视区域中内容的填充速度" class="headerlink" title="速度指数(SI)：页面可视区域中内容的填充速度"></a>速度指数(SI)：页面可视区域中内容的填充速度</h3><p>计算页面可见区域内容显示的平均时间来衡量</p><h1></h1><blockquote><p>捕获浏览器加载页面过程的视频，然后对每 100ms 间隔的页面截图计算页面内容的填充百分比</p></blockquote><table><thead><tr><th>TBT 时长</th><th>颜色编码</th></tr></thead><tbody><tr><td>0-4.3s</td><td><font color=green>快速</font></td></tr><tr><td>4.3-5.8ms</td><td><font color=yellow>中等</font></td></tr><tr><td>&gt;5.8ms</td><td><font color=red>慢</font></td></tr></tbody></table><h2 id="RAIL-性能模型"><a href="#RAIL-性能模型" class="headerlink" title="RAIL 性能模型"></a><a href="https://zhuanlan.zhihu.com/p/422402515">RAIL 性能模型</a></h2><blockquote><p>RAIL</p></blockquote><ul><li>R(响应)：应该尽可能快速的响应用户，应该在 100ms 内相应用户</li><li>A(Animation)：在展示动画的时候，每一帧应该以 16ms 进行渲染，这样可以保持动画的一致性，避免卡顿</li><li>I(空闲)：当使用 JS 主线程的时候，应该把任务划分到执行时间小于 50ms 的片段中，这样可以释放线程以进行用户交互</li><li>L(加载)：应该在小于 1s 的时间内完成加载网页，且可以进行用户交互</li></ul><blockquote><p>感知延迟的时间窗口</p></blockquote><table><thead><tr><th>延迟时长</th><th>用户反映</th></tr></thead><tbody><tr><td>0-16ms</td><td>人眼可以感知每秒 60 帧的动画，即每帧 16ms，除了浏览器将一帧画面绘制到屏幕上的时间，网站应用大约需要 10ms 生成一帧</td></tr><tr><td>0-100ms</td><td>在该范围内相应用户的操作，属于流畅的体验</td></tr><tr><td>100-1000ms</td><td>能够感知明显延迟</td></tr><tr><td>&gt;1s</td><td>用户注意力将离开对执行任务的关注</td></tr><tr><td>&gt;10s</td><td>感到过于长以至于失望，可能回放弃任务</td></tr></tbody></table><h2 id="Web-Vitals"><a href="#Web-Vitals" class="headerlink" title="Web Vitals"></a>Web Vitals</h2><h3 id="Core-Web-Vitals"><a href="#Core-Web-Vitals" class="headerlink" title="Core Web Vitals"></a>Core Web Vitals</h3><p>应用于所有 web 页面的 Web Vitals 子集，为其最重要的核心</p><p>主要指标</p><ul><li>LCP：加载性能</li><li>FID：交互性</li><li>CLS：视觉稳定性</li></ul><h2 id="测试工具"><a href="#测试工具" class="headerlink" title="测试工具"></a>测试工具</h2><ul><li>LightHouse</li><li><a href="https://www.webpagetest.org/">WebPageTest</a></li><li>DevTools</li></ul>]]></content>
      
      
      <categories>
          
          <category> 额外内容 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>从地址栏到页面展示的流程</title>
      <link href="/2024/02/06/%E8%BE%93%E5%85%A5url%E5%88%B0%E9%A1%B5%E9%9D%A2%E5%B1%95%E7%A4%BA/"/>
      <url>/2024/02/06/%E8%BE%93%E5%85%A5url%E5%88%B0%E9%A1%B5%E9%9D%A2%E5%B1%95%E7%A4%BA/</url>
      
        <content type="html"><![CDATA[<h2 id="浏览器进程"><a href="#浏览器进程" class="headerlink" title="浏览器进程"></a>浏览器进程</h2><h1></h1><blockquote><p>1、<font color=red>UI 线程</font>会判断输入的内容是搜索关键词还是 URL</p></blockquote><ul><li>如果是搜索关键词，跳转至默认搜索引擎对应都搜索 URL，</li><li>如果输入的内容是 URL，则开始请求 URL。</li></ul><blockquote><p>2、UI 线程将关键词搜索对应的 URL 或输入的 URL 交给<font color=red>网络线程</font></p></blockquote><ul><li>UI 线程使 Tab 前的图标展示为加载中状态</li></ul><blockquote><p>3、网络线程发出请求，获取请求返回内容</p></blockquote><ul><li>先查询是否有url是ip还是域名，如果是域名，先去进行查看是否有对应的ip解析缓存，没有就进行DNS查询</li><li>建立三次握手（AKC，seq这些）</li><li>发送请求</li><li>服务器返回请求</li><li>如果收到服务器的 301 重定向响应，它就会告知 UI 线程进行重定向然后它会再次发起一个新的网络请求。</li><li>根据响应头中的 Content-Type 字段来确定响应主体的媒体类型</li><li>如果媒体类型是一个<font color=red>HTML</font>文件，则将响应数据交给<font color=red>渲染进程</font></li><li>如果是<font color=red>zip </font>文件或者<font color=red>其它</font>文件，会把相关数据传输给<font color=red>存储线程</font>，下载管理器。</li><li>浏览器会进行 <font color=red>Safe Browsing </font>安全检查，如果域名或者请求内容匹配到已知的恶意站点，网络线程会展示一个<font color=red>警告页</font>。除此之外，网络线程还会做<font color=red> CORB</font>（Cross Origin Read Blocking）检查来确定那些敏感的跨站数据不会被发送至渲染进程</li><li>四次挥手</li></ul><blockquote><p>4、<font color=red>网络线程</font>确信浏览器可以导航到请求网页，网络线程会通知<font color=red> UI 线程</font>数据已经准备好，UI 线程会查找到一个 <font color=red>渲染进程</font>进行网页的渲染。</p></blockquote><ul><li>浏览器为了对查找渲染进程这一步骤进行优化，考虑到网络请求获取响应需要时间，所以在第二步开始，浏览器已经预先查找和启动了一个渲染进程，如果中间步骤一切顺利，当 network thread 接收到数据时，渲染进程已经准备好了，但是如果遇到重定向，这个准备好的渲染进程也许就不可用了，这个时候会重新启动一个渲染进程。</li></ul><blockquote><p>5、浏览器进程 会向 渲染进程 发送 IPC 消息(进程通信的一种方式)来确认导航</p></blockquote><ul><li>浏览器进程将准备好的数据发送给渲染进程，渲染进程接收到数据之后，又发送 IPC 消息给浏览器进程，告诉浏览器进程导航已经提交了，页面开始加载。</li></ul><blockquote><p>6、当导航提交完成后，渲染进程开始加载资源及渲染页面，当页面渲染完成后（页面及内部的 iframe 都触发了 onload 事件），会向浏览器进程发送 IPC 消息，告知浏览器进程，这个时候 UI thread 会停止展示 tab 中的加载中图标。</p></blockquote><h2 id="渲染进程-关键渲染路径-CRP"><a href="#渲染进程-关键渲染路径-CRP" class="headerlink" title="渲染进程-关键渲染路径(CRP)"></a>渲染进程-关键渲染路径(CRP)</h2><h1></h1><blockquote><p>当渲染进程接受到导航的确认信息后，开始接受来自浏览器进程的数据，<font color=red>主线程</font>会解析数据转化为 DOM 对象。</p></blockquote><ul><li>解析到图片、CSS、JavaScript 脚本等<font color=red>资源</font>，这些资源是需要从网络或者缓存中获取的，主线程在构建 DOM 过程中如果遇到了这些资源，逐一发起<font color=red>请求</font>去获取，而为了提升效率，浏览器也会运行<font color=red>预加载扫描</font>（preload scanner）程序。“预加载扫描器”是<font color=red>并发</font>运行的，如果如果 HTML 中存在 img、link 等标签，预加载扫描程序会把这些请求传递给<font color=red>浏览器进程的网络线程</font>进行资源下载。</li><li>找到一个<font color=red><code>&lt; script &gt;</code>标签</font>时，它会<font color=red>暂停</font> HTML 文档的解析，并且必须加载、解析和执行 JavaScript 代码。因为<font color=red> JS 可以使用<code>document.write()</code>改变整个 DOM 结构之类的东西来改变文档的形状</font>（ HTML 规范中的解析模型概述有一个很好的图表）。这就是 HTML 解析器必须等待 JavaScript 运行才能继续解析 HTML 文档的原因。<a href="https://mathiasbynens.be/notes/shapes-ics">V8 关于 JS 执行中的事情</a></li><li>因此如果 js 没有<code>document.write()</code>，可以添加 async 或 defer 属性到<code>&lt; script &gt;</code>标签。然后浏览器异步加载和运行 JavaScript 代码，这样不会阻止解析 DOM</li></ul><blockquote><p><font color=red>主线程</font>依据 Css 选择器以及浏览器默认样式来计算每个元素应该具备的具体样式</p></blockquote><blockquote><p><font color=red>主线程</font>会遍历 DOM 及相关元素的计算样式，构建出包含每个元素的页面坐标信息及盒子模型大小的布局树（Render Tree），遍历过程中，会<font color=red>跳过</font>隐藏的元素（display: none），另外，<font color=red>伪元素</font>虽然在 DOM 树上不可见，但是在<font color=red>布局树</font>上是可见的。</p></blockquote><blockquote><p>遍历布局树（layout tree），生成一系列的绘画记录（paint records）。绘画记录可以看做是记录各元素绘制先后顺序的笔记-绘画顺序表。</p></blockquote><blockquote><p><font color=red>主线程</font>需要遍历渲染树来创建一棵<font color=red>层次树</font>（Layer Tree），对于添加了<font color=red> will-change</font> CSS 属性的元素，会被看做<font color=red>单独</font>的一层，没有 will-change CSS 属性的元素，浏览器会根据情况决定是否要把该元素放在单独的层。</p></blockquote><ul><li>当页面的层超过一定的数量后，层的合成操作要比在每个帧中光栅化页面的一小部分还要慢，因此衡量你应用的渲染性能是十分重要的一件事情。</li></ul><blockquote><p>主线程会把这些信息通知给<font color=red>合成器</font>线程，合成器线程开始对层次数的每一层进行光栅化。 <br/>为了优化显示体验，合成线程可以给不同的光栅线程赋予不同的优先级，将那些在视口中的或者视口附近的层先被光栅化。</p></blockquote><ul><li><p>有的层的可以达到整个页面的大小，合成器需要将它们切分为一块又一块的小图块（tiles）</p></li><li><p>合成器将这些小图块分别进行发送给一系列<font color=red>光栅</font>线程（raster threads）进行光栅化</p></li><li><p>结束后光栅线程会将每个图块的光栅结果存在 GPU Process 的内存中</p></li></ul><blockquote><p>合成线程会收集图块上面叫做绘画四边形（draw quads）的信息来构建一个合成帧（compositor frame）。</p></blockquote><ul><li><p>绘画四边形：包含图块在内存的位置以及图层合成后图块在页面的位置之类的信息。</p></li><li><p>合成帧：代表页面一个帧的内容的绘制四边形集合。</p></li></ul><blockquote><p><font color=red>合成线程</font>就会通过 IPC 向<font color=red>浏览器进程</font>（browser process）提交（commit）一个<font color=red>渲染帧</font>。</p></blockquote><ul><li><p>这个时候可能有另外一个合成帧被浏览器进程的 UI 线程（UI thread）提交以改变浏览器的 UI。这些合成帧都会被发送给 GPU 从而展示在屏幕上。</p></li><li><p>如果合成线程收到页面滚动的事件，合成线程会构建另外一个组合帧发送给 GPU 来更新页面。</p></li></ul><h2 id="事件处理"><a href="#事件处理" class="headerlink" title="事件处理"></a>事件处理</h2><blockquote><p>当点击或者输入的时候，首先接受到事件的是<font color=red>浏览器进程</font></p></blockquote><blockquote><p>浏览器进程不处理，将事件丢给<font color=red>渲染进程</font></p></blockquote><blockquote><p>渲染进程依据事件发生的<font color=red>坐标</font>，找到<font color=red>目标对象</font>，运行附加的事件侦听器来适当地处理事件。</p></blockquote><blockquote><p><font color=red>合成器线程</font>会标记页面中绑定有事件处理器的区域为<font color=red>非快速滚动区域</font>(non-fast scrollable region)</p></blockquote><ul><li><p>当合成器线程向主线程发送输入事件时，首先要运行的是命中测试以找到事件目标。命中测试使用渲染过程中生成的绘制记录数据来找出发生事件的点坐标下方的内容。</p></li><li><p>如果事件发生在这些存在标注的区域，合成器线程会把事件信息发送给主线程，等待主线程进行事件处理</p></li><li><p>如果事件不是发生在这些区域，合成器线程则会直接合成新的帧而不用等到主线程的响应。</p></li><li><p>所以，在进行事件监听的时候，尤其是事件捕获或者对整个文档进行事件监听的时候需要考虑一下，因为整个页面都被标记为非快速滚动区域。这意味着即使不关心来自页面某些部分的输入，合成器线程也必须与主线程通信并在每次输入事件进入时等待它。因此，合成器的平滑滚动能力被打败了。</p></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 浏览器在主线程中侦听事件，但合成器也可以继续合成新帧。</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">addEventListener</span>(enent, func, &#123; <span class="attr">passive</span>: <span class="literal">true</span> &#125;);</span><br></pre></td></tr></table></figure><h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><p><a href="https://blog.csdn.net/qq_41499782/article/details/120039980">合成器线程详解&#x2705;</a></p><p><a href="https://blog.csdn.net/qq_35546787/article/details/107788179?utm_medium=distribute.pc_relevant.none-task-blog-2~default~baidujs_baidulandingword~default-0.topblog&spm=1001.2101.3001.4242.1&utm_relevant_index=3">一文搞懂浏览器的工作原理&#x270B;</a></p><p> <a href="https://blog.csdn.net/qq_41499782/article/details/120035602">chrome 渲染器进程的内部工作原理&#x270B;</a></p>]]></content>
      
      
      <categories>
          
          <category> 浏览器 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 浏览器 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>手写题</title>
      <link href="/2024/02/06/%E6%89%8B%E5%86%99%E9%A2%98/"/>
      <url>/2024/02/06/%E6%89%8B%E5%86%99%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="将一维数组转化为-tree"><a href="#将一维数组转化为-tree" class="headerlink" title="将一维数组转化为 tree"></a>将一维数组转化为 tree</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> list = [</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="string">&quot;01&quot;</span>, <span class="attr">parentId</span>: <span class="number">0</span>, <span class="attr">name</span>: <span class="string">&quot;节点1&quot;</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="string">&quot;011&quot;</span>, <span class="attr">parentId</span>: <span class="string">&quot;01&quot;</span>, <span class="attr">name</span>: <span class="string">&quot;节点1-1&quot;</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="string">&quot;0111&quot;</span>, <span class="attr">parentId</span>: <span class="string">&quot;011&quot;</span>, <span class="attr">name</span>: <span class="string">&quot;节点1-1-1&quot;</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="string">&quot;02&quot;</span>, <span class="attr">parentId</span>: <span class="number">0</span>, <span class="attr">name</span>: <span class="string">&quot;节点2&quot;</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="string">&quot;022&quot;</span>, <span class="attr">parentId</span>: <span class="string">&quot;02&quot;</span>, <span class="attr">name</span>: <span class="string">&quot;节点2-2&quot;</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="string">&quot;023&quot;</span>, <span class="attr">parentId</span>: <span class="string">&quot;02&quot;</span>, <span class="attr">name</span>: <span class="string">&quot;节点2-3&quot;</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="string">&quot;0222&quot;</span>, <span class="attr">parentId</span>: <span class="string">&quot;022&quot;</span>, <span class="attr">name</span>: <span class="string">&quot;节点2-2-2&quot;</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="string">&quot;03&quot;</span>, <span class="attr">parentId</span>: <span class="number">0</span>, <span class="attr">name</span>: <span class="string">&quot;节点3&quot;</span> &#125;,</span><br><span class="line">];</span><br></pre></td></tr></table></figure><ul><li><p>解法 1：</p><p>使用循环+递归的形式</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">findParent</span>(<span class="params">tree, child</span>) &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">const</span> cur <span class="keyword">of</span> tree) &#123;</span><br><span class="line">    <span class="keyword">if</span> (</span><br><span class="line">      cur.<span class="property">id</span> !== child.<span class="property">parentId</span> &amp;&amp;</span><br><span class="line">      cur.<span class="property">children</span> &amp;&amp;</span><br><span class="line">      cur.<span class="property">children</span>.<span class="property">length</span> !== <span class="number">0</span></span><br><span class="line">    ) &#123;</span><br><span class="line">      cur = <span class="title function_">findParent</span>(cur.<span class="property">children</span>, child);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (cur.<span class="property">id</span> === child.<span class="property">parentId</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (cur.<span class="property">children</span>) &#123;</span><br><span class="line">        cur.<span class="property">children</span>.<span class="title function_">push</span>(child);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        cur.<span class="property">children</span> = [child];</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> tree;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> tree;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">arrToTree</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> tree = [];</span><br><span class="line">  <span class="keyword">const</span> len = arr.<span class="property">length</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (arr[i].<span class="property">parentId</span> === <span class="number">0</span>) &#123;</span><br><span class="line">      tree.<span class="title function_">push</span>(arr[i]);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      tree = <span class="title function_">findParent</span>(tree, arr[i]);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> tree;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>解法 2：</p><p>使用 map 映射和 js 当引用类型赋值时，是<strong>拷贝的地址</strong>的特性</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">con</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> res = [];</span><br><span class="line">  <span class="keyword">const</span> map = arr.<span class="title function_">reduce</span>(<span class="function">(<span class="params">res, v</span>) =&gt;</span> ((res[v.<span class="property">id</span>] = v), res), &#123;&#125;);</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">const</span> item <span class="keyword">of</span> arr) &#123;</span><br><span class="line">    <span class="keyword">if</span> (item.<span class="property">parentId</span> <span class="keyword">in</span> map) &#123;</span><br><span class="line">      <span class="keyword">const</span> parent = map[item.<span class="property">parentId</span>];</span><br><span class="line">      parent.<span class="property">children</span> = parent.<span class="property">children</span> || [];</span><br><span class="line">      parent.<span class="property">children</span>.<span class="title function_">push</span>(item);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      res.<span class="title function_">push</span>(item);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h2 id="object-键扁平化"><a href="#object-键扁平化" class="headerlink" title="object 键扁平化"></a>object 键扁平化</h2><p>原始数据：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;a&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;b&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;c&quot;</span><span class="punctuation">:</span> <span class="number">2</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;d&quot;</span><span class="punctuation">:</span> <span class="number">3</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;d&quot;</span><span class="punctuation">:</span> <span class="string">&quot;d&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;e&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;f&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;g&quot;</span><span class="punctuation">:</span> <span class="string">&quot;g&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;f&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;h&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">          <span class="attr">&quot;i&quot;</span><span class="punctuation">:</span> <span class="string">&quot;i&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;g&quot;</span><span class="punctuation">:</span> <span class="string">&quot;g2&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>转换数据：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;a.b.c&quot;</span><span class="punctuation">:</span> <span class="number">2</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;a.d&quot;</span><span class="punctuation">:</span> <span class="number">3</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;d&quot;</span><span class="punctuation">:</span> <span class="string">&quot;d&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;e.f.g&quot;</span><span class="punctuation">:</span> <span class="string">&quot;g&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;e.f.f.h.i&quot;</span><span class="punctuation">:</span> <span class="string">&quot;i&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;e.g&quot;</span><span class="punctuation">:</span> <span class="string">&quot;g2&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><ul><li><p>解法 1<br>采用 dfs 思维做</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">dfs</span>(<span class="params">tree, preKey = <span class="string">&quot;&quot;</span></span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> tree !== <span class="string">&quot;object&quot;</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">key</span>: preKey,</span><br><span class="line">      <span class="attr">value</span>: tree,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">const</span> keys = <span class="title class_">Reflect</span>.<span class="title function_">ownKeys</span>(tree);</span><br><span class="line">  <span class="keyword">let</span> res = [];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">const</span> key <span class="keyword">of</span> keys) &#123;</span><br><span class="line">    <span class="keyword">let</span> val = <span class="title function_">dfs</span>(tree[key], preKey + <span class="string">&quot;.&quot;</span> + key);</span><br><span class="line">    <span class="keyword">if</span> (<span class="title class_">Array</span>.<span class="title function_">isArray</span>(val)) &#123;</span><br><span class="line">      res = res.<span class="title function_">concat</span>(val);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      res.<span class="title function_">push</span>(val);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">ObjectKeyToStr</span>(<span class="params">obj</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> keys = <span class="title class_">Reflect</span>.<span class="title function_">ownKeys</span>(obj);</span><br><span class="line">  <span class="keyword">let</span> res = &#123;&#125;;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">const</span> key <span class="keyword">of</span> keys) &#123;</span><br><span class="line">    <span class="keyword">const</span> data = <span class="title function_">dfs</span>(obj[key], key);</span><br><span class="line">    <span class="keyword">if</span> (<span class="title class_">Array</span>.<span class="title function_">isArray</span>(data)) &#123;</span><br><span class="line">      data.<span class="title function_">forEach</span>(<span class="function">(<span class="params">ele</span>) =&gt;</span> &#123;</span><br><span class="line">        res[ele.<span class="property">key</span>] = ele.<span class="property">value</span>;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      res[data.<span class="property">key</span>] = data.<span class="property">value</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(res);</span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>解法 2</p><p>采用类bfs的思路</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">getKeys</span>(<span class="params">tree</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title class_">Reflect</span>.<span class="title function_">ownKeys</span>(tree);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">bfs</span>(<span class="params">tree</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> stack = [];</span><br><span class="line">  <span class="keyword">let</span> res = &#123;&#125;;</span><br><span class="line">  <span class="keyword">let</span> item = tree;</span><br><span class="line">  <span class="keyword">while</span> (item) &#123;</span><br><span class="line">    <span class="title function_">getKeys</span>(item).<span class="title function_">forEach</span>(<span class="function">(<span class="params">ele</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> currdata = item[ele];</span><br><span class="line">      <span class="comment">// 因为额外加了_key属性，因此需要跳过这个属性</span></span><br><span class="line">      <span class="keyword">if</span> (ele !== <span class="string">&quot;_key&quot;</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(currdata) === <span class="string">&quot;[object Object]&quot;</span>) &#123;</span><br><span class="line">          stack.<span class="title function_">unshift</span>(&#123;</span><br><span class="line">            ...currdata,</span><br><span class="line">            <span class="attr">_key</span>: item.<span class="property">_key</span> ? item.<span class="property">_key</span> + <span class="string">&quot;.&quot;</span> + ele : ele,</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="keyword">const</span> key = item.<span class="property">_key</span> ? item.<span class="property">_key</span> + <span class="string">&quot;.&quot;</span> + ele : ele;</span><br><span class="line">          <span class="keyword">delete</span> currdata.<span class="property">_key</span>;</span><br><span class="line">          res[key] = currdata;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    item = stack.<span class="title function_">shift</span>();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(res);</span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul>]]></content>
      
      
      <categories>
          
          <category> js </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>大数据渲染</title>
      <link href="/2024/02/06/%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%B8%B2%E6%9F%93/"/>
      <url>/2024/02/06/%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%B8%B2%E6%9F%93/</url>
      
        <content type="html"><![CDATA[<h1 id="大数据渲染"><a href="#大数据渲染" class="headerlink" title="大数据渲染"></a>大数据渲染</h1><h2 id="table-分页"><a href="#table-分页" class="headerlink" title="table 分页"></a>table 分页</h2><ul><li>每页展示固定的数据</li></ul><h1></h1><h2 id="定时更新-分批渲染"><a href="#定时更新-分批渲染" class="headerlink" title="定时更新,分批渲染"></a>定时更新,分批渲染</h2><p>用<a href="https://zhuanlan.zhihu.com/p/64917985?from_voters_page=true"><code>requestAnimationFrame</code></a>或者定时器, 加上<code>DocumentFragment</code>进行每次数据的加载</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="title function_">requestAnimationFrame</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> fragment = <span class="keyword">new</span> <span class="title class_">DocumentFragment</span>();</span><br><span class="line">  <span class="keyword">const</span> fruits = [<span class="string">&quot;Apple&quot;</span>, <span class="string">&quot;Orange&quot;</span>, <span class="string">&quot;Banana&quot;</span>, <span class="string">&quot;Melon&quot;</span>];</span><br><span class="line">  fruits.<span class="title function_">forEach</span>(<span class="function">(<span class="params">fruit</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> ele = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;p&quot;</span>);</span><br><span class="line">    ele.<span class="property">textContent</span> = fruit;</span><br><span class="line">    fragment.<span class="title function_">appendChild</span>(ele);</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(fragment);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><ul><li><code>requestAnimationFrame</code>是在<code>style/layout/paint</code>之前触发</li></ul><h2 id="使用虚拟列表IntersectionObserver"><a href="#使用虚拟列表IntersectionObserver" class="headerlink" title="使用虚拟列表IntersectionObserver"></a>使用虚拟列表<a href="http://www.ruanyifeng.com/blog/2016/11/intersectionobserver_api.html"><code>IntersectionObserver</code></a></h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 新建一个监听对象</span></span><br><span class="line"><span class="keyword">let</span> io = <span class="keyword">new</span> <span class="title class_">IntersectionObserver</span>(</span><br><span class="line">  <span class="function">(<span class="params">entris</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;IntersectionObserver&quot;</span>, entris);</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">root</span>: <span class="literal">null</span>,</span><br><span class="line">    <span class="attr">thresholds</span>: <span class="number">1</span>,</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br><span class="line"><span class="comment">// 开始监听</span></span><br><span class="line">io.<span class="title function_">observe</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;b&quot;</span>));</span><br></pre></td></tr></table></figure><ul><li><p>当元素初次在页面上显示, 以及之后每次显示和隐藏都会触发回调</p></li><li><p>IntersectionObserver API 是异步的，不随着目标元素的滚动同步触发。</p></li><li><p>只有线程空闲下来，才会执行观察器。这意味着，这个观察器的优先级非常低，只在其他任务执行完，浏览器有了空闲才会执行。</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> 业务场景 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>v-model 和 reactive 组合使用的问题</title>
      <link href="/2024/02/06/v-model%E5%92%8Creactive%E7%BB%84%E5%90%88%E4%BD%BF%E7%94%A8%E7%9A%84%E9%97%AE%E9%A2%98/"/>
      <url>/2024/02/06/v-model%E5%92%8Creactive%E7%BB%84%E5%90%88%E4%BD%BF%E7%94%A8%E7%9A%84%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h2><h3 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h3><p>父组件的数据是一个<code>reactive</code>的数据，传入子组件时用<code>v-model:xxx</code>的形式传入子组件，那么子组件在此情况下调用<code>update:xxx</code>时，并不会引起父组件的数据变化(包含页面和通过<code>watch</code>等方式去监听的回调)</p><h3 id="演示"><a href="#演示" class="headerlink" title="演示"></a>演示</h3><blockquote><p>父组件代码</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">test</span> <span class="attr">v-model:data</span>=<span class="string">&quot;testdata&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> testdata = <span class="title function_">reactive</span>(&#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;父级参数&quot;</span>,</span><br><span class="line">&#125;);</span><br><span class="line"><span class="title function_">watch</span>(</span><br><span class="line">  <span class="function">() =&gt;</span> testdata,</span><br><span class="line">  <span class="function">(<span class="params">val</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;父级变化了11111&quot;</span>, val);</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123; <span class="attr">deep</span>: <span class="literal">true</span> &#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure><blockquote><p>子组件代码</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">:value</span>=<span class="string">&quot;test.name&quot;</span> @<span class="attr">input</span>=<span class="string">&quot;onIpt&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> &#123;reactive, watchEffect&#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> props = <span class="title function_">defineProps</span>([<span class="string">&#x27;data&#x27;</span>])</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> emit = <span class="title function_">defineEmits</span>([<span class="string">&#x27;update:data&#x27;</span>])</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> test = <span class="title function_">reactive</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">name</span>: <span class="string">&quot;123&quot;</span></span></span><br><span class="line"><span class="language-javascript">&#125;)</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> <span class="title function_">onIpt</span> = e =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">  test.<span class="property">name</span> = e.<span class="property">target</span>.<span class="property">value</span></span></span><br><span class="line"><span class="language-javascript">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;子组件更新&quot;</span>, test)</span></span><br><span class="line"><span class="language-javascript">  <span class="title function_">emit</span>(<span class="string">&quot;update:data&quot;</span>, test)</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"><span class="title function_">watchEffect</span>(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;子组件接收到的父组件数据更新&quot;</span>, test)</span></span><br><span class="line"><span class="language-javascript">  test.<span class="property">name</span> = props.<span class="property">data</span>.<span class="property">name</span>;</span></span><br><span class="line"><span class="language-javascript">&#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>实际操作</p></blockquote><p>在进行输入的时候，只触发了<code>onIpt</code>函数，父组件的<code>watch</code>和子组件的<code>watchEffect</code>都未触发</p><p><a href="https://imgse.com/i/pPIiMwT"><img src="https://z1.ax1x.com/2023/09/20/pPIiMwT.png" alt="pPIiMwT.png"></a></p><h2 id="原因"><a href="#原因" class="headerlink" title="原因"></a>原因</h2><p>在<a href="https://cn.vuejs.org/guide/essentials/reactivity-fundamentals.html#limitations-of-reactive">vue</a>的官方文档上面写明的<code>reactive</code>的局限性：</p><ul><li><p><em>有限的值类型</em></p><p>它只能用于对象类型 (对象、数组和如 Map、Set 这样的集合类型)。它不能持有如 string、number 或 boolean 这样的原始类型。</p></li><li><p><em>不能替换整个对象</em></p><p>由于 Vue 的响应式跟踪是通过属性访问实现的，因此我们必须始终保持对响应式对象的相同引用。这意味着我们不能轻易地“替换”响应式对象，因为这样的话与第一个引用的响应性连接将丢失</p></li><li><p><em>对解构操作不友好</em></p><p>当我们将响应式对象的原始类型属性解构为本地变量时，或者将该属性传递给函数时，我们将丢失响应性连接</p></li></ul><p>上面第二条说明了<code>reactive</code>的响应式是依据  <strong>属性访问</strong> 实现的，而<code>update:data</code>的时候是传递的整个对象，所以并不会引起<code>reactive</code>的响应式。</p><h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h2><h3 id="父组件的数据改为ref"><a href="#父组件的数据改为ref" class="headerlink" title="父组件的数据改为ref"></a>父组件的数据改为<code>ref</code></h3><p>ref是针对整体的一个响应式，因此就不会产生这个问题</p><h3 id="利用js引用对象的特性，修改prop的属性"><a href="#利用js引用对象的特性，修改prop的属性" class="headerlink" title="利用js引用对象的特性，修改prop的属性"></a>利用js引用对象的特性，修改prop的属性</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">onIpt</span> = e =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> data = props.<span class="property">data</span>;</span><br><span class="line">  data.<span class="property">name</span> = e.<span class="property">target</span>.<span class="property">value</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;子组件更新&quot;</span>, data)</span><br><span class="line">  <span class="comment">// 实际是否加上update的函数，父组件的watch都会触发</span></span><br><span class="line">  <span class="comment">// emit(&quot;update:data&quot;, test)</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>但是这样不符合单向数据流的特性，因此这个方法不合适</p><h3 id="父组件监听事件"><a href="#父组件监听事件" class="headerlink" title="父组件监听事件"></a>父组件监听事件</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">test</span> <span class="attr">v-model:data</span>=<span class="string">&quot;testdata&quot;</span> @<span class="attr">update:data</span>=<span class="string">&quot;onUpdateData&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">onUpdateData</span> = (<span class="params">data</span>) =&gt; &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;父组件事件的回调&quot;</span>, data)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这样在子组件调用<code>update:data</code>的方法时，也会触发父组件的<code>onUpdateData</code>方法</p>]]></content>
      
      
      <categories>
          
          <category> vue </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>v-html渲染自定义组件</title>
      <link href="/2024/02/06/v-html%E6%B8%B2%E6%9F%93%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%84%E4%BB%B6/"/>
      <url>/2024/02/06/v-html%E6%B8%B2%E6%9F%93%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%84%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<h2 id="v-html渲染自定义组件"><a href="#v-html渲染自定义组件" class="headerlink" title="v-html渲染自定义组件"></a>v-html渲染自定义组件</h2><h3 id="前景"><a href="#前景" class="headerlink" title="前景"></a>前景</h3><ul><li><p>需求场景</p><p>后端返回的特定的元素，前端用穿梭框显示，拿到对应的元素后，将其替换为vant组件进行渲染。</p></li><li><p>坑点：</p><p><code>v-html</code>是vue3用于渲染html的指令，但是由于是直接渲染html的，自定义组件vue不会默认重新转化渲染。因此需要进行处理</p></li></ul><h3 id="方案"><a href="#方案" class="headerlink" title="方案"></a>方案</h3><p>使用vue自带的<code>compile</code>函数进行进行渲染转换，再用<code>h</code>函数进行显示</p><ul><li><p>将<code>v-html</code>所用到的组件设置为全局组件</p>  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Lazyload</span>, <span class="title class_">SwipeItem</span>, <span class="title class_">Swipe</span> &#125; <span class="keyword">from</span> <span class="string">&quot;vant&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">createApp</span>(<span class="title class_">App</span>);</span><br><span class="line">app.<span class="title function_">component</span>(<span class="string">&#x27;Swipe&#x27;</span>, <span class="title class_">Swipe</span>)</span><br><span class="line">app.<span class="title function_">component</span>(<span class="string">&#x27;swipeitem&#x27;</span>, <span class="title class_">SwipeItem</span>)</span><br></pre></td></tr></table></figure></li><li><p>新建一个用于渲染的组件</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">    &lt;script lang=<span class="string">&quot;ts&quot;</span>&gt;</span><br><span class="line">        <span class="keyword">import</span> &#123; h,&#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span><br><span class="line">        <span class="comment">// 如果直接从vue引入会报warning，因此引入路径需要修改</span></span><br><span class="line">        <span class="keyword">import</span> &#123;compile&#125; <span class="keyword">from</span> <span class="string">&quot;vue/dist/vue.esm-bundler.js&quot;</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">        <span class="attr">props</span>: &#123;</span><br><span class="line">            <span class="attr">html</span>: &#123; <span class="attr">type</span>: <span class="title class_">String</span>, <span class="attr">required</span>: <span class="literal">true</span> &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="title function_">setup</span>(<span class="params">props</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="function">() =&gt;</span> <span class="title function_">h</span>(<span class="title function_">compile</span>(props.<span class="property">html</span>))</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></li></ul><h3 id="优缺点"><a href="#优缺点" class="headerlink" title="优缺点"></a>优缺点</h3><ul><li><p>优点</p><p>自定义组件也可以进行渲染</p></li><li><p>缺点</p><ul><li><p>需要将用到的组件设置为全局组件，那么这样会使初始包变大</p></li><li><p>无法响应事件。组件标签上的事件无法执行，会有warning；事件只能在内部实现，无法暴露出去</p></li></ul></li></ul><h3 id="参考link"><a href="#参考link" class="headerlink" title="参考link"></a>参考link</h3><p><a href="https://juejin.cn/post/7153814550414884871">记录一下vue3 渲染带组件html字符串的方法</a></p>]]></content>
      
      
      <categories>
          
          <category> vue </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>npm、npx与pnpm</title>
      <link href="/2024/02/06/npm%E3%80%81npx%E4%B8%8Epnpm/"/>
      <url>/2024/02/06/npm%E3%80%81npx%E4%B8%8Epnpm/</url>
      
        <content type="html"><![CDATA[<h1 id="npm、npx-与-pnpm"><a href="#npm、npx-与-pnpm" class="headerlink" title="npm、npx 与 pnpm"></a>npm、npx 与 pnpm</h1><h2 id="npm"><a href="#npm" class="headerlink" title="npm"></a>npm</h2><h3 id="npm-i与npm-update"><a href="#npm-i与npm-update" class="headerlink" title="npm i与npm update"></a><code>npm i</code>与<code>npm update</code></h3><ul><li><p><code>npm i</code>：先检查 node_modules 模块是否有对应的指定模块，如果存在，就不再进行安装，即使远程有新版本也不会重新获取</p><p>npm i在安装包的依赖包时，包的依赖包会安装符合规则的<font color=red>最高</font>版本</p><blockquote><p>npm 都要强制重新安装，可以使用-f 或–force 参数。</p></blockquote></li><li><p><code>npm update</code>：每次安装都会先请求远程仓库的最新版本，然后查询本地版本。</p><blockquote><p>如果本地版本不存在或者远程版本较新，那么更新版本</p></blockquote></li></ul><h4 id="安装非发布的包"><a href="#安装非发布的包" class="headerlink" title="安装非发布的包"></a>安装非发布的包</h4><p><a href="https://docs.npmjs.com/about-packages-and-modules/">官网</a>表明了如下几个情况可以直接使用</p><ul><li>a:包含一个由 package.json 文件描述的程序的文件夹。</li><li>b:包含（a）的 gzipped tarball 。</li><li>c:解析为（b）的 URL。</li><li>d:&lt;name&gt;@&lt;version&gt;: 在 registry 上发布的(c)</li><li>e:&lt;name&gt;@&lt;tag&gt; : 能指向（d）。</li><li>f:&lt;name&gt; 具有 latest 标签，且满足（e）。</li><li>g:git url，当 clone 时，得到（a）</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git://github.com/user/project.git#commit-ish</span><br><span class="line">git+ssh://user@hostname:project.git#commit-ish</span><br><span class="line">git+http://user@hostname/project/blah.git#commit-ish</span><br><span class="line">git+https://user@hostname/project/blah.git#commit-ish</span><br></pre></td></tr></table></figure><p>commit-ish 可以是任何 tag、分支或者 sha，可以用<code>git checkout</code>切换的，默认是<code>master</code></p><h1></h1><h3 id="npm-缓存"><a href="#npm-缓存" class="headerlink" title="npm 缓存"></a>npm 缓存</h3><p>由于安装时，即使本地有缓存，但是也不会进行读取，那么这就导致在弱网或者无网情况下，无法安装依赖包或者安装速度极低</p><ul><li><p><code>--cache-min</code>：参数指定了一个时间(以分钟为单位)，只有超过这个时间的模块，才会从远程进行下载安装</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --cache-min <span class="number">9999999</span> &lt;package-name&gt;</span><br></pre></td></tr></table></figure></li></ul><h1></h1><h3 id="npm-i流程"><a href="#npm-i流程" class="headerlink" title="npm i流程"></a><code>npm i</code>流程</h3><ul><li><p>发出<code>npm i</code>命令</p></li><li><p>执行工程自身 preinstall</p><blockquote><p>如果当前工程定义了 preintsall 钩子，那么会调用这个钩子函数</p></blockquote></li><li><p>确定首层依赖</p><blockquote><p>确定当前项目中<code>package.json</code>中的<code>dependencies</code>和<code>devDependencies</code>指定的模块</p></blockquote><blockquote><p>当前项目中的每个依赖包是每个依赖树的根节点，所以 npm 开启多线程对每个依赖包进行更深层级的节点</p></blockquote></li><li><p>获取模块</p><blockquote><p>确定下载的模块版本</p></blockquote><blockquote><p>如果版本描述文件（<code>npm-shrinkwrap.json</code> 或 <code>package-lock. json</code>）有对应模块的信息，那么直接依据对应的信息获取</p></blockquote><blockquote><p>如果没有，向<a href="https://registry.npmjs.org/">registry</a>查询模块压缩 包的网址，然后依据<code>package.json</code>文件中的版本去仓库中获取。</p></blockquote><blockquote><p>获取到模块的 resloved 字段，即压缩包的地址后。获取到后，npm 依据此地址检查本地缓存，如果缓存中有，那么直接从缓存中(只会检查<code>node_modules</code>目录，而不会检查<code>~/.npm</code>目录)拿；如果没有，那么从仓库中进行下载</p></blockquote><blockquote><p>查找该模块的依赖，如果有依赖则回到第一步，没有则停止</p></blockquote></li><li><p>扁平化模块</p><blockquote><p>获取到完整的依赖树后，里面可能包含大量的重复模块，npm3 之前会严格按照依赖树的结构进行安装，这样会造成大量的模块冗余；</p></blockquote><blockquote><p>npm3 之后默认加入了一个<code>dedupe</code>的过程，遍历所有节点，将模块放在根节点下面（node_modules 下），当发现有了重复模块时，将其丢弃</p><blockquote><p>重复模块：<strong>模块名</strong>相同且<strong>semver</strong>兼容。每个 semver 基本都对应一段<em>版本允许范围</em>，如果两个模块的版本允许范围有<strong>交集</strong>，那么可以得到一个<strong>兼容</strong>版本。这样就不需要版本号完全一致了，减少更多的冗余模块在这个阶段中直接去掉</p><blockquote><p>比如 A 模块依赖 package@^1.0.0，B 模块依赖 package@^1.1.0，则 1.1.0 为兼容版本<br /> node_modules–A<br /> node_modules–B<br /> node_modules--package@^1.1.0<br /><br /> 比如 A 模块依赖 package@^1.0.0，B 模块依赖 package@^2.1.0，则没有兼容版本，会将一个版本放在 node_modules，一个继续保留在依赖树中<br /> node_modules--A--package@^1.0.0<br /> node_modules--B--package@^1.1.0<br /></p></blockquote></blockquote></blockquote></li><li><p>安装模块</p><blockquote><p>下载压缩包，存放在~&#x2F;.npm 目录</p></blockquote><blockquote><p>解压到当前项目的 node_modules 目录</p></blockquote><blockquote><p>执行模块中的生命周期函数（按照 preinstall、install、postinstall 的顺序）。</p></blockquote></li><li><p>执行当前项目自身的生命周期</p><blockquote><p>当前 npm 工程如果定义了钩子此时会被执行（按照 install、postinstall、prepublish、prepare 的顺序）。</p></blockquote></li><li><p>生成或者更新版本描述文件（<code>npm-shrinkwrap.json</code> 或 <code>package-lock. json</code>）</p></li></ul><h2 id="npx"><a href="#npx" class="headerlink" title="npx"></a>npx</h2><p><code>npx</code>是<code>npm@5.25.2</code>增加的命令，如果 npm 版本低于这个版本，那么用<code>npm i -g npx</code>安装即可</p><h3 id="与-npm-的不同"><a href="#与-npm-的不同" class="headerlink" title="与 npm 的不同"></a>与 npm 的不同</h3><ul><li><p>npx 是下载到一个临时目录中，然后使用完成之后，进行删除。没有 npm 一样的缓存</p></li><li><p>npx 还可以运行可执行文件(远程的也可以)，比如只安装 webpack 了，那么用<code>npm run webpack</code>会报错，用<code>npx run webpack</code>就可以成功运行</p></li><li><p>npx 会检查 node_modules 和系统变量<code>$PATH</code>的命令是否存在</p></li><li><p><code>--no-install</code>: 如果本地不存在该模块，那么会报错。可以用于强制使用本地模块</p></li><li><p><code>--ignore-existing</code>: 不管是否本地存在，都强制安装使用远程模块。可以用于获取最新的包，即用即删</p></li></ul><h2 id="pnpm"><a href="#pnpm" class="headerlink" title="pnpm"></a><a href="https://pnpm.io/zh/motivation">pnpm</a></h2><h3 id="硬连接与符号连接"><a href="#硬连接与符号连接" class="headerlink" title="硬连接与符号连接"></a><a href="https://juejin.cn/post/7032116303737389086/">硬连接与符号连接</a></h3><ul><li><p>硬连接：使用 inode 指向源文件，即使源文件目录地址变化了，但是依旧能进行访问。因为其 inode 仍指向该文件。没有对原始文件的引用。</p></li><li><p>符号连接：指向的源文件地址，如果源文件目的地址修改了，那么就无法再访问；如果有一个新的文件名字与源文件一致，那么再次访问时，访问的是新文件</p></li></ul><h1></h1><h3 id="pnpm-1"><a href="#pnpm-1" class="headerlink" title="pnpm"></a>pnpm</h3><h4 id="缓存"><a href="#缓存" class="headerlink" title="缓存"></a>缓存</h4><p>pnpm 和 npm 一样，有一个缓存目录</p><ul><li><p>Mac&#x2F;linux 中默认会设置到{home dir}&gt;&#x2F;.pnpm-store&#x2F;v3；windows 下会设置到当前盘的根目录下，比如 C（C&#x2F;.pnpm-store&#x2F;v3）、D 盘（D&#x2F;.pnpm-store&#x2F;v3）。</p></li><li><p>pnpm 可以在一个电脑上不同的磁盘设置<a href="https://pnpm.io/zh/workspaces">同一个分区</a>，在这种情况下，pnpm 将复制包而不是硬链接它们，因为硬链接只能发生在同一文件系统同一分区上</p></li><li><p>npm 在安装时，不会去检查缓存；而 pnpm 在安装时，会先检查是否有对应包及其版本的缓存，如果有的话，直接硬链接到这个缓存地址</p></li></ul><h1></h1><h4 id="模块依赖"><a href="#模块依赖" class="headerlink" title="模块依赖"></a>模块依赖</h4><ul><li><p>pnpm 使用平铺的方式，类似于<code>npm2</code>的结构，但是增加了一个<code>.pnpm</code>目录，其中的包命名格式如下：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"> .<span class="property">pnpm</span>/&lt;organization-name&gt;+&lt;package-name&gt;@&lt;version&gt;<span class="regexp">/node_modules/</span>&lt;name&gt;</span><br><span class="line"><span class="comment">// 组织名(若无会省略)+包名@版本号/node_modules/名称(项目名称)</span></span><br></pre></td></tr></table></figure></li><li><p>对于 <a href="https://pnpm.io/zh/how-peers-are-resolved">PeerDependencies</a> 来说，命名规则稍许不同</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">.<span class="property">pnpm</span>/&lt;organization-name&gt;+&lt;package-name&gt;@&lt;version&gt;_&lt;organization-name&gt;+&lt;package-name&gt;@&lt;version&gt;<span class="regexp">/node_modules/</span>&lt;name&gt;</span><br><span class="line"><span class="comment">// peerDep组织名(若无会省略)+包名@版本号_组织名(若无会省略)+包名@版本号/node_modules/名称(项目名称)</span></span><br></pre></td></tr></table></figure></li><li><p>pnpm 使用硬链接，将 node_modules 的包地址硬链接到 pnpm 的缓存中；对于同包同版本使用符号连接.</p><p><img src="https://pnpm.io/zh/assets/images/node-modules-structure-8ab301ddaed3b7530858b233f5b3be57.jpg" alt="image"></p></li></ul><h1></h1><h4 id="npm-与-pnpm-差别"><a href="#npm-与-pnpm-差别" class="headerlink" title="npm 与 pnpm 差别"></a><a href="https://pnpm.io/zh/feature-comparison">npm 与 pnpm 差别</a></h4><table><thead><tr><th>功能</th><th>pnpm</th><th>npm</th></tr></thead><tbody><tr><td>隔离的 node_modules</td><td>✅</td><td>❌</td></tr><tr><td>自动安装 peers</td><td>✅ 通过 auto-install-peers&#x3D;true</td><td>✅</td></tr><tr><td>Plug’n’Play(即插即用)</td><td>✅</td><td>❌</td></tr><tr><td>管理 Node.js 版本</td><td>✅ <code>pnpm env &lt;cmd&gt;</code></td><td>❌</td></tr><tr><td>内容可寻址存储</td><td>✅</td><td>❌</td></tr><tr><td>Side-effects cache(缓存的副作用)</td><td>✅</td><td>❌</td></tr><tr><td>有锁文件</td><td><code>pnpm-lock.yaml</code></td><td><code>package-lock.json</code></td></tr><tr><td>即用即删</td><td><code>pnpm dlx</code></td><td><code>npx</code></td></tr></tbody></table><h2 id="参链"><a href="#参链" class="headerlink" title="参链"></a>参链</h2><blockquote><p>npm</p></blockquote><ul><li><p><a href="https://blog.csdn.net/qq_40988677/article/details/125364305">npm 模块安装机制与实现原理 </a></p></li><li><p><a href="https://juejin.cn/post/6844903702063480846">npm 和 package.json 那些不为常人所知的小秘密 </a></p></li></ul><blockquote><p>npx</p></blockquote><ul><li><a href="https://zhuanlan.zhihu.com/p/269419296">npx 简介 </a></li><li><a href="https://newsn.net/say/npx.html#npx--ignore-existing">npx 是什么命令？npx 和 npm 有什么区别？ </a></li></ul><blockquote><p>pnpm</p></blockquote><ul><li><a href="https://zhuanlan.zhihu.com/p/457698236">pnpm</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> 额外内容 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Chrome的Performance</title>
      <link href="/2024/02/06/Chrome--performance/"/>
      <url>/2024/02/06/Chrome--performance/</url>
      
        <content type="html"><![CDATA[<h1 id="Chrome-的-performance"><a href="#Chrome-的-performance" class="headerlink" title="Chrome 的 performance"></a>Chrome 的 performance</h1><h2 id="开始记录"><a href="#开始记录" class="headerlink" title="开始记录"></a>开始记录</h2><p>可以通过调整这两个参数模拟低网低 cpu 情况 <a href="https://imgtu.com/i/bRXxL4"><img src="https://s1.ax1x.com/2022/03/09/bRXxL4.png" alt="bRXxL4.png"></a></p><p>点击按钮，刷新页面或者只需要旁边的刷新按钮开始进行记录分析 <a href="https://imgtu.com/i/bRjuTA"><img src="https://s1.ax1x.com/2022/03/09/bRjuTA.png" alt="bRjuTA.png"></a></p><h2 id="操作设置栏-controls"><a href="#操作设置栏-controls" class="headerlink" title="操作设置栏 controls"></a>操作设置栏 controls</h2><ul><li>可以通过这个下拉框看到之前的分析数据</li></ul><p><a href="https://imgtu.com/i/bRjI1K"><img src="https://s1.ax1x.com/2022/03/09/bRjI1K.png" alt="bRjI1K.png"></a></p><ul><li>其他配置</li></ul><p><a href="https://imgtu.com/i/bRvDUA"><img src="https://s1.ax1x.com/2022/03/09/bRvDUA.png" alt="bRvDUA.png"></a></p><h2 id="页面性能的高级汇总-overview"><a href="#页面性能的高级汇总-overview" class="headerlink" title="页面性能的高级汇总 overview"></a>页面性能的高级汇总 overview</h2><p><a href="https://imgtu.com/i/bRzmmF"><img src="https://s1.ax1x.com/2022/03/09/bRzmmF.png" alt="bRzmmF.png"></a> <a href="https://imgtu.com/i/bWF68H"><img src="https://s1.ax1x.com/2022/03/09/bWF68H.png" alt="bWF68H.png"></a></p><ul><li>颜色表示<blockquote><p><font color=#87CEFA>HTML</font></p></blockquote></li></ul><blockquote><p><font color=yellow>脚本</font></p></blockquote><blockquote><p><font color=#9370DB>样式</font></p></blockquote><blockquote><p><font color=green>媒体资源</font></p></blockquote><blockquote><p><font color=gray>其他资源</font></p></blockquote><table><thead><tr><th>名称</th><th>描述</th></tr></thead><tbody><tr><td>FPS，帧数</td><td><font color=green>绿色</font>竖线越高，FPS 越高。 FPS 图表上的<font color=red>红色</font>块表示长时间帧，很可能会出现卡顿</td></tr><tr><td>CPU，CPU 资源</td><td>指示消耗 CPU 资源的事件类型</td></tr><tr><td>NET，网络请求</td><td>每条彩色横杠表示一种资源。横杠越长，检索资源所需的时间越长。 每个横杠的浅色部分表示等待时间（从请求资源到第一个字节下载完成的时间），可以在屏幕快照下面查看具体的网络请求数据</td></tr></tbody></table><p><a href="https://imgtu.com/i/bWCE4J"><img src="https://s1.ax1x.com/2022/03/09/bWCE4J.png" alt="bWCE4J.png"></a></p><h2 id="火焰图：-CPU-堆叠可视化"><a href="#火焰图：-CPU-堆叠可视化" class="headerlink" title="火焰图： CPU 堆叠可视化"></a>火焰图： CPU 堆叠可视化</h2><p><a href="https://imgtu.com/i/bWEmgH"><img src="https://s1.ax1x.com/2022/03/09/bWEmgH.png" alt="bWEmgH.png"></a></p><ul><li>Timing</li></ul><blockquote><p>FCP: First Contentful Paint，白屏时间，第一个元素出现的时间</p></blockquote><blockquote><p><a href="https://zhuanlan.zhihu.com/p/174837488">LCP</a>: Largest Contentful Paint，视窗最大可见图片或者文本块的渲染时间</p></blockquote><blockquote><p><a href="https://blog.csdn.net/qiwoo_weekly/article/details/98818202">FMP</a>: First Meaningful Paint，首次有效绘制时间，页面的“主要内容”开始出现在屏幕上的时间点</p></blockquote><blockquote><p>DCL: DOMContentLoaded Event，dom 加载完毕时间</p></blockquote><blockquote><p>L: Onload Event，完全加载完毕时间</p></blockquote><table><thead><tr><th>名称</th><th>描述</th></tr></thead><tbody><tr><td>Network</td><td>资源加载顺序及时长</td></tr><tr><td>Main</td><td>渲染进程中主线程的执行记录，点击 main 可以看到某个任务执行的具体情况<a href="https://imgtu.com/i/bWV5Os"><img src="https://s1.ax1x.com/2022/03/09/bWV5Os.png" alt="bWV5Os.png"></a></td></tr><tr><td>Timings</td><td>用户交互操作，比如点击鼠标、输入文字、动画等</td></tr><tr><td>Compositor</td><td>r 合成线程的执行记录，用来记录 html 绘制阶段 (Paint)结束后的图层合成操</td></tr><tr><td>Raster</td><td>光栅化线程池，用来让 GPU 执行光栅化的任务</td></tr><tr><td>GPU</td><td>GPU 进程主线程的执行过程记录，如 可以直观看到何时启动 GPU 加速</td></tr><tr><td>Frame</td><td>ifream 框架加载详情</td></tr><tr><td>Memory</td><td>不同的时间段的执行情况。页面中的内存使用的情况<a href="https://imgtu.com/i/bWZwNV"><img src="https://s1.ax1x.com/2022/03/09/bWZwNV.png" alt="bWZwNV.png"></a></td></tr></tbody></table><ul><li><p>在火焰图上看到一到三条垂直的虚线。蓝线代表 DOMContentLoaded 事件。 绿线代表首次绘制的时间。 红线代表 load 事件</p></li><li><p>如果是耗时长的 Task，其右上角会标红，这个时候，我们可以选中标红的 Task，然后放大，看其具体的耗时点。放大后，这里可以看到都在做哪些操作，哪些函数耗时了多少,这里代码有压缩，看到的是压缩后的函数名。然后我们点击一下某个函数，在面板最下面，就会出现代码的信息，是哪个函数，耗时多少，在哪个文件上的第几行等。这样我们就很方便地定位到耗时函数了。<br><a href="https://imgtu.com/i/bWu7JP"><img src="https://s1.ax1x.com/2022/03/09/bWu7JP.png" alt="bWu7JP.png"></a></p></li></ul><h2 id="Summary性能摘要"><a href="#Summary性能摘要" class="headerlink" title="Summary性能摘要"></a>Summary性能摘要</h2><p><a href="https://imgtu.com/i/bWmDOJ"><img src="https://s1.ax1x.com/2022/03/09/bWmDOJ.png" alt="bWmDOJ.png"></a></p><ul><li>颜色表示<blockquote><p><font color=#87CEFA>Loading</font>：网络通信和HTML解析</p></blockquote></li></ul><blockquote><p><font color=yellow>Scripting</font>：JavaScript执行</p></blockquote><blockquote><p><font color=#9370DB>Rendering</font>：样式计算和布局，即重排</p></blockquote><blockquote><p><font color=green>Painting</font>：重绘</p></blockquote><blockquote><p><font color=gray>other</font>：其它事件花费的时间</p></blockquote><blockquote><p><font color=white>Idle</font>：空闲时间</p></blockquote><p><a href="https://www.cnblogs.com/zjjing/p/9106111.html">事件包含</a></p><h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><p><a href="https://zhuanlan.zhihu.com/p/29879682">Chrome Performance 使用栗子</a></p><p><a href="https://zhuanlan.zhihu.com/p/163474573">Chrome Performance 页面性能分析指南</a></p><p><a href="https://www.jianshu.com/p/b6f87bac5381">饼状图分析</a></p><p><a href="https://www.cnblogs.com/xiaohuochai/p/9182710.html">performance</a></p>]]></content>
      
      
      <categories>
          
          <category> 浏览器 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 浏览器 Performance Chrome </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【小程序】上传文件</title>
      <link href="/2024/02/06/%E3%80%90%E5%B0%8F%E7%A8%8B%E5%BA%8F%E3%80%91%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6/"/>
      <url>/2024/02/06/%E3%80%90%E5%B0%8F%E7%A8%8B%E5%BA%8F%E3%80%91%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<h1 id="小程序上传文件"><a href="#小程序上传文件" class="headerlink" title="小程序上传文件"></a>小程序上传文件</h1><h2 id="选择文件"><a href="#选择文件" class="headerlink" title="选择文件"></a>选择文件</h2><h3 id="拍摄或从手机相册中选择图片或视频。"><a href="#拍摄或从手机相册中选择图片或视频。" class="headerlink" title="拍摄或从手机相册中选择图片或视频。"></a>拍摄或从手机相册中选择图片或视频。</h3><p><a href="https://developers.weixin.qq.com/miniprogram/dev/api/media/video/wx.chooseMedia.html">wx.chooseMedia</a></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span>: 拍摄或从手机相册中选择图片或视频。</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; mediaType 文件类型 mix/video/image</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; count 最多可以选择的文件个数，基础库2.25.0前，最多可支持9个文件，2.25.0及以后最多可支持20个文件</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; sourceType 图片和视频选择的来源 [&quot;album&quot;, &quot;camera&quot;]</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; maxDuration 拍摄视频最长拍摄时间，单位秒。时间范围为 3s 至 60s 之间。不限制相册。</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; camera 仅在 sourceType 为 camera 时生效，使用前置或后置摄像头</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">*</span>&#125; 文件内容</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">wx.<span class="title function_">chooseMedia</span>(&#123;</span><br><span class="line">  count,</span><br><span class="line">  <span class="attr">mediaType</span>: [mediaType],</span><br><span class="line">  sourceType,</span><br><span class="line">  maxDuration,</span><br><span class="line">  camera,</span><br><span class="line">  <span class="title function_">success</span>(<span class="params">res</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">fail</span>(<span class="params">err</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;文件chooseMedia失败-----&quot;</span>, err);</span><br><span class="line">    <span class="title function_">reject</span>(err);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="从聊天会话选择文件。"><a href="#从聊天会话选择文件。" class="headerlink" title="从聊天会话选择文件。"></a>从聊天会话选择文件。</h3><p><a href="https://developers.weixin.qq.com/miniprogram/dev/api/media/image/wx.chooseMessageFile.html">wx.chooseMessageFile</a></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span>: 从会话选择文件。</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; type 所选的文件的类型</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; count 最多可以选择的文件个数，可以 0～100</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; extension 根据文件拓展名过滤，仅 type==file 时有效。每一项都不能是空字符串。默认不过滤。</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">*</span>&#125; 文件内容</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">wx.<span class="title function_">chooseMessageFile</span>(&#123;</span><br><span class="line">  count,</span><br><span class="line">  type,</span><br><span class="line">  extension,</span><br><span class="line">  <span class="title function_">success</span>(<span class="params">res</span>) &#123;</span><br><span class="line">    <span class="title function_">onHandleFile</span>(res, <span class="string">&quot;path&quot;</span>).<span class="title function_">then</span>(<span class="function">(<span class="params">data</span>) =&gt;</span> <span class="title function_">reslove</span>(data));</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">fail</span>(<span class="params">err</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;文件chooseMedia失败-----&quot;</span>, err);</span><br><span class="line">    <span class="title function_">reject</span>(err);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="上传到后端"><a href="#上传到后端" class="headerlink" title="上传到后端"></a>上传到后端</h2><p>调用 <a href="https://developers.weixin.qq.com/miniprogram/dev/api/network/upload/wx.uploadFile.html">uploadFile</a></p><p>选择文件后，调用<code>uploadFile</code>传入本地路径，即可进行文件上传</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span>: 进行文件上传</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; url 文件上传地址</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; filePath 要上传文件资源的路径 (本地路径)</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; name 文件对应的 key，开发者在服务端可以通过这个 key 获取文件的二进制内容</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; formData HTTP 请求中其他额外的 form data</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; header HTTP 请求 Header，Header 中不能设置 Referer</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">reslove, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  wx.<span class="title function_">showLoading</span>(&#123;</span><br><span class="line">    <span class="attr">title</span>: <span class="string">&quot;上传中...&quot;</span>,</span><br><span class="line">    <span class="attr">mask</span>: <span class="literal">true</span>,</span><br><span class="line">  &#125;);</span><br><span class="line">  wx.<span class="title function_">uploadFile</span>(&#123;</span><br><span class="line">    url,</span><br><span class="line">    filePath,</span><br><span class="line">    name,</span><br><span class="line">    formData,</span><br><span class="line">    header,</span><br><span class="line">    <span class="attr">success</span>: <span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="title function_">reslove</span>(res);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">fail</span>: <span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="title function_">reject</span>(err);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">complete</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      wx.<span class="title function_">hideLoading</span>();</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="上传到腾讯云"><a href="#上传到腾讯云" class="headerlink" title="上传到腾讯云"></a>上传到腾讯云</h2><p>此方式在选择文件后，直接调用接口，无需再调用<code>uploadFile</code></p><h3 id="下载-sdk"><a href="#下载-sdk" class="headerlink" title="下载 sdk"></a>下载 sdk</h3><p>在<a href="https://cloud.tencent.com/document/product/436/31953#.E4.B8.8A.E4.BC.A0.E5.AF.B9.E8.B1.A1">腾讯云小程序上传</a>中下载<code>cos-js-sdk-v5.min.js</code>文件，放入项目中</p><h3 id="引入及配置"><a href="#引入及配置" class="headerlink" title="引入及配置"></a>引入及配置</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> cosSDK = <span class="built_in">require</span>(<span class="string">&quot;../static/js/cos-js-sdk-v5.min.js&quot;</span>);</span><br></pre></td></tr></table></figure><p>进行腾讯云的 sdk 配置</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">//生成随机数</span></span><br><span class="line"> <span class="keyword">const</span> <span class="title function_">getRandomSecret</span> = (<span class="params">num: number</span>) =&gt; &#123;</span><br><span class="line">   <span class="keyword">let</span> t = <span class="string">&quot;xxx&quot;</span>,</span><br><span class="line">     a = t.<span class="property">length</span>,</span><br><span class="line">     n = <span class="string">&quot;&quot;</span>;</span><br><span class="line">   <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; num; i++) n += t.<span class="title function_">charAt</span>(<span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * a));</span><br><span class="line">   <span class="keyword">return</span> n;</span><br><span class="line"> &#125;;</span><br><span class="line"></span><br><span class="line"> <span class="comment">//获取十位的时间戳</span></span><br><span class="line"> <span class="keyword">const</span> <span class="title function_">getTimeStamp</span> = (<span class="params">date?</span>) =&gt; &#123;</span><br><span class="line">   <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="keyword">new</span> <span class="title class_">Date</span>(date).<span class="title function_">getTime</span>() / <span class="number">1000</span>);</span><br><span class="line"> &#125;;</span><br><span class="line"></span><br><span class="line"> <span class="comment">//获取密钥</span></span><br><span class="line"> <span class="keyword">const</span> <span class="title function_">getSDKToken</span> = (<span class="params">fileName: string</span>) =&gt; &#123;</span><br><span class="line">   <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">   <span class="comment">//   通过后端获取密钥</span></span><br><span class="line">     <span class="title function_">getCosToken</span>(&#123;&#125;).<span class="title function_">then</span>(</span><br><span class="line">       <span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">         <span class="keyword">const</span> &#123;</span><br><span class="line">           access_secret_id,</span><br><span class="line">           access_secret_key,</span><br><span class="line">           expiration,</span><br><span class="line">           security_token,</span><br><span class="line">           config,</span><br><span class="line">         &#125; = res ?? &#123;&#125;;</span><br><span class="line">         <span class="keyword">const</span> &#123; bucket, region, tenant_id &#125; = config;</span><br><span class="line">         <span class="keyword">const</span> fileType = fileName.<span class="title function_">split</span>(<span class="string">&quot;.&quot;</span>).<span class="title function_">pop</span>();</span><br><span class="line">         <span class="keyword">const</span> <span class="title class_">ExpiredTime</span> = <span class="title function_">getTimeStamp</span>(expiration);</span><br><span class="line">         <span class="keyword">const</span> <span class="title class_">StartTime</span> = <span class="title function_">getTimeStamp</span>(<span class="keyword">new</span> <span class="title class_">Date</span>());</span><br><span class="line">         <span class="keyword">const</span> random = <span class="title function_">getRandomSecret</span>(<span class="number">7</span>);</span><br><span class="line">         uploadParams.<span class="property">Bucket</span> = bucket;</span><br><span class="line">         uploadParams.<span class="property">Region</span> = region;</span><br><span class="line">         <span class="comment">//文件名是13位时间戳和7位随机数</span></span><br><span class="line">         uploadParams.<span class="property">Key</span> = <span class="string">`<span class="subst">$&#123;tenant_id&#125;</span>/<span class="subst">$&#123;StartTime&#125;</span><span class="subst">$&#123;random&#125;</span>.<span class="subst">$&#123;fileType&#125;</span>`</span>;</span><br><span class="line">         <span class="keyword">const</span> <span class="attr">cosInitParams</span>: <span class="title class_">TCosInitParams</span> = &#123;</span><br><span class="line">           <span class="title class_">TmpSecretId</span>: access_secret_id,</span><br><span class="line">           <span class="title class_">TmpSecretKey</span>: access_secret_key,</span><br><span class="line">           <span class="title class_">SecurityToken</span>: security_token,</span><br><span class="line">           <span class="title class_">StartTime</span>,</span><br><span class="line">           <span class="title class_">ExpiredTime</span>,</span><br><span class="line">         &#125;;</span><br><span class="line">         <span class="title function_">resolve</span>(cosInitParams);</span><br><span class="line">       &#125;,</span><br><span class="line">       <span class="function">() =&gt;</span> &#123;</span><br><span class="line">         <span class="title function_">reject</span>(&#123;&#125;);</span><br><span class="line">       &#125;</span><br><span class="line">     );</span><br><span class="line">   &#125;);</span><br><span class="line"> &#125;;</span><br><span class="line"></span><br><span class="line"> <span class="comment">//配置sdk</span></span><br><span class="line"> <span class="keyword">const</span> <span class="title function_">configSDK</span> = (<span class="params">params</span>) =&gt; &#123;</span><br><span class="line">   <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> &#123;</span><br><span class="line">     cos = <span class="keyword">new</span> <span class="title function_">cosSDK</span>(&#123;</span><br><span class="line">       <span class="attr">getAuthorization</span>: <span class="function">(<span class="params">options, callback</span>) =&gt;</span> <span class="title function_">callback</span>(params),</span><br><span class="line">       <span class="title class_">FileParallelLimit</span>: <span class="number">10</span>,</span><br><span class="line">       <span class="title class_">ChunkParallelLimit</span>: <span class="number">10</span>,</span><br><span class="line">     &#125;);</span><br><span class="line">     <span class="title function_">resolve</span>(<span class="string">&quot;success&quot;</span>);</span><br><span class="line">   &#125;);</span><br><span class="line"> &#125;;</span><br><span class="line"></span><br><span class="line"> <span class="comment">//上传文件</span></span><br><span class="line"> <span class="keyword">const</span> <span class="title function_">onUpload</span> = (<span class="params">filePath</span>) =&gt; &#123;</span><br><span class="line">   <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> &#123;</span><br><span class="line">     cos?.<span class="title function_">uploadFile</span>(</span><br><span class="line">       &#123;</span><br><span class="line">         ...uploadParams,</span><br><span class="line">         <span class="title class_">FilePath</span>: filePath,</span><br><span class="line">         <span class="attr">onProgress</span>: <span class="keyword">function</span> (<span class="params">progressData</span>) &#123;</span><br><span class="line">           <span class="comment">/* 非必须 */</span></span><br><span class="line">           <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;--------onProgress--------&quot;</span>);</span><br><span class="line">         &#125;,</span><br><span class="line">       &#125;,</span><br><span class="line">       <span class="function">(<span class="params">err, data</span>) =&gt;</span> &#123;</span><br><span class="line">         <span class="title function_">resolve</span>(err || data);</span><br><span class="line">       &#125;</span><br><span class="line">     );</span><br><span class="line">   &#125;);</span><br><span class="line"> &#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@description</span>: 开始cos上传</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; fileName 选择的文件名称</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; filePath 本地临时文件路径 (本地路径)</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; fileSize 本地临时文件大小，单位 B</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; fileType 选择的文件类型</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@return</span> &#123;<span class="type">*</span>&#125;</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"> <span class="keyword">const</span> <span class="title function_">onStartUpload</span> = <span class="keyword">async</span> (<span class="params">fileName, filePath, fileSize, fileType</span>) =&gt; &#123;</span><br><span class="line">   <span class="comment">// 因为从手机选择文件上传无法获取文件名称，如果在无名称时上传，那么会报错</span></span><br><span class="line">   <span class="keyword">if</span> (!fileName) &#123;</span><br><span class="line">     fileName = filePath.<span class="title function_">slice</span>(filePath.<span class="title function_">indexOf</span>(<span class="string">&quot;//&quot;</span>) + <span class="number">1</span>);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">const</span> <span class="attr">sdkParams</span>: <span class="title class_">TCosInitParams</span> | &#123;&#125; = <span class="keyword">await</span> <span class="title function_">getSDKToken</span>(fileName);</span><br><span class="line">   wx.<span class="title function_">showLoading</span>(&#123;</span><br><span class="line">     <span class="attr">title</span>: <span class="string">&quot;上传中...&quot;</span>,</span><br><span class="line">     <span class="attr">mask</span>: <span class="literal">true</span>,</span><br><span class="line">   &#125;);</span><br><span class="line">   <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">     <span class="title function_">configSDK</span>(sdkParams <span class="keyword">as</span> <span class="title class_">TCosInitParams</span>).<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">       <span class="title function_">onUpload</span>(filePath).<span class="title function_">then</span>(</span><br><span class="line">         <span class="function">(<span class="params">data: TCosUploadResponse</span>) =&gt;</span> &#123;</span><br><span class="line">           <span class="keyword">const</span> params = &#123;</span><br><span class="line">               <span class="attr">cos_file_name</span>: fileName,</span><br><span class="line">               <span class="attr">cos_file_size</span>: fileSize,</span><br><span class="line">               <span class="attr">cos_file_type</span>: fileType,</span><br><span class="line">               <span class="attr">cos_url</span>: data.<span class="property">Location</span>,</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="keyword">const</span> &#123; cos_url, cos_file_name &#125; = params;</span><br><span class="line">           <span class="comment">//如果是视频的话需要额外传视频首祯图和视频封面</span></span><br><span class="line">           <span class="keyword">if</span> (<span class="title function_">judgeFileType</span>(cos_url) === <span class="string">&quot;video&quot;</span>) &#123;</span><br><span class="line">             <span class="keyword">const</span> screen = <span class="title function_">getVideoScreen</span>(cos_url);</span><br><span class="line">             <span class="title function_">getThumbnailLogo</span>(screen, cos_file_name).<span class="title function_">then</span>(</span><br><span class="line">               <span class="function">(<span class="params">res: TGetThumbnailLogoResponse</span>) =&gt;</span> &#123;</span><br><span class="line">                 <span class="keyword">const</span> &#123; <span class="attr">screen</span>: logo &#125; = res ?? &#123;&#125;;</span><br><span class="line">                 wx.<span class="title function_">hideLoading</span>();</span><br><span class="line">                 <span class="title function_">resolve</span>(&#123;</span><br><span class="line">                   ...params,</span><br><span class="line">                   <span class="attr">cos_video_file_screen</span>: screen,</span><br><span class="line">                   <span class="attr">cos_video_thumbnail_logo</span>: logo,</span><br><span class="line">                 &#125;);</span><br><span class="line">               &#125;</span><br><span class="line">             );</span><br><span class="line">           &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">             wx.<span class="title function_">hideLoading</span>();</span><br><span class="line">             <span class="title function_">resolve</span>(params);</span><br><span class="line">           &#125;</span><br><span class="line">         &#125;,</span><br><span class="line">         <span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">           wx.<span class="title function_">hideLoading</span>();</span><br><span class="line">           <span class="title function_">reject</span>(error);</span><br><span class="line">         &#125;</span><br><span class="line">       );</span><br><span class="line">     &#125;);</span><br><span class="line">   &#125;);</span><br><span class="line"> &#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">uni.<span class="title function_">chooseMessageFile</span>(&#123;</span><br><span class="line">  count,</span><br><span class="line">  type,</span><br><span class="line">  extension,</span><br><span class="line">  <span class="title function_">success</span>(<span class="params">res</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> tempFilePaths = res.<span class="property">tempFiles</span>;</span><br><span class="line">    <span class="keyword">const</span> &#123; name, path, size, type &#125; = tempFilePaths[<span class="number">0</span>];</span><br><span class="line">    <span class="title function_">onStartUpload</span>(name, path, size, type).<span class="title function_">then</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="title function_">reslove</span>(res);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">fail</span>(<span class="params">err</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;文件chooseMedia失败-----&quot;</span>, err);</span><br><span class="line">    <span class="title function_">reject</span>(err);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 小程序 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>【小程序】uniapp发布插件</title>
      <link href="/2024/02/06/%E3%80%90%E5%B0%8F%E7%A8%8B%E5%BA%8F%E3%80%91uniapp%E5%8F%91%E5%B8%83%E6%8F%92%E4%BB%B6/"/>
      <url>/2024/02/06/%E3%80%90%E5%B0%8F%E7%A8%8B%E5%BA%8F%E3%80%91uniapp%E5%8F%91%E5%B8%83%E6%8F%92%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<h1 id="【小程序】uniapp发布插件"><a href="#【小程序】uniapp发布插件" class="headerlink" title="【小程序】uniapp发布插件"></a>【小程序】uniapp发布插件</h1><p><a href="https://uniapp.dcloud.net.cn/plugin/uni_modules.html#%E4%BD%BF%E7%94%A8-uni-modules-%E6%8F%92%E4%BB%B6">uni-modules-插件</a></p><h2 id="新建发布uni-modules插件"><a href="#新建发布uni-modules插件" class="headerlink" title="新建发布uni_modules插件"></a>新建发布uni_modules插件</h2><ul><li><p>在<code>uni_modules</code>右键，选择新建一个<code>uni_modules插件</code></p><p>此时会生成一个插件模板代码</p></li><li><p>写好对应的文件后，在<code>插件目录右键</code>，选择<code>发布到插件市场</code></p><p><a href="https://imgse.com/i/pCBR6uq"><img src="https://s1.ax1x.com/2023/07/01/pCBR6uq.png" alt="pCBR6uq.png"></a></p><p>填写好对应的信息后，直接进行保存即可</p></li><li><p>发布好后，即可在uniapp插件市场中进行下载</p></li></ul><h2 id="更新插件"><a href="#更新插件" class="headerlink" title="更新插件"></a>更新插件</h2><ul><li><p>更新好具体的内容后，右键选择<code>发布到插件市场</code></p><p><a href="https://imgse.com/i/pCBWUMR"><img src="https://s1.ax1x.com/2023/07/01/pCBWUMR.png" alt="pCBWUMR.png"></a></p></li></ul><p>更新即可</p><h2 id="注意点"><a href="#注意点" class="headerlink" title="注意点"></a>注意点</h2><ul><li><p>发布和导入是同一个项目</p><p>项目里面如果又导入了这个插件，那么在uni_modules下导入的插件会被覆盖</p></li><li><p>发布的包必须包含的文件</p><ul><li><p><code>components/插件名/插件名.vue</code></p><p>如果没有这个文件，那么在发布时会报错</p></li><li><p><code>package.json</code></p><p>用于配置发布插件的一些信息</p></li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> 小程序 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>【手写】call、apply、bind</title>
      <link href="/2024/02/06/%E3%80%90%E6%89%8B%E5%86%99%E3%80%91call%E3%80%81apply%E3%80%81bind/"/>
      <url>/2024/02/06/%E3%80%90%E6%89%8B%E5%86%99%E3%80%91call%E3%80%81apply%E3%80%81bind/</url>
      
        <content type="html"><![CDATA[<h2 id="call"><a href="#call" class="headerlink" title="call"></a><em>call</em></h2><p>call 可以改变调用函数时的 this 指向，当调用但什么都不传入时，默认是 window 对象</p><h3 id="内部流程"><a href="#内部流程" class="headerlink" title="内部流程"></a>内部流程</h3><p><a href="https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-function.prototype.call">es 文档</a>上编写的流程如下:</p><ul><li><p>让一个函数 func 指向 this</p></li><li><p>如果这个函数 func 不能被调用，那么抛出 TypeError</p></li><li><p>准备尾调用 PrepareForTailCall</p></li><li><p>返回执行结果</p></li></ul><p>思路</p><ul><li><p>判断需要改变的 context 是否为空，如果为空，那么就默认指为 window。保留这个新的 context，作为后面函数调用时需要的 this 指向</p></li><li><p>将当前的 this 指向赋值给上一步保留的 context，作为 context 的一个属性</p></li><li><p>调用第一步保留的 context 的第二步赋值的属性函数，将所需要的参数传递给上一步新赋值的属性</p></li></ul><h3 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h3><ul><li>call</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">call_handle_writing</span>(<span class="params">fn</span>) &#123;</span><br><span class="line">  <span class="comment">// ctx指向obj，因为fn为非空</span></span><br><span class="line">  <span class="keyword">const</span> ctx = fn || <span class="variable language_">window</span>;</span><br><span class="line">  <span class="comment">//   ctx.cb指向的是fn1</span></span><br><span class="line">  ctx.<span class="property">cb</span> = <span class="variable language_">this</span>;</span><br><span class="line">  <span class="comment">//   获取参数</span></span><br><span class="line">  <span class="keyword">const</span> args = [...<span class="variable language_">arguments</span>].<span class="title function_">slice</span>(<span class="number">1</span>);</span><br><span class="line">  <span class="comment">//   调用fn1函数，但是由于是ctx调用的，那么fn1被调用的时候的this指向是ctx</span></span><br><span class="line">  <span class="keyword">const</span> res = ctx.<span class="title function_">cb</span>(...args);</span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Function</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">call_handle_writing</span> = call_handle_writing;</span><br></pre></td></tr></table></figure><ul><li>使用</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fn1</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">a</span> = <span class="number">1</span>;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;out&quot;</span>, <span class="variable language_">this</span>, <span class="variable language_">arguments</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">  <span class="attr">a</span>: <span class="number">100</span>,</span><br><span class="line">&#125;;</span><br><span class="line">fn1.<span class="title function_">call_handle_writing</span>(obj, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);</span><br></pre></td></tr></table></figure><h2 id="apply"><a href="#apply" class="headerlink" title="apply"></a>apply</h2><h3 id="实现流程"><a href="#实现流程" class="headerlink" title="实现流程"></a>实现流程</h3><blockquote><ol><li>Let func be the this value.</li><li>If IsCallable(func) is false, throw a TypeError exception.</li><li>If argArray is either undefined or null, then<blockquote><p>a. Perform PrepareForTailCall().<br /><br>b. Return ? <font color=red>Call(func, thisArg).</font></p></blockquote></li><li>Let argList be ? CreateListFromArrayLike(argArray).</li><li>Perform PrepareForTailCall().</li><li>Return ? Call(func, thisArg, argList).</li></ol></blockquote><p>其实就是接受一个数组作为参数，实际最后的调用时，调用的也是 call 方法</p><p>apply 调用 call 的时候，会用到扩展运算符，将参数放到 call 的参数中，因此这在一定程度上，导致了 apply 的性能会稍低于 call</p><h3 id="具体实现"><a href="#具体实现" class="headerlink" title="具体实现"></a>具体实现</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">apply_handle_writing</span>(<span class="params">fn, params</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="title class_">Array</span>.<span class="title function_">isArray</span>(params)) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">call_handle_writing</span>(fn, ...params);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">call_handle_writing</span>(fn);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Function</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">apply_handle_writing</span> = apply_handle_writing;</span><br></pre></td></tr></table></figure><h2 id="bind"><a href="#bind" class="headerlink" title="bind"></a>bind</h2><h3 id="内部流程-1"><a href="#内部流程-1" class="headerlink" title="内部流程"></a>内部流程</h3><blockquote><ol><li>Let Target be the this value.</li><li>If IsCallable(Target) is false, throw a TypeError exception.</li><li>Let F be ? BoundFunctionCreate(Target, thisArg, args).</li><li>Let L be 0.</li><li>Let targetHasLength be ? HasOwnProperty(Target, “length”).</li><li>If targetHasLength is true, then<blockquote><p>a. Let targetLen be ? Get(Target, “length”).<br/><br>b. If targetLen is a Number, then<br/></p><blockquote><p>i. If targetLen is +∞𝔽, set L to +∞.<br/></p><blockquote><p>ii. Else if targetLen is -∞𝔽, set L to 0.<br/><br>iii. Else,</p></blockquote></blockquote></blockquote></li><li>Let targetLenAsInt be ! ToIntegerOrInfinity(targetLen).</li><li>Assert: targetLenAsInt is finite.</li><li>Let argCount be the number of elements in args.</li><li>Set L to max(targetLenAsInt - argCount, 0).</li><li>Perform SetFunctionLength(F, L).</li><li>Let targetName be ? Get(Target, “name”).</li><li>If targetName is not a String, set targetName to the empty String.</li><li>Perform SetFunctionName(F, targetName, “bound”).</li><li>Return F.</li></ol></blockquote><p>考虑场景：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">A</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line">A.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">say</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">B</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line"><span class="keyword">const</span> C = A.<span class="title function_">bind</span>(B);</span><br><span class="line"><span class="keyword">const</span> c = <span class="keyword">new</span> <span class="title function_">C</span>();</span><br></pre></td></tr></table></figure><ul><li><p>调用 bind 后，使用<code>new</code>去创建一个实例，那么在<code>new</code>的时候不应该改变<code>this</code>指向</p><p>在返回的函数中，用<code>instanceof</code>判断是否是通过<code>new</code>方法进行调用的</p></li><li><p>调用 bind 后，在 c 上面可以调用 A 上 <code>prototype</code> 的方法</p><p>采用继承的方式，在返回的函数上，继承 A</p></li></ul><h3 id="具体实现-1"><a href="#具体实现-1" class="headerlink" title="具体实现"></a>具体实现</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">bind_handle_writing</span>(<span class="params">fn</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> that = <span class="variable language_">this</span>;</span><br><span class="line">  <span class="keyword">const</span> args = [...<span class="variable language_">arguments</span>].<span class="title function_">slice</span>(<span class="number">1</span>);</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">cb</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> params = [...<span class="variable language_">arguments</span>, ...args];</span><br><span class="line">    fn = <span class="variable language_">this</span> <span class="keyword">instanceof</span> cb ? <span class="variable language_">this</span> : fn;</span><br><span class="line">    <span class="keyword">return</span> that.<span class="title function_">call</span>(fn, ...params);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 用一个中间函数，在原型链上加一层，防止属性覆盖</span></span><br><span class="line">  <span class="keyword">const</span> buf = <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;;</span><br><span class="line">  buf.<span class="property"><span class="keyword">prototype</span></span> = <span class="variable language_">this</span>.<span class="property"><span class="keyword">prototype</span></span>;</span><br><span class="line">  cb.<span class="property"><span class="keyword">prototype</span></span> = <span class="title class_">Object</span>.<span class="title function_">create</span>(<span class="variable language_">this</span>.<span class="property"><span class="keyword">prototype</span></span>);</span><br><span class="line">  <span class="keyword">return</span> cb;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Function</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">bind_handle_writing</span> = bind_handle_writing;</span><br></pre></td></tr></table></figure><h3 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h3><p><a href="https://www.jianshu.com/p/b540e1e17f54">如何手写一个 bind 方法</a></p>]]></content>
      
      
      <categories>
          
          <category> js </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>【前端缓存】随机数位置区别</title>
      <link href="/2024/02/06/%E3%80%90%E5%89%8D%E7%AB%AF%E7%BC%93%E5%AD%98%E3%80%91%E9%9A%8F%E6%9C%BA%E6%95%B0%E4%BD%8D%E7%BD%AE%E5%8C%BA%E5%88%AB/"/>
      <url>/2024/02/06/%E3%80%90%E5%89%8D%E7%AB%AF%E7%BC%93%E5%AD%98%E3%80%91%E9%9A%8F%E6%9C%BA%E6%95%B0%E4%BD%8D%E7%BD%AE%E5%8C%BA%E5%88%AB/</url>
      
        <content type="html"><![CDATA[<h2 id="文件随机数存放位置区别"><a href="#文件随机数存放位置区别" class="headerlink" title="文件随机数存放位置区别"></a>文件随机数存放位置区别</h2><h3 id="文件url-随机数"><a href="#文件url-随机数" class="headerlink" title="文件url+?+随机数"></a>文件url+?+随机数</h3><ul><li><p><code>https://xxx?v=1.x.x</code></p><p>一般用于版本号对应的文件</p></li><li><p><code>https://xxx?c=s45sdf</code></p><p>一般用于文件内容生成的hash值</p></li></ul><h3 id="文件名-hash值"><a href="#文件名-hash值" class="headerlink" title="文件名+hash值"></a>文件名+hash值</h3><p><code>https://xxxs45sdf</code></p><p>hash值一般由文件内容生成</p><h2 id="区别"><a href="#区别" class="headerlink" title="区别"></a>区别</h2><p>以上两种存放位置都可以使浏览器获取最新的文件，而不是走缓存拿文件</p><p>当前主流的一般是用文件名+hash值的形式。原因如下</p><blockquote><p>一般发版时，是有html文件和js、css文件的。<br />浏览器首先去请求html文件，html嵌入了js、css等其他文件。<br />那么在请求html和js、css等文件的这个时间差内，如果采用第一种方式(文件url+?+随机数)，就容易出现问题</p></blockquote><ul><li><p>如果先发html文件，再发js、css等文件</p><ul><li><p>客户请求时，浏览器不会走缓存，会去取最新的文件。</p></li><li><p>但是可能这个时候取的js、css文件还是老的文件。那么就导致客户端下次再去请求时，走的其实是缓存。</p></li></ul></li><li><p>先发js、css等文件，再发html文件</p><ul><li><p>对于有缓存的用户不会造成影响。</p></li><li><p>但是对于无缓存的用户，拿取数据时，会拿取到最新的js、css等文件，那么最直观的影响可能是页面样式问题。但当html发布成功后，页面会恢复正常</p></li></ul></li><li><p>对于异步加载的情况</p><ul><li><p>代码发布后，用户在使用过程中，进入了一个新路由</p></li><li><p>在新路由页面，获取的是最新的代码文件，但是在进入之前，获取的是老代码文件，那么这里就会导致新老代码文件交替，容易出现问题</p></li></ul></li></ul><p>因此，采用文件名+hash的方式，无论是先发html还是js、css文件，由于是直接通过文件名去获取的，那么就不会产生上述问题。</p><ul><li><p>先发js、css等文件</p><ul><li>由于文件名不同，由于文件名已经不一样了，所以不会覆盖掉之前存在的资源文件，客户端依旧可以安全的访问。</li></ul></li><li><p>再发html文件</p><ul><li>因为js、css等文件已经发布完毕了，那么当html更新了之后，再获取的js、css等文件就已经是最新的了</li></ul></li></ul><h2 id="参链"><a href="#参链" class="headerlink" title="参链"></a>参链</h2><p><a href="https://github.com/fouber/blog/issues/6">大公司里怎样开发和部署前端代码</a></p>]]></content>
      
      
      <categories>
          
          <category> 浏览器 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>【wasb】环境搭建</title>
      <link href="/2024/02/06/%E3%80%90wasb%E3%80%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"/>
      <url>/2024/02/06/%E3%80%90wasb%E3%80%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/</url>
      
        <content type="html"><![CDATA[<h1 id="【webAsb】-Emscripten环境搭建"><a href="#【webAsb】-Emscripten环境搭建" class="headerlink" title="【webAsb】- Emscripten环境搭建"></a>【webAsb】- Emscripten环境搭建</h1><h2 id="依赖环境"><a href="#依赖环境" class="headerlink" title="依赖环境"></a>依赖环境</h2><ul><li><p>python</p></li><li><p>git</p></li></ul><p>这两项环境是必要的，否则无法进行安装</p><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><h3 id="下载项目"><a href="#下载项目" class="headerlink" title="下载项目"></a>下载项目</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone <span class="attr">https</span>:<span class="comment">//github.com/juj/emsdk.git</span></span><br></pre></td></tr></table></figure><p>下载emscripten项目</p><h3 id="安装依赖包等"><a href="#安装依赖包等" class="headerlink" title="安装依赖包等"></a>安装依赖包等</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cd emsdk <span class="comment">// 进入项目目录中</span></span><br><span class="line">emsdk update <span class="comment">// 安装各种工具</span></span><br><span class="line">emsdk install latest <span class="comment">//下载各种包，时间比较长</span></span><br><span class="line">emsdk activate latest <span class="comment">//生成 ~/.emscripten 文件，激活配置</span></span><br></pre></td></tr></table></figure><p><a href="https://imgse.com/i/pP6oCWT"><img src="https://s1.ax1x.com/2023/09/09/pP6oCWT.png" alt="pP6oCWT.png"></a></p><h3 id="配置环境变量"><a href="#配置环境变量" class="headerlink" title="配置环境变量"></a>配置环境变量</h3><p>可以先执行<code>emsdk_env</code>脚本，这个脚本默认会写入环境变量，但是也会有不成功的情况。</p><p>在非emsdk目录下执行<code>emcc --version</code>，判断是否报错，如果报错，就证明环境并未配置成功；如果未报错，那么环境已经配置完成啦</p><h4 id="环境未配置成功"><a href="#环境未配置成功" class="headerlink" title="环境未配置成功"></a>环境未配置成功</h4><ul><li><p>执行 <code>emcmdprompt.bat</code>命令</p><p><a href="https://imgse.com/i/pP6xUSA"><img src="https://s1.ax1x.com/2023/09/09/pP6xUSA.png" alt="pP6xUSA.png"></a></p></li><li><p>将带有<code>PATH +=</code>的路径写入环境变量的Path中</p><p><a href="https://imgse.com/i/pP6zKhQ"><img src="https://s1.ax1x.com/2023/09/09/pP6zKhQ.png" alt="pP6zKhQ.png"></a></p></li><li><p>将下面带有键值对的写入系统变量中</p><p>记住不能有空格，否则会执行不成功</p><p><a href="https://imgse.com/i/pP6z1cn"><img src="https://s1.ax1x.com/2023/09/09/pP6z1cn.png" alt="pP6z1cn.png"></a></p></li><li><p>在非<code>emsdk</code>目录下执行<code>emcc --version</code></p><p><a href="https://imgse.com/i/pP6zJBV"><img src="https://s1.ax1x.com/2023/09/09/pP6zJBV.png" alt="pP6zJBV.png"></a></p><p>环境配置成功</p></li></ul><h2 id="配置c-环境"><a href="#配置c-环境" class="headerlink" title="配置c++环境"></a>配置c++环境</h2><h3 id="安装配置c-c"><a href="#安装配置c-c" class="headerlink" title="安装配置c&#x2F;c++"></a>安装配置c&#x2F;c++</h3><ul><li><p>安装</p><p>安装c&#x2F;c++编译器：<a href="https://sourceforge.net/projects/mingw-w64/">https://sourceforge.net/projects/mingw-w64/</a></p></li><li><p>配置</p><p>在环境变量的Path中，把解压的mingw的bin目录加入进去</p></li></ul><h3 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h3><p>在cmd输入<code>gcc -v</code>，没有报错即可</p><p><a href="https://imgse.com/i/pPIgD91"><img src="https://z1.ax1x.com/2023/09/21/pPIgD91.png" alt="pPIgD91.png"></a></p><p><a href="https://blog.csdn.net/weixin_43180456/article/details/126374156">参链</a></p><h2 id="测试-1"><a href="#测试-1" class="headerlink" title="测试"></a>测试</h2><h3 id="编写测试程序"><a href="#编写测试程序" class="headerlink" title="编写测试程序"></a>编写测试程序</h3><p>建立一个cpp文件，写入c的代码</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Hello, world!&quot;</span> &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="生成js代码"><a href="#生成js代码" class="headerlink" title="生成js代码"></a>生成js代码</h3><blockquote><p><code>emcc test.cpp -o test.html</code></p></blockquote><p>会生成<code>html</code>，<code>js</code>和<code>wasm</code>文件，html默认引入js文件，js的作用是引入wasm文件</p><ul><li><p><code>-s</code> 表明编译到 Wasm，否则编译到 Asm.js（Wasm 的前身）， 最初 emscripten 是用于编译到 Asm.js 的。</p></li><li><p><code>SIDE_MODULE</code> 表明编译为副模块。有副模块就有主模块，简单理解副模块会去除 C 标准库函数，因为副模块会在运行时被链接到一个主模块，而主模块有C标准库函数。SIDE_MODULE的值可选 1 或者 2，前者会自动导出代码里所有的函数，而后者需要手动声明。</p></li><li><p><code>-o</code> xxxx 导出选项，导出的文件可选 .html、.js、.wasm，区别在于前面两者会帮你把胶水代码写好 ，而 .wasm 则需要在 JS 自己编写胶水代码了，但是前面两者代码冗余，比如编译为 JS 文件时，JS 文件会包含两千多行代码，不过这是学习 Wasm 的现成实例。</p></li></ul><h3 id="搭建本地服务器"><a href="#搭建本地服务器" class="headerlink" title="搭建本地服务器"></a>搭建本地服务器</h3><p>在代码路径中，搭建本地服务。在浏览器访问本地的文件会报错</p><ul><li><p><code>pnpm init</code></p><p>创建package.json文件</p></li><li><p><code>pnpm i http-server</code></p><p>安装<code>http-server</code></p></li><li><p><code>http-server -o</code></p><p>起本地服务，在浏览器打开html文件</p></li></ul><h3 id="验收"><a href="#验收" class="headerlink" title="验收"></a>验收</h3><p>用<code>http-server</code>起了本地服务后，在浏览器访问对应的域名加上生成的html文件，正常运行项目</p><p><a href="https://imgse.com/i/pPIfE5Q"><img src="https://z1.ax1x.com/2023/09/21/pPIfE5Q.png" alt="pPIfE5Q.png"></a></p><h2 id="参链"><a href="#参链" class="headerlink" title="参链"></a>参链</h2><p><a href="http://www.taodudu.cc/news/show-5750307.html?action=onClick">Emscripten编译器安装教程，亲测成功编译出第一个WebAssembly</a></p>]]></content>
      
      
      <categories>
          
          <category> webAssembly </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>【pwa】mainifest</title>
      <link href="/2024/02/06/%E3%80%90pwa%E3%80%91mainifest/"/>
      <url>/2024/02/06/%E3%80%90pwa%E3%80%91mainifest/</url>
      
        <content type="html"><![CDATA[<h1 id="mainifest-json"><a href="#mainifest-json" class="headerlink" title="mainifest.json"></a>mainifest.json</h1><h2 id="用途"><a href="#用途" class="headerlink" title="用途"></a>用途</h2><p>通过 manifest.json 可以实现自定义启动画面、打开 url、设置界面颜色、设置桌面图标等</p><h2 id="常用字段"><a href="#常用字段" class="headerlink" title="常用字段"></a>常用字段</h2><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;short_name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;pwa1&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;pwa-测试用例1&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;icons&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;src&quot;</span><span class="punctuation">:</span> <span class="string">&quot;qr-code-fill-144.png&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;sizes&quot;</span><span class="punctuation">:</span> <span class="string">&quot;144x144&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;image/png&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;start_url&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/test1&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;display&quot;</span><span class="punctuation">:</span> <span class="string">&quot;standalone&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;theme_color&quot;</span><span class="punctuation">:</span> <span class="string">&quot;blue&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;background_color&quot;</span><span class="punctuation">:</span> <span class="string">&quot;black&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><ul><li><code>name: string</code></li></ul><p>描述应用的名称，会显示在桌面图标的标题位置和启动画面中</p><ul><li><p><code>short_name: string</code></p><p>描述应用的短名称。当应用名字过长，在桌面图标无法全部显示时，会显示 shortname</p></li><li><p><code>scope：string</code></p><p>设置 manifest 对于网站的作用范围。</p></li><li><p><code>start_url: string</code></p><p>描述用户从设备主屏幕点击图标进入时的第一个地址，start_url 必须在 scope 的作用范围内</p><ul><li><p>如果为空，则以 manifest.json 作为 url</p></li><li><p>如果 url 打开失败，则和正常显示的网页打开错误的样式一样</p></li><li><p>如果设置的 url 和当前的项目不在一个域下，无法正常显示</p></li><li><p>如果 starturl 为相对地址，那么根路径基于 manifest 的路径</p></li><li><p>如果 starturl 为绝对路径，那么根路径为将</p></li></ul></li><li><p><code>icon：TIcon</code></p><p>设置 webapp 图标集合。</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">TIcon</span> = &#123;</span><br><span class="line">  <span class="attr">src</span>: <span class="built_in">string</span>; <span class="comment">//图标地址</span></span><br><span class="line">  <span class="attr">type</span>: <span class="built_in">string</span>; <span class="comment">//图标mime类型，只能为image/png</span></span><br><span class="line">  <span class="attr">sizes</span>: <span class="built_in">string</span>; <span class="comment">//图标大小，用来表示width x height，单位为px，如果图标要适配多个尺寸，则多个尺寸用空格隔开。与真实图片大小要一致</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>适配规则：</p><ul><li><p>将 webapp 添加到桌面时，浏览器会适配最合适尺寸的图标。浏览器会首先去找与显示密度想匹配且尺寸调整为 48dp 屏幕密度的图标。例如在 2 倍像素的设备上使用 96px，3 倍像素的设备上使用 144px 的</p></li><li><p>如果没有找到合适的图标，那么会查找与设备特性匹配度最高的图标</p></li><li><p>如果图标路径错误，那么将显示浏览器的默认图标</p></li></ul></li><li><p><code>background_color: string</code></p><p>启动画面的背景颜色。rgbs、hsl、hsla 等写法浏览器不支持。未设置时，默认白色</p></li><li><p><code>theme_color: string</code></p><p>显示 web app 的主题色，显示在 banner 位置</p></li><li><p><code>display: &#39;fullscreen&#39;|&#39;standalone&#39;|&#39;minimal-ui&#39;|&#39;browser&#39;</code></p><p>webapp 被启动时显示的类型</p></li><li><p><code>orientation</code>: <code>&#39;landscape-primary&#39;|&#39;landscape-secondary&#39;|&#39;landscape&#39;|&#39;portrait-primary&#39;|&#39;portrait-secondary&#39;|&#39;portrait&#39;|&#39;natural&#39;|&#39;any&#39;</code></p><p>webapp 在屏幕上的显示方向</p></li><li><p><code>dir: &#39;ltr&#39;|&#39;rtl&#39;|&#39;auto&#39;</code></p><p>文字的显示方向</p></li><li><p><code>related_applications: &#39;platform&#39;|&#39;id&#39;</code></p><p>用于定义对应的原生应用，类似应用安装横幅提示的形式去推广、引流原生应用</p></li><li><p><code>prefer_related_applications: Boolean</code></p><p>设置是否只允许用户安装原生应用</p></li></ul><h2 id="生效条件"><a href="#生效条件" class="headerlink" title="生效条件"></a>生效条件</h2><ul><li><p>必须是 https 或者 localhost</p></li><li><p>必须注册运行 service worker，且有 fetch 事件监听</p></li><li><p>manifest 必须要有 icons,且必须要至少有尺寸为144x144的</p></li><li><p>diaplay 设置为 standalone 或者 fullscreen</p></li><li><p>必须有 name 或者 short_name，start_url</p></li><li><p>prefer_related_applications 未设置或者为 false</p></li></ul><h2 id="引导安装"><a href="#引导安装" class="headerlink" title="引导安装"></a>引导安装</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;beforeinstallprompt&quot;</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;beforeinstallprompt&quot;</span>);</span><br><span class="line">  e.<span class="title function_">preventDefault</span>();</span><br><span class="line">  e.<span class="title function_">prompt</span>();<span class="comment">//显示安装弹窗</span></span><br><span class="line">&#125;);</span><br><span class="line">navigator.<span class="property">serviceWorker</span></span><br><span class="line">  .<span class="title function_">register</span>(<span class="string">&quot;pwa1.js&quot;</span>)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;service-pwa1注册成功&quot;</span>, res);</span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">catch</span>(<span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;service-pwa1注册失败&quot;</span>, err);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> PWA </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>【HTML】templates and slots</title>
      <link href="/2024/02/06/%E3%80%90HTML%E3%80%91templates%20and%20slots/"/>
      <url>/2024/02/06/%E3%80%90HTML%E3%80%91templates%20and%20slots/</url>
      
        <content type="html"><![CDATA[<h1 id="【HTML】templates-and-slots"><a href="#【HTML】templates-and-slots" class="headerlink" title="【HTML】templates and slots"></a>【HTML】templates and slots</h1><h2 id="概况"><a href="#概况" class="headerlink" title="概况"></a><h1>概况</h1></h2><p>可以用来灵活填充 Web 组件的 shadow DOM 的模板。可以复用相同的标记结构。</p><h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><ul><li><p>编写一个 template</p><p>直接在页面中编写一个 template 不会直接在页面中显示出来</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">&quot;test&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-tag">p</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">color</span>: white;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">background-color</span>: <span class="number">#666</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">padding</span>: <span class="number">5px</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">  </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>测试template<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>注册自定义模板</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">customElements.<span class="title function_">define</span>(</span><br><span class="line">  <span class="string">&quot;test-template&quot;</span>,</span><br><span class="line">  <span class="keyword">class</span> <span class="title class_">extends</span> <span class="title class_">HTMLElement</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">super</span>();</span><br><span class="line">      <span class="keyword">let</span> template = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;test&quot;</span>);</span><br><span class="line">      <span class="keyword">let</span> templateContent = template.<span class="property">content</span>;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">const</span> shadowRoot = <span class="variable language_">this</span>.<span class="title function_">attachShadow</span>(&#123; <span class="attr">mode</span>: <span class="string">&quot;open&quot;</span> &#125;);</span><br><span class="line">      shadowRoot.<span class="title function_">appendChild</span>(templateContent.<span class="title function_">cloneNode</span>(<span class="literal">true</span>));</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure></li><li><p>组件显示</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">test-template</span> /&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>页面显示</p><p><a href="https://imgse.com/i/pC4aUiV"><img src="https://s1.ax1x.com/2023/07/14/pC4aUiV.png" alt="pC4aUiV.png"></a></p><p>template 的元素的样式也是独立的，并不会因为父级定义的同一个样式而影响内部。</p><p>虽然 template 和使用在同一个页面，但是如果直接在 Elements 面板里面修改 template 的内容，<strong>不会</strong>影响到渲染的地方。</p><p><a href="https://imgse.com/i/pC4aWRO"><img src="https://s1.ax1x.com/2023/07/14/pC4aWRO.png" alt="pC4aWRO.png"></a></p></li><li><p>添加 slot</p><p>添加的slot的样式只收到父级的影响，并不会受到template中定义的样式影响</p><p>如果是template中并没有定义对于的slot，那么传入的slot并不会被渲染</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">&quot;test&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-tag">p</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">color</span>: white;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">background-color</span>: <span class="number">#666</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">padding</span>: <span class="number">5px</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">  </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">slot</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">&quot;text1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>测试template<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">test-template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>默认slot的内容<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">slot</span>=<span class="string">&quot;text1&quot;</span>&gt;</span>具名插槽的内容<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">test-template</span>&gt;</span></span><br></pre></td></tr></table></figure><p><a href="https://imgse.com/i/pC4azLj"><img src="https://s1.ax1x.com/2023/07/14/pC4azLj.png" alt="pC4azLj.png"></a></p><ul><li>获取slot名</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> el = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&#x27;test-template p&#x27;</span>)</span><br><span class="line">  el.<span class="title function_">forEach</span>(<span class="function"><span class="params">ele</span>=&gt;</span>&#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(ele.<span class="property">slot</span>)</span><br><span class="line">  &#125;)</span><br><span class="line"><span class="comment">//  输出：&quot;&quot;, &quot;text1&quot;, &quot;text2&quot;</span></span><br></pre></td></tr></table></figure></li></ul><h2 id="参链"><a href="#参链" class="headerlink" title="参链"></a>参链</h2><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Web_components/Using_templates_and_slots#%E4%BD%BF%E7%94%A8%E6%A7%BD_slots_%E6%B7%BB%E5%8A%A0%E7%81%B5%E6%B4%BB%E5%BA%A6">使用 templates and slots</a></p><p><a href="https://cloud.tencent.com/developer/article/1009633?areaSource=106001.5">shadow dom解析</a></p>]]></content>
      
      
      <categories>
          
          <category> HTML </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>【HTML】Shadow DOM</title>
      <link href="/2024/02/06/%E3%80%90HTML%E3%80%91Shadow%20DOM/"/>
      <url>/2024/02/06/%E3%80%90HTML%E3%80%91Shadow%20DOM/</url>
      
        <content type="html"><![CDATA[<h1 id="【HTML】Shadow-DOM"><a href="#【HTML】Shadow-DOM" class="headerlink" title="【HTML】Shadow DOM"></a>【HTML】Shadow DOM</h1><h2 id="概况"><a href="#概况" class="headerlink" title="概况"></a><h1>概况</h1></h2><h3 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h3><p>能够为 Web 组件中的 DOM 和 CSS 提供了封装，实际上是在浏览器渲染文档的时候会给指定的 DOM 结构插入编写好的 DOM 元素，但是插入的 Shadow DOM 会与主文档的 DOM 保持<strong>分离</strong>，也就是说 Shadow DOM<strong>不存在</strong>于主 DOM 树上。shadow root 节点为起始根节点，在这个根节点的下方，可以是任意元素，和普通的 DOM 元素一样。</p><p>并且 Shadow DOM 封装出来的 DOM 元素是<strong>独立</strong>的，外部的配置不会影响到内部，内部的配置也不会影响外部。</p><p><a href="https://imgse.com/i/pCfsSyD"><img src="https://s1.ax1x.com/2023/07/12/pCfsSyD.png" alt="pCfsSyD.png"></a></p><h3 id="查看"><a href="#查看" class="headerlink" title="查看"></a>查看</h3><p>控制台-》设置按钮-》Preference -》 Elements -》点击 show user anent shadow dom 的 checkbox</p><p><a href="https://imgse.com/i/pCfrOF1"><img src="https://s1.ax1x.com/2023/07/12/pCfrOF1.png" alt="pCfrOF1.png"></a></p><p>打开之后可以看到一些元素的真实布局及内容组成。</p><h3 id="结构"><a href="#结构" class="headerlink" title="结构"></a>结构</h3><p><img src="https://developer.mozilla.org/en-US/docs/Web/API/Web_components/Using_shadow_DOM/shadowdom.svg" alt="image.png"></p><ul><li><p><code>Shadow host</code>：一个常规 DOM 节点，Shadow DOM 会被附加到这个节点上。</p></li><li><p><code>Shadow tree</code>：Shadow DOM 内部的 DOM 树。</p></li><li><p><code>Shadow boundary</code>：Shadow DOM 结束的地方，也是常规 DOM 开始的地方。</p></li><li><p><code>Shadow root</code>: Shadow tree 的根节点。</p></li></ul><h2 id="custom-element-自定义标签"><a href="#custom-element-自定义标签" class="headerlink" title="custom element(自定义标签)"></a><h1>custom element(自定义标签)</h1></h2><h3 id="概况-1"><a href="#概况-1" class="headerlink" title="概况"></a>概况</h3><p>可以注册一个自定义标签，<code>CustomElementRegistry</code>提供注册自定义元素和查询已注册元素的方法，使用<code>customElements</code>可以直接获取其实例。</p><h3 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h3><table><thead><tr><th>方法名</th><th>作用</th><th>参数</th><th>返回值</th></tr></thead><tbody><tr><td><code>customElements.define</code></td><td>定义了一个自定义元素</td><td><code>name</code>: 自定义元素名; <code>constructor</code>: 自定义元素构造器; <code>options</code>: 控制元素如何定义(目前只支持extends)</td><td>-</td></tr><tr><td><code>customElements.get</code></td><td>返回以前定义自定义元素的构造函数</td><td><code>name</code>: 返回引用的构造函数的自定义元素的名字</td><td>指定名字的自定义元素的构造函数，如果没有使用该名称的自定义元素定义，则为undefined。</td></tr><tr><td><code>customElements.upgrade</code></td><td>将更新节点子树中所有包含阴影的自定义元素，甚至在它们连接到主文档之前也是如此</td><td><code>root</code>: 待升级的包含阴影的派生元素节点</td><td>-</td></tr><tr><td><code>customElements.whenDefined</code></td><td>当一个自定义节点被定义时走入then，如果这个元素名没有被定义，那么返回的是一直pending状态</td><td><code>name</code>: 自定义元素名</td><td>Promise</td></tr></tbody></table><h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">customElements.<span class="title function_">define</span>(<span class="string">&quot;test-shadow-dom&quot;</span>, <span class="title class_">TestShadowCls</span>)</span><br></pre></td></tr></table></figure><h2 id="使用-1"><a href="#使用-1" class="headerlink" title="使用"></a><h1>使用</h1></h2><h3 id="挂载-shadow-dom"><a href="#挂载-shadow-dom" class="headerlink" title="挂载 shadow dom"></a>挂载 shadow dom</h3><p>可以调用<code>Element.attachShadow</code>将 Shadow Dom 选择挂载或者卸载。此方法返回的是一个类 dom，可以像操作普通 dom 一样对其进行操作</p><table><thead><tr><th>参数名</th><th>作用</th><th>可选值</th></tr></thead><tbody><tr><td><code>mode</code></td><td><code>指定 Shadow DOM 树封装模式的字符串</code></td><td><code>open</code>&#x2F;<code>closed</code></td></tr><tr><td><code>delegatesFocus </code></td><td><code>焦点委托</code></td><td><code>boolean</code></td></tr></tbody></table><ul><li><p>挂载</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> shadow = el.<span class="title function_">attachShadow</span>(&#123;</span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&quot;open&quot;</span>,</span><br><span class="line">&#125;);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">dir</span>(shadow);</span><br></pre></td></tr></table></figure><p><a href="https://imgse.com/i/pCfgDbD"><img src="https://s1.ax1x.com/2023/07/12/pCfgDbD.png" alt="pCfgDbD.png"></a></p></li><li><p>操作 shadow dom</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> html = <span class="string">`&lt;p&gt;测试1&lt;/p&gt;`</span>;</span><br><span class="line">shadow.<span class="property">innerHTML</span> = html;</span><br></pre></td></tr></table></figure><p><a href="https://imgse.com/i/pCfRCm8"><img src="https://s1.ax1x.com/2023/07/12/pCfRCm8.png" alt="pCfRCm8.png"></a></p></li></ul><h3 id="自定义元素"><a href="#自定义元素" class="headerlink" title="自定义元素"></a>自定义元素</h3><p>Shadow DOM 可以渲染自定义的元素，类似于 vue3 中的组件，但里面的样式并不互相干扰。</p><ul><li><p>新建类</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">TestShadowCls</span> <span class="keyword">extends</span> <span class="title class_ inherited__">HTMLElement</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">super</span>(); <span class="comment">//必要的，因为属于子类</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>创建一个 Shadow DOM 并为其加上需要的数据</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">addShadow</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">shadow</span> = <span class="variable language_">this</span>.<span class="title function_">attachShadow</span>(&#123;</span><br><span class="line">      <span class="attr">mode</span>: <span class="string">&quot;open&quot;</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">createChild</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="keyword">const</span> el = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;div&quot;</span>);</span><br><span class="line">  <span class="keyword">const</span> pel = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;p&quot;</span>);</span><br><span class="line">  pel.<span class="property">textContent</span> = <span class="string">&quot;测试文案&quot;</span>;</span><br><span class="line">  pel.<span class="title function_">setAttribute</span>(<span class="string">&quot;class&quot;</span>, <span class="string">&quot;test&quot;</span>)</span><br><span class="line">  <span class="keyword">const</span> imgae = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;img&quot;</span>);</span><br><span class="line">  imgae.<span class="title function_">setAttribute</span>(<span class="string">&quot;src&quot;</span>, <span class="string">&quot;https://psstatic.cdn.bcebos.com/video/wiseindex/aa6eef91f8b5b1a33b454c401_1660835115000.png&quot;</span>)</span><br><span class="line">  imgae.<span class="property">src</span>=<span class="string">&quot;https://psstatic.cdn.bcebos.com/video/wiseindex/aa6eef91f8b5b1a33b454c401_1660835115000.png&quot;</span>;</span><br><span class="line">  el.<span class="title function_">appendChild</span>(pel);</span><br><span class="line">  el.<span class="title function_">appendChild</span>(imgae)</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">shadow</span>.<span class="title function_">appendChild</span>(el)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>定义自定义的元素名</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">customElements.<span class="title function_">define</span>(<span class="string">&quot;test-shadow-dom&quot;</span>, <span class="title class_">TestShadowCls</span>)</span><br></pre></td></tr></table></figure></li><li><p>使用</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">  <span class="selector-tag">p</span>&#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">color</span>: red;</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">test-shadow-dom</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>渲染效果如下，里面的文案并没有因为<code>style</code>加上的元素样式而生效</p><p><a href="https://imgse.com/i/pCfqRu4"><img src="https://s1.ax1x.com/2023/07/12/pCfqRu4.png" alt="pCfqRu4.png"></a></p></li><li><p>添加样式</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">createClass</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="keyword">const</span> style = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;style&quot;</span>);</span><br><span class="line">  style.<span class="property">textContent</span> = <span class="string">`</span></span><br><span class="line"><span class="string">      .test&#123;</span></span><br><span class="line"><span class="string">          color: blue;</span></span><br><span class="line"><span class="string">          font-weight: 600</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">  `</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">shadow</span>.<span class="title function_">appendChild</span>(style)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>加上了之后，样式生效</p><p><a href="https://imgse.com/i/pCfL98f"><img src="https://s1.ax1x.com/2023/07/12/pCfL98f.png" alt="pCfL98f.png"></a></p></li></ul><h2 id="参链"><a href="#参链" class="headerlink" title="参链"></a>参链</h2><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Web_components/Using_shadow_DOM">使用 shadow DOM</a></p><p><a href="https://zhuanlan.zhihu.com/p/559759502">究竟什么是 Shadow DOM？</a></p>]]></content>
      
      
      <categories>
          
          <category> HTML </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>【devTools】常用面板</title>
      <link href="/2024/02/06/%E3%80%90devTools%E3%80%91%E5%B8%B8%E7%94%A8%E9%9D%A2%E6%9D%BF/"/>
      <url>/2024/02/06/%E3%80%90devTools%E3%80%91%E5%B8%B8%E7%94%A8%E9%9D%A2%E6%9D%BF/</url>
      
        <content type="html"><![CDATA[<h1 id="【devTools】常用面板"><a href="#【devTools】常用面板" class="headerlink" title="【devTools】常用面板"></a>【devTools】常用面板</h1><h2 id="Elements面板"><a href="#Elements面板" class="headerlink" title="Elements面板"></a>Elements面板</h2><h3 id="将元素存入变量"><a href="#将元素存入变量" class="headerlink" title="将元素存入变量"></a>将元素存入变量</h3><ul><li><p>右击</p></li><li><p>选择store as global variable</p></li><li><p>通过$0、$1…获取对应的元素</p></li></ul><p><a href="https://imgse.com/i/pCVIrHH"><img src="https://s1.ax1x.com/2023/06/11/pCVIrHH.png" alt="pCVIrHH.png"></a></p><h2 id="console面板"><a href="#console面板" class="headerlink" title="console面板"></a>console面板</h2><h3 id="自动合并相似信息"><a href="#自动合并相似信息" class="headerlink" title="自动合并相似信息"></a>自动合并相似信息</h3><p>Group similar message in console，浏览器默认开启的</p><p><a href="https://imgse.com/i/pCVoeqe"><img src="https://s1.ax1x.com/2023/06/11/pCVoeqe.png" alt="pCVoeqe.png"></a></p><h3 id="Hide-network"><a href="#Hide-network" class="headerlink" title="Hide network"></a>Hide network</h3><p>隐藏网络的错误提示信息</p><h3 id="preserve-log"><a href="#preserve-log" class="headerlink" title="preserve log"></a>preserve log</h3><p>页面跳转时保留console信息</p><h3 id="show-timestamps"><a href="#show-timestamps" class="headerlink" title="show timestamps"></a>show timestamps</h3><p>打印时，会默认输入每一行信息的时间</p><p>打开：devtools右上角设置按钮，perferces下show timestamps</p><p><a href="https://imgse.com/i/pCVoGM8"><img src="https://s1.ax1x.com/2023/06/11/pCVoGM8.png" alt="pCVoGM8.png"></a></p><h3 id=""><a href="#" class="headerlink" title="$_"></a>$_</h3><p>作用：获取最近一次的执行结果</p><p><a href="https://imgse.com/i/pCVosMT"><img src="https://s1.ax1x.com/2023/06/11/pCVosMT.png" alt="pCVosMT.png"></a></p><h3 id="和"><a href="#和" class="headerlink" title="$和$$"></a>$和$$</h3><p><code>$</code>：document.querySelector</p><p><code>$$</code>: document.querySelectorAll</p><h3 id="x"><a href="#x" class="headerlink" title="$x"></a>$x</h3><p>可以使用xpath选择元素。</p><p>eg：$x(“&#x2F;html&#x2F;body&#x2F;div”)</p><p><a href="https://imgse.com/i/pCVofiR"><img src="https://s1.ax1x.com/2023/06/11/pCVofiR.png" alt="pCVofiR.png"></a></p><h3 id="debug"><a href="#debug" class="headerlink" title="debug"></a>debug</h3><p>执行到该函数时就会触发断点</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">fn</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">debug</span>(fn)</span><br><span class="line"><span class="title function_">fn</span>()</span><br></pre></td></tr></table></figure><p><a href="https://imgse.com/i/pCVo4Rx"><img src="https://s1.ax1x.com/2023/06/11/pCVo4Rx.png" alt="pCVo4Rx.png"></a></p><p><a href="https://imgse.com/i/pCVooQK"><img src="https://s1.ax1x.com/2023/06/11/pCVooQK.png" alt="pCVooQK.png"></a></p><h3 id="monitor"><a href="#monitor" class="headerlink" title="monitor"></a>monitor</h3><p>函数执行时打印参数值，但无法打印箭头函数的参数</p><p>执行unmonitor删除效果</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fn3</span>(<span class="params">a, b</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> a+b</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">monitor</span>(fn3)</span><br><span class="line"><span class="title function_">fn3</span>(<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line"><span class="comment">//输出：VM3370:1 function fn3 called with arguments: 1, 2</span></span><br></pre></td></tr></table></figure><h3 id="monitroEvents"><a href="#monitroEvents" class="headerlink" title="monitroEvents"></a>monitroEvents</h3><p>监听并打印元素触发的事件，可以用数组一次性监听多个事件。</p><p>执行unmonitorEvents取消监听</p><h3 id="getEventListeners"><a href="#getEventListeners" class="headerlink" title="getEventListeners"></a>getEventListeners</h3><p>获取注册在元素上的所有事件监听器</p><h3 id="queryObjects"><a href="#queryObjects" class="headerlink" title="queryObjects"></a>queryObjects</h3><p>获取所有原型链中包含该原型的对象</p><h2 id="source面板"><a href="#source面板" class="headerlink" title="source面板"></a>source面板</h2><h3 id="FileSystem"><a href="#FileSystem" class="headerlink" title="FileSystem"></a>FileSystem</h3><p>可以直接与本地的文件连接，在devtools修改文件之后，会将本地的文件内容也进行修改</p><p><a href="https://imgse.com/i/pCVXADP"><img src="https://s1.ax1x.com/2023/06/11/pCVXADP.png" alt="pCVXADP.png"></a></p><h3 id="overrides"><a href="#overrides" class="headerlink" title="overrides"></a>overrides</h3><p>可以以本地的文件取代页面中载入的资源</p><h3 id="断点"><a href="#断点" class="headerlink" title="断点"></a>断点</h3><h4 id="条件断点"><a href="#条件断点" class="headerlink" title="条件断点"></a>条件断点</h4><p>在source代码块需要设置时，在对应的行号右键，选择Add Condition Break Point，写上具体的条件</p><p><a href="https://imgse.com/i/pCVXrb6"><img src="https://s1.ax1x.com/2023/06/11/pCVXrb6.png" alt="pCVXrb6.png"></a></p><h4 id="断点打印信息，Logpoint"><a href="#断点打印信息，Logpoint" class="headerlink" title="断点打印信息，Logpoint"></a>断点打印信息，Logpoint</h4><p>在执行时经过该程序代码时打印信息</p><p><a href="https://imgse.com/i/pCVXR8H"><img src="https://s1.ax1x.com/2023/06/11/pCVXR8H.png" alt="pCVXR8H.png"></a></p><h4 id="dom断点"><a href="#dom断点" class="headerlink" title="dom断点"></a>dom断点</h4><p>在element tab，右键元素，展开break on，有三种断点形式：</p><ul><li><p>subtree modifications ：元素内发生变化时暂停，如添加、删除、修改子节点</p></li><li><p>attribute modifications ：添加、删除、修改元素本身的属性时暂停</p></li><li><p>node removal：元素被删除时暂停，同时删除dom断点</p></li></ul><h4 id="请求断点"><a href="#请求断点" class="headerlink" title="请求断点"></a>请求断点</h4><p>在debugger时，点击在XHR&#x2F;fetch Breapoints列表右上角的+按钮，输入data，回车保存。</p><h4 id="事件监听器断点"><a href="#事件监听器断点" class="headerlink" title="事件监听器断点"></a>事件监听器断点</h4><p>在debugger时，在Event Listener BreakPoint列表的Control下勾选对应的事件，然后手动触发对应的事件</p><h4 id="忽略进入文件"><a href="#忽略进入文件" class="headerlink" title="忽略进入文件"></a>忽略进入文件</h4><p>在对应的文件代码内容区域，右键选择Add script to ignore list，添加之后，这个文件就不会在调试时进入了</p><h2 id="NetWork"><a href="#NetWork" class="headerlink" title="NetWork"></a>NetWork</h2><h3 id="设置区域"><a href="#设置区域" class="headerlink" title="设置区域"></a>设置区域</h3><p><a href="https://imgse.com/i/pCVjISJ"><img src="https://s1.ax1x.com/2023/06/11/pCVjISJ.png" alt="pCVjISJ.png"></a></p><ul><li><p>Use large request rows</p><p>使用宽版的流量记录列表来显示</p></li><li><p>Group by frame</p><p>将来自相同iframe的请求聚焦在一起</p></li><li><p>show overview</p><p>是否显示时间轴</p></li></ul><p><a href="https://imgse.com/i/pCVj7O1"><img src="https://s1.ax1x.com/2023/06/11/pCVj7O1.png" alt="pCVj7O1.png"></a></p><ul><li><p>Capture screenslots</p><p>是否截图</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> 浏览器 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>【devTools】performance</title>
      <link href="/2024/02/06/%E3%80%90devTools%E3%80%91performance/"/>
      <url>/2024/02/06/%E3%80%90devTools%E3%80%91performance/</url>
      
        <content type="html"><![CDATA[<h1 id="Performance面板"><a href="#Performance面板" class="headerlink" title="Performance面板"></a>Performance面板</h1><h2 id="开始"><a href="#开始" class="headerlink" title="开始"></a>开始</h2><h3 id="前提"><a href="#前提" class="headerlink" title="前提"></a>前提</h3><ul><li><p>保持环境整洁，例如使用隐私模式、清除缓存等</p></li><li><p>确定目标，在执行过程中，尽可能缩短持续时间，避免额外的操作等</p></li></ul><h3 id="开始记录"><a href="#开始记录" class="headerlink" title="开始记录"></a>开始记录</h3><ul><li><p>打开devTools，切换到Performance面板</p></li><li><p>点击左上角的圆形按钮开始记录</p></li></ul><p><a href="https://imgse.com/i/pCVcIH0"><img src="https://s1.ax1x.com/2023/06/11/pCVcIH0.png" alt="pCVcIH0.png"></a></p><ul><li><p>记录过程种可以做一些交互</p></li><li><p>点击stop停止监测</p></li></ul><h3 id="生成内容"><a href="#生成内容" class="headerlink" title="生成内容"></a>生成内容</h3><p><a href="https://imgse.com/i/pCVvNc9"><img src="https://s1.ax1x.com/2023/06/11/pCVvNc9.png" alt="pCVvNc9.png"></a></p><ul><li><p>工具栏：与整体面板有关的操作选项和设置</p></li><li><p>overview图表：可视化呈现完整时间轴的基本信息</p></li><li><p>Activities：将性能信息以方块式的Activity为单位显示在不同种类的列表中</p></li></ul><h2 id="工具栏"><a href="#工具栏" class="headerlink" title="工具栏"></a>工具栏</h2><p><a href="https://imgse.com/i/pCVvshD"><img src="https://s1.ax1x.com/2023/06/11/pCVvshD.png" alt="pCVvshD.png"></a></p><h3 id="Disabled-Javascript-Call-Stack"><a href="#Disabled-Javascript-Call-Stack" class="headerlink" title="Disabled Javascript Call Stack"></a>Disabled Javascript Call Stack</h3><p>Main列表不会显示js的Call stack信息</p><h3 id="Enable-advanced-paint-instrumentation"><a href="#Enable-advanced-paint-instrumentation" class="headerlink" title="Enable advanced paint instrumentation"></a>Enable advanced paint instrumentation</h3><p>记录绘制性能的详细信息，并显示在</p><ul><li><p>Frames：Frame activity的Layers分页</p></li><li><p>Main：Paint activity的Paint Profiler分页</p></li></ul><h2 id="Overview图表"><a href="#Overview图表" class="headerlink" title="Overview图表"></a>Overview图表</h2><p><a href="https://imgse.com/i/pCVv79g"><img src="https://s1.ax1x.com/2023/06/11/pCVv79g.png" alt="pCVv79g.png"></a></p><table><thead><tr><th>名称</th><th>描述</th></tr></thead><tbody><tr><td>FPS，帧数</td><td><font color=green>绿色</font>竖线越高，FPS 越高。 FPS 图表上的<font color=red>红色</font>块表示长时间帧，很可能会出现卡顿</td></tr><tr><td>CPU，CPU 资源</td><td>指示消耗 CPU 资源的事件类型</td></tr><tr><td>NET，网络请求</td><td>每条彩色横杠表示一种资源。横杠越长，检索资源所需的时间越长。 每个横杠的浅色部分表示等待时间（从请求资源到第一个字节下载完成的时间），可以在屏幕快照下面查看具体的网络请求数据</td></tr></tbody></table><h3 id="FPS"><a href="#FPS" class="headerlink" title="FPS"></a>FPS</h3><p>绿色方块：每秒帧数的变化，红色、粉色横条为低帧数警告，即可能会让用户感受到卡顿的部分</p><h3 id="CPU"><a href="#CPU" class="headerlink" title="CPU"></a>CPU</h3><ul><li><p>灰色：浏览器内部的工作</p></li><li><p>蓝色：HTML请求、文件解析</p></li><li><p>黄色：事件、js</p></li><li><p>绿色：图像处理、画面绘制</p></li><li><p>紫色：样式计算</p></li></ul><h3 id="NET"><a href="#NET" class="headerlink" title="NET"></a>NET</h3><ul><li><p>蓝色：有请求正在执行</p></li><li><p>深色：优先权较高的请求</p></li></ul><h2 id="Activities"><a href="#Activities" class="headerlink" title="Activities"></a>Activities</h2><h3 id="Main"><a href="#Main" class="headerlink" title="Main"></a>Main</h3><p><a href="https://imgse.com/i/pCVxZE6"><img src="https://s1.ax1x.com/2023/06/11/pCVxZE6.png" alt="pCVxZE6.png"></a></p><ul><li><p>作用</p><p>显示主线程所有的任务，持续事件超过50ms（长任务）的任务会以红色虚线和右上角的三角形标识</p></li></ul><p>任务底下的Activities依据类型有不同颜色，黄色的js Activity底下以随机颜色显示Call Stack Activities</p><h3 id="Network"><a href="#Network" class="headerlink" title="Network"></a>Network</h3><p><a href="https://imgse.com/i/pCVx5rR"><img src="https://s1.ax1x.com/2023/06/11/pCVx5rR.png" alt="pCVx5rR.png"></a></p><ul><li><p>左侧的细线：连接至发送请求前</p></li><li><p>浅色区域：等待服务器响应</p></li><li><p>深色区域：下载资源</p></li><li><p>右侧的细线：解析资源</p></li><li><p>左上角的小方块：请求优先级，深色表示高，浅色表示浅</p></li></ul><h3 id="Frames"><a href="#Frames" class="headerlink" title="Frames"></a>Frames</h3><p>显示每一帧画面的详细信息</p><h3 id="Timeings"><a href="#Timeings" class="headerlink" title="Timeings"></a>Timeings</h3><p>显示网页使用的重要时间点</p><ul><li><p>DCL：HTML已经加载且解析完毕</p></li><li><p>FP：绘制出默认背景颜色之外的任何内容</p></li><li><p>FCP：绘制出任何文字、图片、有颜色的canvas时</p></li><li><p>LCP：绘制出页面最大的内容时</p></li><li><p>L：解析HTML期间请求的资源都载入完成时</p></li></ul><h3 id="Experience"><a href="#Experience" class="headerlink" title="Experience"></a>Experience</h3><p>显示所有元素位移并计算分数，越低表示页面稳定性越高</p><h3 id="GPU"><a href="#GPU" class="headerlink" title="GPU"></a>GPU</h3><p>显示GPU的使用事件</p><h3 id="Raster"><a href="#Raster" class="headerlink" title="Raster"></a>Raster</h3><p>定义：浏览器渲染流程中Paint阶段的一环</p><p>作用：显示产生Raster时各个线程的信息</p><h2 id="信息面板："><a href="#信息面板：" class="headerlink" title="信息面板："></a>信息面板：</h2><ul><li><p>summary：显示activity的持续时间，并将期间发生的其他activities分类显示</p></li><li><p>botton-up：将同一种activity的运行时间加总</p></li><li><p>call tree：以触发关系自上而下显示activities，最上方的称为root activity，是下面各个activities的起点</p></li><li><p>event log：以时间顺序显示activities</p></li></ul><blockquote><p>注：activity占用主线程超过50ms会被加上红色三角形，成为long task</p></blockquote><h3 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h3><p>显示该Activity的持续事件，并将期间发生的其他Activists分类显示</p><h3 id="call-tree"><a href="#call-tree" class="headerlink" title="call tree"></a>call tree</h3><p><a href="https://imgse.com/i/pCV2ztK"><img src="https://s1.ax1x.com/2023/06/11/pCV2ztK.png" alt="pCV2ztK.png"></a></p><p>call tree会显示任务由哪些activities组成，若activity的类型为程序代码，则层层展开可以看到函数的call stack</p><ul><li><p>self time</p><p>函数本身的运行时间，并不包含函数执行其他函数的时间</p></li><li><p>total time</p><p>函数本身和其下所有函数的运行时间的总和</p></li></ul><h3 id="bottom-up"><a href="#bottom-up" class="headerlink" title="bottom-up"></a>bottom-up</h3><p>会将同一种activity的运行时间加总，因此分页中self time较长的函数通常是性能瓶颈的来源</p><p>注：总运行时间长也可能是因为执行次数多</p><h3 id="Event-Log"><a href="#Event-Log" class="headerlink" title="Event Log"></a>Event Log</h3><p>以触发事件顺序显示Activities</p><h2 id="performance-monitor"><a href="#performance-monitor" class="headerlink" title="performance monitor"></a>performance monitor</h2><h3 id="打开"><a href="#打开" class="headerlink" title="打开"></a>打开</h3><p>1、在devtool按esc打开drawer，在左上角三个点打开</p><p>2、在devtools右上角的三个点，打开more tools打开</p><h3 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h3><p>实时监测性能信息，用于检查特定功能是否存在内存泄漏的问题，实时反应内存用量的趋势。一般会把重点放在js heap size（js内存使用占有量）和dom tools</p><p><a href="https://imgse.com/i/pCVf0T1"><img src="https://s1.ax1x.com/2023/06/11/pCVf0T1.png" alt="pCVf0T1.png"></a></p><h2 id="Web-Vitals"><a href="#Web-Vitals" class="headerlink" title="Web Vitals"></a>Web Vitals</h2><h3 id="LCP：前端性能指标，用于表示加载速度"><a href="#LCP：前端性能指标，用于表示加载速度" class="headerlink" title="LCP：前端性能指标，用于表示加载速度"></a>LCP：前端性能指标，用于表示加载速度</h3><p>可以在performance的timeing中可以看到</p><p><a href="https://imgse.com/i/pCV4QP0"><img src="https://s1.ax1x.com/2023/06/11/pCV4QP0.png" alt="pCV4QP0.png"></a></p><h3 id="FID：表示首次输入延迟"><a href="#FID：表示首次输入延迟" class="headerlink" title="FID：表示首次输入延迟"></a>FID：表示首次输入延迟</h3><p>通过rendering分页的Core Web Vitals来判断</p><p><a href="https://imgse.com/i/pCV45z8"><img src="https://s1.ax1x.com/2023/06/11/pCV45z8.png" alt="pCV45z8.png"></a></p><h3 id="CLS：表示累计布局偏移"><a href="#CLS：表示累计布局偏移" class="headerlink" title="CLS：表示累计布局偏移"></a>CLS：表示累计布局偏移</h3><p>通过performance的Experience的layout shift标签</p>]]></content>
      
      
      <categories>
          
          <category> 浏览器 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>【devTools】layers</title>
      <link href="/2024/02/06/%E3%80%90devTools%E3%80%91layers/"/>
      <url>/2024/02/06/%E3%80%90devTools%E3%80%91layers/</url>
      
        <content type="html"><![CDATA[<h1 id="【devTools】layers"><a href="#【devTools】layers" class="headerlink" title="【devTools】layers"></a>【devTools】layers</h1><h2 id="元素绘制"><a href="#元素绘制" class="headerlink" title="元素绘制"></a>元素绘制</h2><p>可以查看哪些元素正在绘制</p><h3 id="打开"><a href="#打开" class="headerlink" title="打开"></a>打开</h3><ul><li><p>在devtools页面按esc，点击左上角的三个点，打开rendering分页</p></li><li><p>勾选对应的选项</p></li></ul><h3 id="页面表现"><a href="#页面表现" class="headerlink" title="页面表现"></a>页面表现</h3><ul><li>勾选了paint flashing</li></ul><p>元素正在绘制时，会由绿色小框表示</p><p><a href="https://imgse.com/i/pCVha38"><img src="https://s1.ax1x.com/2023/06/11/pCVha38.png" alt="pCVha38.png"></a></p><ul><li>勾选layer borders</li></ul><p>可以显示每个图层的区域范围</p><p><a href="https://imgse.com/i/pCVh4u4"><img src="https://s1.ax1x.com/2023/06/11/pCVh4u4.png" alt="pCVh4u4.png"></a></p><h2 id="layers"><a href="#layers" class="headerlink" title="layers"></a>layers</h2><h3 id="打开-1"><a href="#打开-1" class="headerlink" title="打开"></a>打开</h3><p>在devtools右上角三个点，点击more tools，点击layers打开layers标签</p><h3 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h3><p><a href="https://imgse.com/i/pCV4AxS"><img src="https://s1.ax1x.com/2023/06/11/pCV4AxS.png" alt="pCV4AxS.png"></a></p><p>可以显示当前页面存在哪些图层，对于具体的图层，可以看到其对应的大小、产生原因及内存占有量</p>]]></content>
      
      
      <categories>
          
          <category> 浏览器 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>【css】记录小点</title>
      <link href="/2024/02/06/%E3%80%90css%E3%80%91%E8%AE%B0%E5%BD%95%E5%B0%8F%E7%82%B9/"/>
      <url>/2024/02/06/%E3%80%90css%E3%80%91%E8%AE%B0%E5%BD%95%E5%B0%8F%E7%82%B9/</url>
      
        <content type="html"><![CDATA[<h2 id="border：0与border：none区别"><a href="#border：0与border：none区别" class="headerlink" title="border：0与border：none区别"></a>border：0与border：none区别</h2><h3 id="相同点"><a href="#相同点" class="headerlink" title="相同点"></a>相同点</h3><p>两者都可以将元素的边框设为不可见</p><h3 id="不同点"><a href="#不同点" class="headerlink" title="不同点"></a>不同点</h3><ul><li><p>性能差异</p></li><li><p>border：0</p></li></ul><p>其表示为将元素边框设置为0像素，虽然在页面上无法看见，但是浏览器依旧会对边框进行渲染。因此渲染的是一个像素为0的b order。</p><p>即border：0依旧会占用内存</p><ul><li>border：none</li></ul><p>其表示的是将元素边框设置无，因此浏览器在解析时，并不会对其进行渲染</p><p>即其不会占用浏览器内存</p><ul><li>兼容</li></ul><p>在ie6&#x2F;7的button元素中，border：none并不会生效</p><h2 id="垂直居中"><a href="#垂直居中" class="headerlink" title="垂直居中"></a>垂直居中</h2><h3 id="图片"><a href="#图片" class="headerlink" title="图片"></a>图片</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">display</span>: table-cell;</span><br><span class="line"><span class="comment">// 子元素</span></span><br><span class="line">vertical-<span class="attr">align</span>: center;</span><br></pre></td></tr></table></figure><h3 id="文字"><a href="#文字" class="headerlink" title="文字"></a>文字</h3><ul><li>line-height</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">height</span>: <span class="number">20px</span>;</span><br><span class="line"><span class="attribute">line-height</span>: <span class="number">20px</span>;</span><br></pre></td></tr></table></figure><h2 id="line-height"><a href="#line-height" class="headerlink" title="line-height"></a>line-height</h2><ul><li><p>line-height指的是两行文字基线与基线之间的高度</p></li><li><p>单位为%时，计算规则是相对于当前元素的font-size计算的，即0.x*fontsize</p></li><li><p>无单位时，是相对于当前元素的font-size计算的，即x*fontsize</p></li></ul><h2 id="vertical-align"><a href="#vertical-align" class="headerlink" title="vertical-align"></a>vertical-align</h2><ul><li>元素没有设置时，继承的是父元素line-height的像素值，即如果父元素的line-height是%单位，那么浏览器计算出来的实际line-height值才会被子元素继承。</li></ul><h2 id="元素选择器"><a href="#元素选择器" class="headerlink" title="元素选择器"></a>元素选择器</h2><table><thead><tr><th>选择器</th><th>说明</th></tr></thead><tbody><tr><td>#</td><td>id选择器</td></tr><tr><td>.</td><td>class选择器</td></tr><tr><td>M N</td><td>后代选择器，选择M元素内部后代的所有N元素</td></tr><tr><td>M&gt;N</td><td>子代选择器，选择M元素内部后代的第一个子级N元素</td></tr><tr><td>M～N</td><td>兄弟选择器，选择M元素后所有的同级N元素</td></tr><tr><td>M+N</td><td>相邻选择器，选择M元素相邻的下一个N元素，M和N是同一级</td></tr></tbody></table><h2 id="包含块"><a href="#包含块" class="headerlink" title="包含块"></a>包含块</h2><h3 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h3><p>与css盒子模型类似。作用是为这个矩形内部的后代元素提供一个参考，一个元素的大小和定位往往是由该元素所在的包含块决定的。</p><h3 id="类型"><a href="#类型" class="headerlink" title="类型"></a>类型</h3><ul><li>根元素</li></ul><p>html元素，它没有父元素，是页面中最顶端的元素。根元素存在的包含块，被称为初始包含块。</p><ul><li>固定定位元素</li></ul><p>若元素的position&#x3D;fixed，那么它的包含块是当前可视窗口，即当前浏览器的窗口</p><ul><li>静态定位和相对定位元素</li></ul><p>若元素的position&#x3D;relative&#x2F;absolute，那么其包含块是由离他最近的块级祖先元素创建的。祖先元素必须是block、inline-block或table-cell</p><ul><li>绝对定位元素</li></ul><p>若元素的position&#x3D;absolute，那么其包含块是最近的position！&#x3D;static的元素。祖先元素可以是块元素，也可以是行内元素</p><h2 id="em"><a href="#em" class="headerlink" title="em"></a>em</h2><p>em是相对于当前元素的父元素计算的</p><p>但是当用于fontsize时，如果多有个嵌套的元素，那么从父层到子层，其元素字号会越来越小</p><h2 id="background-size-auto-渲染规则"><a href="#background-size-auto-渲染规则" class="headerlink" title="background-size: auto 渲染规则"></a>background-size: auto 渲染规则</h2><ul><li>如果图像没有内在尺寸和内在比例</li></ul><p>按背景定位区域的大小进行渲染，等同于设置属性100%</p><ul><li>水平和垂直方向同时具有内在尺寸</li></ul><p>按图像原始大小进行渲染</p><ul><li>没有内在尺寸，但有内在比例</li></ul><p>渲染效果等同于contain</p><ul><li>只有一个方向有内在尺寸，但具有内在比例</li></ul><p>图像会拉伸到该内在尺寸的大小，同时宽高比符合内在比例</p><ul><li>只有一个方向有内在尺寸，没有内在比例</li></ul><p>图像有内在尺寸的一侧会拉伸到该内在尺寸大小，没有设置内在尺寸的一侧会拉伸到背景定位区域大小</p><p>##background-size：一个为auto，一个为非auto</p><ul><li>有内在比例</li></ul><p>会拉伸到指定的尺寸，宽高依然保持原有的比例</p><ul><li>没有内在比例</li></ul><p>图像会拉伸到指定尺寸。</p><p>如果图像有内在尺寸，则auto到计算尺寸就是图像的尺寸</p><p>如果图像没有内在尺寸，那么auto的计算尺寸就是背景定位区域的尺寸</p><h2 id="background-position"><a href="#background-position" class="headerlink" title="background-position"></a>background-position</h2><ul><li>只有一个值</li></ul><p>例如：20px &#x3D;&#x3D; 20px center</p><p>如果只有一个值，那么无论是具体的数值或者百分比或者是关键字，另一个值一定是center</p><ul><li><p>两个值</p></li><li><p>两个都是关键属性值</p></li></ul><p>left、right表示水平，top、bottom表示垂直。</p><p>不能包含对立的方位，即top bottom是无效的</p><ul><li>一个是关键属性值，一个是数值或者百分比</li></ul><p>如果第一个值是百分比或者数值，那么表示水平方向，另一个关键属性值表示垂直方向</p><p>如果第一个值是关键属性值，那么表示水平方向，另一个百分比或者数值表示垂直方向</p><ul><li>两个值都是数值或者百分比</li></ul><p>第一个表示水平方向，第二个表示垂直方向</p><ul><li>3个值或者4个值</li></ul><p>数值和百分比表示偏移量，第一个值一定要是关键属性值，这个关键属性值表示偏移方向</p><h2 id="opacity"><a href="#opacity" class="headerlink" title="opacity"></a>opacity</h2><p>opacity不等于1的元素会创建一个层叠上下文，层叠顺序会变高</p><h2 id="border-raduis"><a href="#border-raduis" class="headerlink" title="border-raduis"></a>border-raduis</h2><h3 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h3><ul><li>只有一个值</li></ul><p>表示圆角属性作用在全部四个角上</p><ul><li>有两个值</li></ul><p>第一个作用于左上角和右下角，第二个作用于右上角和左下角</p><ul><li>三个值</li></ul><p>第一个作用于左上角，第二个作用于右上角和左下角，第三个作用于右下角</p><ul><li>四个值</li></ul><p>按照顺时针的方向，左上、右上、右下、左下</p><h3 id="水平半径和垂直半径"><a href="#水平半径和垂直半径" class="headerlink" title="水平半径和垂直半径"></a>水平半径和垂直半径</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">border-left</span>-<span class="attribute">top</span>-radius: <span class="number">10px</span> <span class="number">20px</span></span><br><span class="line">border-raduis：<span class="number">10px</span> / <span class="number">20px</span></span><br></pre></td></tr></table></figure><p>表示圆角是水平半径为10px，垂直半径为20px的椭圆产生的</p><h3 id="重叠曲线"><a href="#重叠曲线" class="headerlink" title="重叠曲线"></a>重叠曲线</h3><p>f&#x3D;min(Lh&#x2F;Sh, Lv&#x2F;Sv)</p><p>S为半径之和，L为元素宽高，h和v表示方向，f为计算值。</p><p>Lh：元素宽</p><p>Sh：垂直方向的半径和</p><p>Lv：元素高度</p><p>Sv：水平方向的半径和</p><p>如果f计算值小于1，那么所有圆角半径都乘以f</p><p>eg：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">border-top</span>-<span class="attribute">left</span>-raduis：<span class="number">30px</span> <span class="number">100%</span>；</span><br><span class="line"><span class="attribute">border-bottom</span>-<span class="attribute">left</span>-raduis：<span class="number">30px</span> <span class="number">100%</span>；</span><br><span class="line"><span class="attribute">width</span>：<span class="number">150px</span>；</span><br><span class="line"><span class="attribute">height</span>：<span class="number">100px</span>；</span><br></pre></td></tr></table></figure><p>左上角和左下角的垂直半径是100%（元素高），水平半径是30px<br>f&#x3D;min（150&#x2F;60，100&#x2F;200）&#x3D;0.5</p><p>所以渲染结果为</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">border-top</span>-<span class="attribute">left</span>-raduis：<span class="number">15px</span> <span class="number">50%</span>；</span><br><span class="line"><span class="attribute">border-bottom</span>-<span class="attribute">left</span>-raduis：<span class="number">15px</span> <span class="number">50%</span>；</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> css </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>【css】滚动贴合</title>
      <link href="/2024/02/06/%E3%80%90css%E3%80%91%E6%BB%9A%E5%8A%A8%E8%B4%B4%E5%90%88/"/>
      <url>/2024/02/06/%E3%80%90css%E3%80%91%E6%BB%9A%E5%8A%A8%E8%B4%B4%E5%90%88/</url>
      
        <content type="html"><![CDATA[<h1 id="【css】滚动贴合"><a href="#【css】滚动贴合" class="headerlink" title="【css】滚动贴合"></a>【css】滚动贴合</h1><h2 id="scroll-snap-type"><a href="#scroll-snap-type" class="headerlink" title="scroll-snap-type"></a>scroll-snap-type</h2><h3 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h3><p>可以设置滚动贴合的方向和方式。</p><h3 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h3><ul><li><p><code>none</code></p><p>  没有贴合点的效果</p></li><li><p><code>x</code>&#x2F;<code>y</code> 或者 <code>inline</code>&#x2F;<code>block</code></p><ul><li><p><code>x</code>: </p><p>  可以设置水平轴上的捕捉位置</p></li><li><p><code>y</code>: </p><p>  可以设置垂直轴上的捕捉位置</p></li><li><p><code>block</code></p><p>  可以设置块状元素排列一个滚动方向的捕捉位置，默认文档流指的是垂直方向</p></li><li><p><code>inline</code></p><p>  可以设置内联状元素排列一个滚动方向的捕捉位置，默认文档流指的是水平方向</p></li></ul><p>  在默认文档流的情况下，这<code>x</code>和<code>inline</code>, <code>y</code>和<code>block</code>的表现都是一样的。但其实际上还是有区别的</p><blockquote><p><code>x</code>和<code>y</code>是物理轴，x对应于水平滚动，y对应于垂直滚动。</p></blockquote><blockquote><p><code>block</code>和<code>inline</code>是逻辑轴，block对应于垂直滚动，inline对应于水平滚动。</p></blockquote><p>  在改变文档流(<code>writing-mode</code>)之后，那么<code>x</code>和<code>inline</code>的表现就会不一致了。</p><p>  <font color=red>普通</font>文档流的情况下，设置的<code>x</code>属性，贴合属性的<font color=red>生效</font><br>  <a href="https://imgse.com/i/pC5wZWV"><img src="https://s1.ax1x.com/2023/07/15/pC5wZWV.png" alt="pC5wZWV.png"></a></p><p>  <font color=red>改变</font>文档流的情况下，设置的<code>x</code>属性，贴合属性的<font color=red>不生效</font><br>  <a href="https://imgse.com/i/pC5wnQU"><img src="https://s1.ax1x.com/2023/07/15/pC5wnQU.png" alt="pC5wnQU.png"></a></p><p>  <font color=red>改变</font>文档流的情况下，设置的<code>inline</code>属性，贴合属性的<font color=red>生效</font><br>  <a href="https://imgse.com/i/pC5wuyF"><img src="https://s1.ax1x.com/2023/07/15/pC5wuyF.png" alt="pC5wuyF.png"></a></p></li><li><p><code>both</code></p><p> 滚动容器会独立捕捉到其两个轴上的位置（可能会捕捉到每个轴上的不同元素）</p><p> 不管是正常文档流和改变文档流后，都会被捕获</p></li><li><p><code>mandatory</code>和<code>proximity</code></p><ul><li><p><code>mandatory</code>    </p><p>  滚动操作结束后，滚动容器必须对齐到最近的一个滚动捕捉点。无论用户滚动的距离有多远，都会强制对齐到最近的捕捉点。这种模式下，用户不能停在两个捕捉点之间。</p></li><li><p><code>proximity</code><br>  当滚动操作结束后，只有当最近的滚动捕捉点在一定范围内时，滚动容器才会对齐到该捕捉点。如果最近的捕捉点距离太远，用户可以停在两个捕捉点之间。</p></li></ul><p>  所以，<code>mandatory</code>比<code>proximity</code>更严格，它会强制滚动容器对齐到最近的滚动捕捉点，而<code>proximity</code>则允许用户在两个滚动捕捉点之间停下。</p></li></ul><h2 id="scroll-snap-align"><a href="#scroll-snap-align" class="headerlink" title="scroll-snap-align"></a>scroll-snap-align</h2><h3 id="作用-1"><a href="#作用-1" class="headerlink" title="作用"></a>作用</h3><p>用于子元素的属性，设置其捕获点</p><h3 id="属性-1"><a href="#属性-1" class="headerlink" title="属性"></a>属性</h3><ul><li><p><code>start</code></p><p>  设置捕获点为元素的起始位置</p><p>  <a href="https://imgse.com/i/pC5woYq"><img src="https://s1.ax1x.com/2023/07/15/pC5woYq.png" alt="pC5woYq.png"></a></p></li><li><p><code>center</code></p><p>  设置捕获点是元素居中</p><p>  <a href="https://imgse.com/i/pC5wHpV"><img src="https://s1.ax1x.com/2023/07/15/pC5wHpV.png" alt="pC5wHpV.png"></a></p></li><li><p><code>start</code></p><p>  设置捕获点为元素的结束位置</p><p>  <a href="https://imgse.com/i/pC5wblT"><img src="https://s1.ax1x.com/2023/07/15/pC5wblT.png" alt="pC5wblT.png"></a></p></li></ul><h2 id="scroll-margin-scroll-padding"><a href="#scroll-margin-scroll-padding" class="headerlink" title="scroll-margin &#x2F; scroll-padding"></a>scroll-margin &#x2F; scroll-padding</h2><h3 id="作用-2"><a href="#作用-2" class="headerlink" title="作用"></a>作用</h3><p>可以设置贴合间距</p><p><a href="https://imgse.com/i/pC5rEBF"><img src="https://s1.ax1x.com/2023/07/15/pC5rEBF.png" alt="pC5rEBF.png"></a></p><p><code>scroll-margin</code>是作用于子元素的，而<code>scroll-margin</code>是父元素才生效的。这两个属性和<code>margin</code>&#x2F;<code>padding</code>一样，可以设置例如<code>scroll-margin-top</code>这些属性用于不同方向的样式</p><h2 id="scroll-behavior"><a href="#scroll-behavior" class="headerlink" title="scroll-behavior"></a>scroll-behavior</h2><h3 id="作用-3"><a href="#作用-3" class="headerlink" title="作用"></a>作用</h3><p>可以设置滚动时是否需要显示动画</p><h3 id="属性-2"><a href="#属性-2" class="headerlink" title="属性"></a>属性</h3><ul><li><p><code>auto</code></p><p>  默认值，表示滚动行为立即跳转到目标位置，没有过渡效果</p></li><li><p><code>smooth</code></p><p>  滚动行为会平滑地过渡到目标位置，产生一种动画效果。</p></li></ul><h2 id="overscroll-behavior"><a href="#overscroll-behavior" class="headerlink" title="overscroll-behavior"></a><code>overscroll-behavior</code></h2><h3 id="作用-4"><a href="#作用-4" class="headerlink" title="作用"></a>作用</h3><p>用于控制页面在滚动到底部或顶部时的行为。即如果子元素滚动到最底部后继续滚动，是否需要连带父元素滚动</p><h3 id="属性-3"><a href="#属性-3" class="headerlink" title="属性"></a>属性</h3><ul><li><p><code>auto</code></p><p>  允许滚动行为传播到父元素</p></li><li><p><code>contain</code></p><p>  防止滚动行为传播到父元素，但允许页面的弹性滚动效果（比如在移动设备上，滚动到底部时页面会稍微弹一下）</p></li><li><p><code>none</code></p><p>  不允许滚动行为传播到父元素</p></li></ul><h2 id="兼容性"><a href="#兼容性" class="headerlink" title="兼容性"></a>兼容性</h2><ol><li><p><code>scroll-snap-type</code> 和 <code>scroll-snap-align</code>：这两个属性在所有主流浏览器中都得到了支持，包括 Firefox、Chrome、Edge、Opera 和 Safari。</p></li><li><p><code>scroll-margin</code>：这个属性在 Firefox 和 Chrome（包括基于 Chromium 的浏览器如 Edge 和 Opera）中得到了支持，但在 Safari 中的支持情况不太理想。</p></li><li><p><code>overscroll-behavior</code>和<code>scroll-behavior</code>：这个属性在 Firefox 和 Chrome（包括基于 Chromium 的浏览器如 Edge 和 Opera）中得到了很好的支持，但在 Safari 中尚未被支持。</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> css </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>【css】层叠上下文</title>
      <link href="/2024/02/06/%E3%80%90css%E3%80%91%E5%B1%82%E5%8F%A0%E4%B8%8A%E4%B8%8B%E6%96%87/"/>
      <url>/2024/02/06/%E3%80%90css%E3%80%91%E5%B1%82%E5%8F%A0%E4%B8%8A%E4%B8%8B%E6%96%87/</url>
      
        <content type="html"><![CDATA[<h1 id="【css】层叠上下文"><a href="#【css】层叠上下文" class="headerlink" title="【css】层叠上下文"></a>【css】层叠上下文</h1><h2 id="层叠水平"><a href="#层叠水平" class="headerlink" title="层叠水平"></a>层叠水平</h2><p>层叠水平，stacking level，其决定了同一个层叠上下文中元素在z轴上的显示顺序</p><p>所有元素都有层叠水平，包括层叠上下文和普通元素。但对于普通元素的层叠水平只局限于当前的层叠上下文中。</p><p>zindex在某些情况下可以影响层叠水平，但仅限于定位元素以及flex盒子的子元素，而层叠水平是所有元素都存在。</p><h2 id="层叠顺序"><a href="#层叠顺序" class="headerlink" title="层叠顺序"></a>层叠顺序</h2><p>stacking order，其表示元素层叠时有特定的垂直显示顺序，其是规则而非概念</p><h3 id="层叠顺序规则"><a href="#层叠顺序规则" class="headerlink" title="层叠顺序规则"></a>层叠顺序规则</h3><p>从下到上的顺序为：</p><p>层叠上下文 background&#x2F;border -&gt; 负zindex -&gt; block块状水平盒子 -&gt; float浮动盒子 -&gt; inline水平盒子 -&gt; zindex&#x3D;auto&#x2F;0 -&gt; 正zindex</p><p>注：</p><ul><li><p>位于最下面的background&#x2F;border指层叠上下文元素的边框和背景色，每个层叠顺序规则仅适用于当前层叠上下文元素的小世界</p></li><li><p>inline水平盒子指的是 inline&#x2F;inline-block&#x2F;inline- table</p></li><li><p>background&#x2F;border作为装饰属性，float&#x2F;block一般用于布局，inline都是内容，而内容的重要性是相对优先的</p></li></ul><h2 id="层叠准则"><a href="#层叠准则" class="headerlink" title="层叠准则"></a>层叠准则</h2><p>当元素发生层叠的时候，其覆盖关系遵循下面两天准则</p><ul><li><p>谁大谁上：当有明显的层叠水平标识时，如生效的zindex，在同一个层叠上下文领域，层叠水平值大的一个覆盖小的一个</p></li><li><p>后来居上：当元素的层叠水平一致、层叠顺序相同时，在dom流中处于后面的元素覆盖前面的元素</p></li></ul><h2 id="层叠上下文"><a href="#层叠上下文" class="headerlink" title="层叠上下文"></a>层叠上下文</h2><h3 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h3><p>层叠上下文（Stacking Context）是一个HTML元素的三维概念。在CSS2.1规范中，每个盒模型的位置是三维的，分别是平面画布上的x轴、y轴和表示层叠的z轴。</p><p>它是页面中的一部分，决定了元素在<strong>Z轴</strong>上的堆叠顺序。在层叠上下文中，元素可以在三维空间中相对于其他元素前后排列，类似于一叠卡片。</p><p>层叠上下文的创建是可以嵌套的，也就是说一个层叠上下文内部可以包含另一个层叠上下文.在这种情况下，内部的层叠上下文会被整体地放在外部层叠上下文的某个层叠等级上，而内部层叠上下文的z-index值不会影响到外部层叠上下文的堆叠顺序。</p><blockquote><p>作用</p></blockquote><p>这个概念主要用于解决覆盖和重叠元素的问题，例如当元素的部分透明或定位不同导致元素重叠时，层叠上下文就会决定哪个元素在上面，哪个在下面。</p><h3 id="特性"><a href="#特性" class="headerlink" title="特性"></a>特性</h3><ul><li><p>层叠上下文的层叠水平高于普通元素</p></li><li><p>层叠上下文可以阻断元素的混合模式</p></li><li><p>层叠上下文可以嵌套，内部层叠上下文及其所有子元素均受制于外部的层叠上下文</p></li><li><p>每个层叠上下文和兄弟元素独立，即当进行层叠变化或者渲染时，只需要考虑后代元素</p></li><li><p>每个层叠上下文是自成体系的，当元素发生层叠时，整个元素被认为是在父层叠上下文的层叠顺序中</p></li></ul><h3 id="层叠等级"><a href="#层叠等级" class="headerlink" title="层叠等级"></a>层叠等级</h3><h1></h1><p>层叠等级（stacking level），又称层叠级别、层叠水平。在<strong>同一个</strong>层叠上下文中有作用。</p><blockquote><p>作用</p></blockquote><ul><li><p>决定该层叠上下文中的层叠上下文元素在z轴上的上下顺序</p></li><li><p>在普通元素中，它决定这些普通元素在z轴上的上下顺序</p></li></ul><h3 id="层叠顺序-1"><a href="#层叠顺序-1" class="headerlink" title="层叠顺序"></a>层叠顺序</h3><h1></h1><p>层叠顺序（stacking order）表示元素发生层叠时有着特定的垂直显示顺序。</p><p>注: 层叠上下文和层叠水平是概念，层叠顺序是规则</p><p><a href="https://imgse.com/i/pCzHpgf"><img src="https://s1.ax1x.com/2023/07/28/pCzHpgf.png" alt="堆叠顺序规则"></a></p><h3 id="层叠上下文与层叠顺序"><a href="#层叠上下文与层叠顺序" class="headerlink" title="层叠上下文与层叠顺序"></a>层叠上下文与层叠顺序</h3><ul><li><p>如果层叠上下文元素不依赖于zindex，其层叠顺序是zindex：auto，可看成zindex&#x3D;0</p></li><li><p>如果层叠上下文依赖于zindex数值，则层叠顺序由zindex决定</p></li></ul><p>从下到上的顺序为：</p><p>层叠上下文 background&#x2F;border -&gt; 负zindex -&gt; block块状水平盒子 -&gt; float浮动盒子 -&gt; inline水平盒子 -&gt; zindex&#x3D;auto&#x2F;0 ，不依赖zindex的层叠上下文-&gt; 正zindex</p><p>因此，元素一旦成为定位元素，其zindex会自动生效，此时其zindex就是默认的auto，即0级别，根据上面的层叠顺序表，其会覆盖float&#x2F;block&#x2F;inline元素</p><h2 id="触发条件"><a href="#触发条件" class="headerlink" title="触发条件"></a>触发条件</h2><h3 id="创建"><a href="#创建" class="headerlink" title="创建"></a>创建</h3><h4 id="根层叠上下文"><a href="#根层叠上下文" class="headerlink" title="根层叠上下文"></a>根层叠上下文</h4><p>指页面根元素，可以看成是html元素.  HTML中的根元素<html></html>本身就具有层叠上下文，称为“根层叠上下文”。这也时绝对定位元素在没有其他定位元素限制时，会相对于浏览器窗口定位的原因。</p><p>页面中所有元素一定处于至少一个层叠结界中</p><h4 id="定位元素与传统层叠上下文"><a href="#定位元素与传统层叠上下文" class="headerlink" title="定位元素与传统层叠上下文"></a>定位元素与传统层叠上下文</h4><ul><li><p>position&#x3D;relative&#x2F;absolute</p></li><li><p>position&#x3D;fixed（Firefox&#x2F;ie，不包括chrome</p></li></ul><p>chrome在此情景下，会将此元素作为天然层叠上下文元素</p><p>当满足上面其一条件时，zindex！&#x3D;auto时，会创建层叠上下文</p><h4 id="css3"><a href="#css3" class="headerlink" title="css3"></a>css3</h4><ul><li><p>flex元素，同时zindex！&#x3D; auto</p></li><li><p>opacity ！&#x3D; 1</p></li><li><p>mix-blend-mode ！&#x3D; normal</p></li><li><p>filter ！&#x3D; none</p></li><li><p>isolation &#x3D; isolate</p></li><li><p>will-change为上面2～6的任意一个</p></li><li><p>-webkit- overflow-scrolling &#x3D; touch</p></li></ul><h2 id="比较规则"><a href="#比较规则" class="headerlink" title="比较规则"></a>比较规则</h2><ul><li><p>同一个层叠上下文中，</p><ul><li><p>元素层级不同</p><p>比较“内部元素层叠级别”，层叠等级大的元素显示在上，层叠等级小的显示在下</p></li><li><p>两个元素的层叠等级相同</p><p>后面元素堆叠到前面元素的上面，即“后来者居上”</p></li></ul></li><li><p>在不同层叠上下文中</p><p>比较“父级元素层叠等级”，元素显示顺序以“父级”的层叠级别来决定元素的先后顺序，与自身的层叠顺序无关</p></li><li><p>当页面中两个元素发生堆叠时，其或其祖先元素必处于同一层叠上下文（最差情况下同处根层叠上下文）</p></li></ul><h2 id="参链"><a href="#参链" class="headerlink" title="参链"></a>参链</h2><ul><li><a href="https://blog.csdn.net/m0_56229413/article/details/115458436">层叠上下文、层叠等级、层叠顺序</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> css </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>【css】contain</title>
      <link href="/2024/02/06/%E3%80%90css%E3%80%91contain/"/>
      <url>/2024/02/06/%E3%80%90css%E3%80%91contain/</url>
      
        <content type="html"><![CDATA[<h1 id="【css】contain"><a href="#【css】contain" class="headerlink" title="【css】contain"></a>【css】contain</h1><p>标示了元素及其内容尽可能独立于文档树的其余部分。可以防止元素内部在其包围盒外产生副作用。局限使 DOM 的一部分得以被隔离，且通过将布局、样式、绘制、尺寸或其任意组合的计算限制于 DOM 子树而非整个页面使性能受益。局限也可用于限制 CSS 计数器和引号的作用域。</p><p>局限的主要<strong>益处</strong>在于浏览器无需经常重渲 DOM 或页面布局，由此在静态页面的渲染中带来小幅性能收益，在更动态的应用中带来更多的性能收益。</p><p>允许我们指定特定的 DOM 元素和它的子元素，让它们能够独立于整个 DOM 树结构之外。目的是能够让浏览器有能力只对部分元素进行重绘、重排，而不必每次针对整个页面。著作权归作者所有。</p><h2 id="属性值"><a href="#属性值" class="headerlink" title="属性值"></a>属性值</h2><p>此属性为五个标准值的子集或两个简写值之一构成的以空格分隔的列表</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 关键词值 */</span></span><br><span class="line"><span class="attribute">contain</span>: none;</span><br><span class="line"><span class="attribute">contain</span>: strict;</span><br><span class="line"><span class="attribute">contain</span>: content;</span><br><span class="line"><span class="attribute">contain</span>: size;</span><br><span class="line"><span class="attribute">contain</span>: inline-size;</span><br><span class="line"><span class="attribute">contain</span>: layout;</span><br><span class="line"><span class="attribute">contain</span>: style;</span><br><span class="line"><span class="attribute">contain</span>: paint;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 多个关键词 */</span></span><br><span class="line"><span class="attribute">contain</span>: size paint;</span><br><span class="line"><span class="attribute">contain</span>: size layout paint;</span><br><span class="line"><span class="attribute">contain</span>: inline-size layout;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 全局值 */</span></span><br><span class="line"><span class="attribute">contain</span>: inherit;</span><br><span class="line"><span class="attribute">contain</span>: initial;</span><br><span class="line"><span class="attribute">contain</span>: revert;</span><br><span class="line"><span class="attribute">contain</span>: revert-layer;</span><br><span class="line"><span class="attribute">contain</span>: unset;</span><br></pre></td></tr></table></figure><blockquote><p>注：<code>layout</code>、<code>paint</code>、<code>strict</code> 或 <code>content</code>将创建：</p><blockquote><p>新的包含区块（针对其 position 属性为 absolute 或 fixed 的后代元素）。</p><p>新的层叠上下文。</p><p>新的区块格式化上下文。</p></blockquote></blockquote><h2 id="none"><a href="#none" class="headerlink" title="none"></a><code>none</code></h2><p>元素照常渲染，不应用局限。</p><h2 id="size"><a href="#size" class="headerlink" title="size"></a><code>size</code></h2><p>在行向和块向上将尺寸局限应用于元素。元素尺寸可无视子元素单独计算。</p><p>此值不可与 <code>inline-size</code> 结合使用。</p><h3 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h3><ul><li>原始代码</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;wrap&quot;</span> <span class="attr">id</span>=<span class="string">&quot;wrap&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;parent&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.wrap</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">5px</span> solid black;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">min-height</span>: <span class="number">200px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.parent</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">5px</span> solid yellowgreen;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">90px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: royalblue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;wrap&quot;</span>).<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> child = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;p&quot;</span>);</span><br><span class="line">    child.<span class="property">textContent</span> =</span><br><span class="line">      <span class="string">&quot;这是内容这是内容这是内容这是内容这是内容这是内容这是内容&quot;</span>;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;wrap&quot;</span>).<span class="title function_">appendChild</span>(child);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">fn</span>();</span><br></pre></td></tr></table></figure><p><a href="https://imgse.com/i/pFpDM24"><img src="https://s11.ax1x.com/2024/01/09/pFpDM24.png" alt="pFpDM24.png"></a></p><ul><li>修改后的</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.wrap</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">+ <span class="attribute">contain</span>: size;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://imgse.com/i/pFpDJVx"><img src="https://s11.ax1x.com/2024/01/09/pFpDJVx.png" alt="pFpDJVx.png"></a></p><h2 id="inline-size"><a href="#inline-size" class="headerlink" title="inline-size"></a><code>inline-size</code></h2><p>将行向尺寸局限应用于元素。元素的行向尺寸可无视子元素单独计算</p><p>此值不可与 <code>size</code> 结合使用。</p><h2 id="layout"><a href="#layout" class="headerlink" title="layout"></a><code>layout</code></h2><p>从页面的其余部分中隔离出元素的内部布局。此值意味着元素外的任意内容和元素内部布局<strong>互不影响</strong>。</p><h3 id="示例-1"><a href="#示例-1" class="headerlink" title="示例"></a>示例</h3><ul><li>原始样式</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;wrap&quot;</span> <span class="attr">id</span>=<span class="string">&quot;wrap&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>这是内容这是内容这是内容这是内容这是内容这是内容这是内容<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">&quot;top: 140px;&quot;</span>&gt;</span></span><br><span class="line">      这是内容这是内容这是内容这是内容这是内容这是内容这是内容</span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">&quot;top: 460px;&quot;</span>&gt;</span></span><br><span class="line">      这是内容这是内容这是内容这是内容这是内容这是内容这是内容</span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;float&quot;</span>&gt;</span>这是浮动元素这是浮动元素这是浮动元素<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;parent&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">      兄弟结点兄弟结点兄弟结点兄弟结点兄弟结点兄弟结点兄弟结点兄弟结点兄弟结点兄弟结点兄弟结点兄弟结点兄弟结点兄弟结点</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.wrap</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">5px</span> solid black;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.parent</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">5px</span> solid yellowgreen;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">90px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: royalblue;</span><br><span class="line">  <span class="attribute">position</span>: fixed;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">color</span>: white;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.float</span> &#123;</span><br><span class="line">  <span class="attribute">float</span>: left;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">150px</span>;</span><br><span class="line">  <span class="attribute">position</span>: inherit;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://imgse.com/i/pFp6U0A"><img src="https://s11.ax1x.com/2024/01/09/pFp6U0A.png" alt="pFp6U0A.png"></a></p><ul><li>修改样式</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.wrap</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">5px</span> solid black;</span><br><span class="line">+  <span class="attribute">contain</span>: layout;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://imgse.com/i/pFp6wkt"><img src="https://s11.ax1x.com/2024/01/09/pFp6wkt.png" alt="pFp6wkt.png"></a></p><p>这里有<strong>两个</strong>变化：</p><p>1、子元素的定位从相对于窗口定位变为了<strong>相对于父元素定位</strong></p><p>2、子元素层级<strong>高于</strong>父元素的兄弟元素</p><p>3、浮动元素<strong>不会影响</strong>其他节点</p><h2 id="paint"><a href="#paint" class="headerlink" title="paint"></a><code>paint</code></h2><p>元素后代不在元素边界外显示。若包含盒在屏外，则浏览器无需绘制其被局限的元素——这些元素因为完全局限于此盒故必定也在屏外。若后代元素溢出包含元素的边界，则此后代元素将被裁剪至包含元素的边框盒。</p><p>类似于<code>overflow:hidden</code>，但<code>contain:paint</code>超出的范围不会再被绘制，所以其对于性能更加友好，但是<code>overflow</code>的兼容性更高</p><p><a href="https://imgse.com/i/pFpqEUf"><img src="https://s11.ax1x.com/2024/01/10/pFpqEUf.png" alt="pFpqEUf.png"></a></p><p><a href="https://imgse.com/i/pFpqn2Q"><img src="https://s11.ax1x.com/2024/01/10/pFpqn2Q.png" alt="pFpqn2Q.png"></a></p><h3 id="示例-2"><a href="#示例-2" class="headerlink" title="示例"></a>示例</h3><ul><li>原始代码</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;wrap&quot;</span> <span class="attr">id</span>=<span class="string">&quot;wrap&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>这是内容这是内容这是内容这是内容这是内容这是内容这是内容<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;parent&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">      兄弟结点兄弟结点兄弟结点兄弟结点兄弟结点兄弟结点兄弟结点兄弟结点兄弟结点兄弟结点兄弟结点兄弟结点兄弟结点兄弟结点</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.wrap</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">5px</span> solid black;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.parent</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">5px</span> solid yellowgreen;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">60px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: royalblue;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">color</span>: white;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://imgse.com/i/pFpq8aV"><img src="https://s11.ax1x.com/2024/01/10/pFpq8aV.png" alt="pFpq8aV.png"></a></p><ul><li>修改样式</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.wrap</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">5px</span> solid black;</span><br><span class="line">+  <span class="attribute">contain</span>: paint;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://imgse.com/i/pFpqQrn"><img src="https://s11.ax1x.com/2024/01/10/pFpqQrn.png" alt="pFpqQrn.png"></a></p><p>超出父元素的内容都被隐藏掉了</p><h2 id="style"><a href="#style" class="headerlink" title="style"></a><code>style</code></h2><p>对于可在元素及其后代外产生影响的属性，其影响将不会逃离包含元素。计数器和引号的作用域被限制为元素及其内容。</p><h3 id="示例-3"><a href="#示例-3" class="headerlink" title="示例"></a>示例</h3><ul><li>原始数据</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>元素甲<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>元素乙<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>元素丙<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>元素丁<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>元素戊<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;open-quote&quot;</span>&gt;</span></span><br><span class="line">  外</span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;open-quote&quot;</span>&gt;</span>内<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;close-quote&quot;</span>&gt;</span>闭 <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">ul</span> &#123;</span><br><span class="line">  <span class="attribute">counter-reset</span>: list-items;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">li</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">counter-increment</span>: list-items;</span><br><span class="line">  <span class="attribute">content</span>: <span class="built_in">counter</span>(list-items) <span class="string">&quot;：&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">quotes</span>: <span class="string">&quot;【&quot;</span> <span class="string">&quot;】&quot;</span> <span class="string">&quot;〈&quot;</span> <span class="string">&quot;〉&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.open-quote</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: open-quote;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.close-quote</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: close-quote;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://imgse.com/i/pFpjPW8"><img src="https://s11.ax1x.com/2024/01/10/pFpjPW8.png" alt="pFpjPW8.png"></a></p><p>li 元素按 1、2、3 排序，引号也是按顺序排列</p><ul><li>修改后</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;open-quote&quot;</span>&gt;</span></span><br><span class="line">  外</span><br><span class="line">+  <span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">&quot;contain: style&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;open-quote&quot;</span>&gt;</span>内<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;close-quote&quot;</span>&gt;</span>闭 <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="addition">+ li:nth-last-child(2n + 2) &#123;</span></span><br><span class="line"><span class="addition">+  contain: style;</span></span><br><span class="line"><span class="addition">+ &#125;</span></span><br></pre></td></tr></table></figure><p><a href="https://imgse.com/i/pFpjFSS"><img src="https://s11.ax1x.com/2024/01/10/pFpjFSS.png" alt="pFpjFSS.png"></a></p><p>变化点：<br>1、元素计数器会重新开始，且不影响之前的数据</p><p>2、括号没有计算到第二个，直接以【为关闭</p><h2 id="参链"><a href="#参链" class="headerlink" title="参链"></a>参链</h2><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/contain">MDN-contain</a></p><p><a href="https://www.cnblogs.com/xiaonian8/p/14932371.html">CSS新特性contain的语法、作用及使用场景</a></p><p><a href="https://www.w3cplus.com/css/deep-dive-into-css-contain.html">初探CSS的容器模块</a></p>]]></content>
      
      
      <categories>
          
          <category> css </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【css】border-raduis</title>
      <link href="/2024/02/06/%E3%80%90css%E3%80%91border-raduis/"/>
      <url>/2024/02/06/%E3%80%90css%E3%80%91border-raduis/</url>
      
        <content type="html"><![CDATA[<h2 id="border-raduis"><a href="#border-raduis" class="headerlink" title="border-raduis"></a>border-raduis</h2><h3 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h3><ul><li>只有一个值</li></ul><p>表示圆角属性作用在全部四个角上</p><ul><li>有两个值</li></ul><p>第一个作用于左上角和右下角，第二个作用于右上角和左下角</p><ul><li>三个值</li></ul><p>第一个作用于左上角，第二个作用于右上角和左下角，第三个作用于右下角</p><ul><li>四个值</li></ul><p>按照顺时针的方向，左上、右上、右下、左下</p><h3 id="水平半径和垂直半径"><a href="#水平半径和垂直半径" class="headerlink" title="水平半径和垂直半径"></a>水平半径和垂直半径</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">border-left</span>-<span class="attribute">top</span>-radius: <span class="number">10px</span> <span class="number">20px</span></span><br><span class="line">border-raduis：<span class="number">10px</span> / <span class="number">20px</span></span><br></pre></td></tr></table></figure><p>表示圆角是水平半径为10px，垂直半径为20px的椭圆产生的</p><h3 id="重叠曲线"><a href="#重叠曲线" class="headerlink" title="重叠曲线"></a>重叠曲线</h3><p>f&#x3D;min(Lh&#x2F;Sh, Lv&#x2F;Sv)</p><p>S为半径之和，L为元素宽高，h和v表示方向，f为计算值。</p><p>Lh：元素宽</p><p>Sh：垂直方向的半径和</p><p>Lv：元素高度</p><p>Sv：水平方向的半径和</p><p>如果f计算值小于1，那么所有圆角半径都乘以f</p><p>eg：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">border-top</span>-<span class="attribute">left</span>-raduis：<span class="number">30px</span> <span class="number">100%</span>；</span><br><span class="line"><span class="attribute">border-bottom</span>-<span class="attribute">left</span>-raduis：<span class="number">30px</span> <span class="number">100%</span>；</span><br><span class="line"><span class="attribute">width</span>：<span class="number">150px</span>；</span><br><span class="line"><span class="attribute">height</span>：<span class="number">100px</span>；</span><br></pre></td></tr></table></figure><p>左上角和左下角的垂直半径是100%（元素高），水平半径是30px<br>f&#x3D;min（150&#x2F;60，100&#x2F;200）&#x3D;0.5</p><p>所以渲染结果为</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">border-top</span>-<span class="attribute">left</span>-raduis：<span class="number">15px</span> <span class="number">50%</span>；</span><br><span class="line"><span class="attribute">border-bottom</span>-<span class="attribute">left</span>-raduis：<span class="number">15px</span> <span class="number">50%</span>；</span><br></pre></td></tr></table></figure><h2 id="渲染细节"><a href="#渲染细节" class="headerlink" title="渲染细节"></a>渲染细节</h2><p>如果元素设置了border边框，则圆角半径会被分为内半径和外半径</p><ul><li><p>padding边缘的圆角大小为设置的border- radius - 边框厚度</p></li><li><p>如果相邻两侧边框厚度不同，则圆角大小将在较厚和较薄边界之间显示平滑过度</p></li><li><p>圆角边框的连接线和直角边框连接线位置一致，但是角度有所不同</p></li><li><p>border-raduis不支持负值</p></li><li><p>圆角以外的区域不可点击，无法响应click事件</p></li><li><p>borser-radius没有继承性</p></li><li><p>支持transition过渡效果，支持animation动画效果</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> css </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>【css】BFC</title>
      <link href="/2024/02/06/%E3%80%90css%E3%80%91BFC/"/>
      <url>/2024/02/06/%E3%80%90css%E3%80%91BFC/</url>
      
        <content type="html"><![CDATA[<p>定义：页面中的一块渲染区域，同一个格式化上下文内和不同格式化上下文之间的定位方式都会发生变化</p><h2 id="bfc-块级格式化上下文"><a href="#bfc-块级格式化上下文" class="headerlink" title="bfc(块级格式化上下文)"></a>bfc(块级格式化上下文)</h2><h3 id="创建条件"><a href="#创建条件" class="headerlink" title="创建条件"></a>创建条件</h3><ul><li><p>根元素</p></li><li><p>脱离普通文档流的元素(浮动，绝对定位，固定定位)</p></li><li><p>非块级元素(包含flex，table)</p></li><li><p>overflow ！&#x3D;&#x3D; visible(默认值)的块级元素</p></li></ul><h3 id="影响"><a href="#影响" class="headerlink" title="影响"></a>影响</h3><ul><li><p>同一个bfc内的相邻块级元素垂直外边距会发生折叠，即两者边距取决于双方边距的最大值而不是边距和</p></li><li><p>内部元素与外部元素互不影响，因为bfc是独立容器</p></li><li><p>在计算bfc高度时，内部的浮动元素也会被计算在哪内</p></li></ul><h2 id="ifc-内联格式化上下文"><a href="#ifc-内联格式化上下文" class="headerlink" title="ifc(内联格式化上下文)"></a>ifc(内联格式化上下文)</h2><h3 id="形成"><a href="#形成" class="headerlink" title="形成"></a>形成</h3><p>多个内联（块级）元素排列在一起的时候，这些内联（块级）元素之间不能穿插块级元素，否则会被切割为多个ifc</p><h3 id="影响-1"><a href="#影响-1" class="headerlink" title="影响"></a>影响</h3><ul><li><p>一个ifc内的元素都是水平排列的</p></li><li><p>横向的margin，border，padding属性对这些元素都是有效的</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> css </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>解析 attrs</title>
      <link href="/2024/02/06/%E3%80%90AST%E3%80%91-%E8%A7%A3%E6%9E%90attrs/"/>
      <url>/2024/02/06/%E3%80%90AST%E3%80%91-%E8%A7%A3%E6%9E%90attrs/</url>
      
        <content type="html"><![CDATA[<h1 id="【AST】-解析-attrs"><a href="#【AST】-解析-attrs" class="headerlink" title="【AST】-解析 attrs"></a>【AST】-解析 attrs</h1><h2 id="考虑情况"><a href="#考虑情况" class="headerlink" title="考虑情况"></a>考虑情况</h2><ul><li>普通情况</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span>=<span class="string">&quot;a&quot;</span></span><br></pre></td></tr></table></figure><ul><li>空格情况</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span>=<span class="string">&quot;a b c&quot;</span></span><br></pre></td></tr></table></figure><ul><li>无引号情况</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data = <span class="number">1</span>;</span><br></pre></td></tr></table></figure><ul><li>无赋值情况</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data - a;</span><br></pre></td></tr></table></figure><h2 id="方案"><a href="#方案" class="headerlink" title="方案"></a>方案</h2><h3 id="前情"><a href="#前情" class="headerlink" title="前情"></a>前情</h3><p>1、attrs 作为一整串字符串传入，因为第二种(空格)情况的存在，不能通过空格进行数组分割</p><p>2、存在第二种(无引号)的情况，不能完全通过引号作为标志位进行分割</p><h3 id="结论"><a href="#结论" class="headerlink" title="结论"></a>结论</h3><ul><li><p>以引号和等于同时作为标志位，对字符串进行切分。引号为第一准则，等号为附用</p></li><li><p>在切分 key 与 value 时，以等号作为分割符，但还需要检查 key 中是否存在空格，如果有空格，则表示存在第四种(无赋值情况)情况</p></li></ul><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">getKeyValue</span>(<span class="params">strs</span>) &#123;</span><br><span class="line">  <span class="comment">// 存放key-value/attr字符的数组</span></span><br><span class="line">  <span class="keyword">let</span> res = [];</span><br><span class="line">  <span class="comment">// 是否是有双引号的标志位</span></span><br><span class="line">  <span class="keyword">let</span> is_start = <span class="literal">false</span>;</span><br><span class="line">  <span class="comment">// 是否是有等号的标志位</span></span><br><span class="line">  <span class="keyword">let</span> is_equal = <span class="literal">false</span>;</span><br><span class="line">  <span class="comment">// 存放每个key-value的字符</span></span><br><span class="line">  <span class="keyword">let</span> str = <span class="string">&quot;&quot;</span>;</span><br><span class="line">  <span class="comment">// 遍历整个attrs字符串</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; strs.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    str += strs[i];</span><br><span class="line">    <span class="comment">// 如果当前的字符是引号，那么表示一个attr值的开始或者结束，class=&quot;(开始)a&quot;(结束)</span></span><br><span class="line">    <span class="keyword">if</span> (strs[i] === <span class="string">`&quot;`</span>) &#123;</span><br><span class="line">      <span class="comment">// 如果之前已经出现了引号，那么表示这个引号是attr的结束位，class=&quot;a&quot;(结束)</span></span><br><span class="line">      <span class="keyword">if</span> (is_start) &#123;</span><br><span class="line">        <span class="comment">// 那么就需要将当前收集的字符存到attr的数组中</span></span><br><span class="line">        str = str.<span class="title function_">replaceAll</span>(<span class="string">&#x27;&quot;&#x27;</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line">        res.<span class="title function_">push</span>(str);</span><br><span class="line">        <span class="comment">// 需要重新收集，那么一切回到初始</span></span><br><span class="line">        is_start = <span class="literal">false</span>;</span><br><span class="line">        is_equal = <span class="literal">false</span>;</span><br><span class="line">        str = <span class="string">&quot;&quot;</span>;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// 如果之前没有引号，那么表示这个引号是attr值的开始位，class=&quot;(开始)a&quot;</span></span><br><span class="line">        is_start = <span class="literal">true</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 如果有=，但是没有&quot;表示开始，那么就表示是x=1的形式</span></span><br><span class="line">    <span class="keyword">if</span> (strs[i] === <span class="string">&quot;=&quot;</span> &amp;&amp; !is_start) &#123;</span><br><span class="line">      is_equal = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 如果当时是空格，并且是出现过等号且没有出现过引号，那么表示是data=1的情况</span></span><br><span class="line">    <span class="keyword">if</span> (strs[i] === <span class="string">&quot; &quot;</span> &amp;&amp; is_equal &amp;&amp; !is_start) &#123;</span><br><span class="line">      <span class="comment">// 那么就需要将当前收集的字符存到attr的数组中</span></span><br><span class="line">      res.<span class="title function_">push</span>(str);</span><br><span class="line">      <span class="comment">// 需要重新收集，那么一切回到初始</span></span><br><span class="line">      is_start = <span class="literal">false</span>;</span><br><span class="line">      is_equal = <span class="literal">false</span>;</span><br><span class="line">      str = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 数据已经遍历完成，但是str还没有结束</span></span><br><span class="line">  <span class="keyword">if</span> (str) &#123;</span><br><span class="line">    res.<span class="title function_">push</span>(str);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">const</span> data = res.<span class="title function_">reduce</span>(<span class="function">(<span class="params">pre, cur</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 通过等号将attr的str分隔开</span></span><br><span class="line">    <span class="keyword">let</span> [key, val = <span class="string">&quot;&quot;</span>] = cur.<span class="title function_">split</span>(<span class="string">&quot;=&quot;</span>);</span><br><span class="line">    <span class="comment">// 去掉key的左右空格</span></span><br><span class="line">    key = key.<span class="title function_">trim</span>();</span><br><span class="line">    <span class="comment">// 如果key还存在空格，那么就表示是data-b data=1的情况</span></span><br><span class="line">    <span class="keyword">if</span> (key.<span class="title function_">includes</span>(<span class="string">&quot; &quot;</span>)) &#123;</span><br><span class="line">      <span class="comment">// 需要将key以空格分割开</span></span><br><span class="line">      <span class="keyword">const</span> keys = key.<span class="title function_">split</span>(<span class="string">&quot; &quot;</span>);</span><br><span class="line">      <span class="comment">// 将在最后一个key之前的key都放入attrs数组里面</span></span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; keys.<span class="property">length</span> - <span class="number">1</span>; i++) &#123;</span><br><span class="line">        pre.<span class="title function_">push</span>(&#123; <span class="attr">key</span>: keys[i].<span class="title function_">trim</span>(), <span class="attr">val</span>: <span class="string">&quot;&quot;</span> &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// 最后一个key作为对于的value值</span></span><br><span class="line">      key = keys[keys.<span class="property">length</span> - <span class="number">1</span>].<span class="title function_">trim</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 在attrs里面添加attr的key及value</span></span><br><span class="line">    pre.<span class="title function_">push</span>(&#123; <span class="attr">key</span>: key.<span class="title function_">trim</span>(), <span class="attr">val</span>: val.<span class="title function_">trim</span>() &#125;);</span><br><span class="line">    <span class="keyword">return</span> pre;</span><br><span class="line">  &#125;, []);</span><br><span class="line">  <span class="keyword">return</span> data;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">getKeyValue</span>( <span class="string">` class=&quot;a b  c &quot;   id=&quot;d &quot; data-b data-c data=1   data-a=&quot;111&quot; data-d`</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出</span></span><br><span class="line"><span class="comment">// res(keyvalue)数组：</span></span><br><span class="line"> [<span class="string">&#x27; class=a b  c &#x27;</span>, <span class="string">&#x27;   id=d &#x27;</span>, <span class="string">&#x27; data-b data-c data=1 &#x27;</span>, <span class="string">&#x27;  data-a=111&#x27;</span>, <span class="string">&#x27; data-d&#x27;</span>]</span><br><span class="line"><span class="comment">// data结果：</span></span><br><span class="line">[</span><br><span class="line">    &#123;<span class="attr">key</span>: <span class="string">&#x27;class&#x27;</span>, <span class="attr">val</span>: <span class="string">&#x27;a b  c&#x27;</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">key</span>: <span class="string">&#x27;id&#x27;</span>, <span class="attr">val</span>: <span class="string">&#x27;d&#x27;</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">key</span>: <span class="string">&#x27;data-b&#x27;</span>, <span class="attr">val</span>: <span class="string">&#x27;&#x27;</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">key</span>: <span class="string">&#x27;data-c&#x27;</span>, <span class="attr">val</span>: <span class="string">&#x27;&#x27;</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">key</span>: <span class="string">&#x27;data&#x27;</span>, <span class="attr">val</span>: <span class="string">&#x27;1&#x27;</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">key</span>: <span class="string">&#x27;data-a&#x27;</span>, <span class="attr">val</span>: <span class="string">&#x27;111&#x27;</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">key</span>: <span class="string">&#x27;data-d&#x27;</span>, <span class="attr">val</span>: <span class="string">&#x27;&#x27;</span>&#125;,</span><br><span class="line">]</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>浏览器安全</title>
      <link href="/2024/02/06/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%AE%89%E5%85%A8/"/>
      <url>/2024/02/06/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%AE%89%E5%85%A8/</url>
      
        <content type="html"><![CDATA[<h2 id="url"><a href="#url" class="headerlink" title="url"></a>url</h2><h3 id="规范形式"><a href="#规范形式" class="headerlink" title="规范形式"></a>规范形式</h3><blockquote><p>scheme：&#x2F;&#x2F;[user:password@]domain:port&#x2F;path?query_string#fragments</p></blockquote><ul><li>scheme</li></ul><p>方案名，也常被当为协议名混用。一般为http、https、ftp等，告诉浏览器应该如何进行连接。浏览器在识别时不区分大小写</p><ul><li>[user:password]。可选</li></ul><p>验证信息，提供登陆主机的身份信息，不建议使用这种方式进行身份验证，因为传递时是明文，且并非所有浏览器都支持</p><ul><li>domain</li></ul><p>主机名，使用域名，主机名或者合法ip均可。如果要使用ipv6地址，则地址必须要在中括号([])中括起来，如http:&#x2F;&#x2F;[::1]。不区分域名大小写</p><ul><li>port</li></ul><p>端口号，表明浏览器应该连接目标的哪个端口，如果没有指定，使用默认端口（http为80，https为443）</p><ul><li>path</li></ul><p>路径，表明浏览器获取什么数据。如果服务器的文件系统是大小写敏感，那么路径也可能是大小写敏感</p><ul><li>query_string</li></ul><p>查询字符串，由一个或多个“key&#x3D;value”对组成，表示需要传递给服务器的内容</p><ul><li>fragments</li></ul><p>片段字符，hash部分，表明文档资源的某个部分位置。例如可以让浏览器定位到锚点（通称超级链接锚点标签<a>，anchor）的id处。一般情况下，hash值改变不会使得浏览器发出请求</p><h3 id="安全"><a href="#安全" class="headerlink" title="安全"></a>安全</h3><ul><li>字形欺骗</li></ul><p>利用字形相似来进行url的替换，例如英文l和数字1，不同国家之间的符号欺骗等</p><ul><li>浏览器的自纠错</li></ul><p>分解映射：浏览器会对一些字符有自动分解，会将一些特定字符分解为浏览器可识别的内容。</p><p>例如将罗马数字，cjk兼容字符，带圈数字&#x2F;英文等替换为ascii字符</p><h2 id="http"><a href="#http" class="headerlink" title="http"></a>http</h2><h3 id="crlf攻击"><a href="#crlf攻击" class="headerlink" title="crlf攻击"></a>crlf攻击</h3><p>通过注入http头来篡改响应消息，，也可以构建超长的http头攻击运行着apache2.2.0～2.2.21服务器，使用户的http only的cookie泄漏</p><h3 id="401"><a href="#401" class="headerlink" title="401"></a>401</h3><p>利用浏览器的特性—当用户正在访问需要认证的资源时，服务器会响应401，浏览器收到这个状态码后，会根据服务器提供的认证提示信息弹出认证窗口。</p><h3 id="xss"><a href="#xss" class="headerlink" title="xss"></a>xss</h3><p>-存储型：用户输入内容没有做校验</p><h2 id="页面"><a href="#页面" class="headerlink" title="页面"></a>页面</h2><h3 id="点击劫持"><a href="#点击劫持" class="headerlink" title="点击劫持"></a>点击劫持</h3><p>将页面用iframe或者其他形式放在页面底层，用户查看的页面和实际点击的数据不一致。</p><p>-预防：<code>x-frame-option</code>设置页面是否支持iframe显示</p><h3 id="中间人攻击"><a href="#中间人攻击" class="headerlink" title="中间人攻击"></a>中间人攻击</h3><p>###阻止hsts，即阻止http升级https</p>]]></content>
      
      
      <categories>
          
          <category> 浏览器 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>性能评估模型</title>
      <link href="/2024/02/06/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E6%80%A7%E8%83%BD%E8%AF%84%E4%BC%B0%E6%A8%A1%E5%9E%8B/"/>
      <url>/2024/02/06/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E6%80%A7%E8%83%BD%E8%AF%84%E4%BC%B0%E6%A8%A1%E5%9E%8B/</url>
      
        <content type="html"><![CDATA[<h2 id="客户端场景参数"><a href="#客户端场景参数" class="headerlink" title="客户端场景参数"></a>客户端场景参数</h2><ul><li><p>设备特征：包括类型（pc&#x2F;手机&#x2F;pad）、硬件配置（cpu&#x2F;内存等）、操作系统（ios&#x2F;安卓等）以及操作系统版本等，</p></li><li><p>浏览器特征：品牌、版本等</p></li><li><p>网络情况：连接方式（光纤&#x2F;Wi-Fi&#x2F;移动）、运营商、地区、带宽等。</p></li></ul><h2 id="加载阶段"><a href="#加载阶段" class="headerlink" title="加载阶段"></a>加载阶段</h2><h3 id="目标"><a href="#目标" class="headerlink" title="目标"></a>目标</h3><p>领浏览器尽可能快地完成网址初始状态（即第一屏）的呈现，给用户留下良好的第一印象。</p><h3 id="优化方向"><a href="#优化方向" class="headerlink" title="优化方向"></a>优化方向</h3><ul><li><p>从视觉角度提高网站内容的渲染速度</p></li><li><p>白屏时间</p></li><li><p>计算时间：<br>将用户在浏览器地址栏中输入url按下回车那一刻作为计时起点，将有可视化的图像渲染到浏览器视窗的时间点作为计时终点，其中的差值就是白屏时间。</p></li><li><p>浏览器工作：<br>域名查询、与web服务器建立tcp连接、发送http请求、接受并渲染文档等。</p></li><li><p>首屏时间</p></li><li><p>计算：<br>计时终点是浏览器的第一屏首次完全渲染完毕的时间点。而计时起点有两种说法，一种是从用户按下回车键开始，即白屏时间被算入首屏时间；一种是将白屏时间的终点作为首屏时间的起点。</p></li><li><p>可交互节点</p></li></ul><p>将网站首次可以响应用户操作反馈的那一刻作为可交互节点，其代表的是一个时刻而不是一个时间间隔。</p><ul><li><p>从交互角度缩短从打开网站到可交互之间的时间间隔，对应可交互节点指标</p></li><li><p>首次有效绘制</p></li></ul><p>对应于不同的业务，在页面上的元素有不同的优先级渲染排序。比如地图中，最重要的元素是地图本身而不是工具箱。因此为了达到更好的效益，优先级高的内容应该相对更早地展示给用户，首次有效绘制指的就是优先级最高的内容被首次渲染的时间节点</p><ul><li>广告可视节点</li></ul><p>更快地将广告展示给用户能间接提高与广告商之间的议价，对于公司来说，广告是非常重要甚至是主要的创收途径。</p><h2 id="可交互阶段"><a href="#可交互阶段" class="headerlink" title="可交互阶段"></a>可交互阶段</h2><h3 id="衡量角度"><a href="#衡量角度" class="headerlink" title="衡量角度"></a>衡量角度</h3><ul><li><p>反馈速度<br>尽可能快的响应用户的操作，根据具体的架构设计可表现在不同的角度。</p></li><li><p>动画帧率<br>对于游戏、地图等涉及数据量庞大时，这个是需要主要的考虑点。</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> 额外内容 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>【webwork】介绍</title>
      <link href="/2024/02/06/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%90webwork%E3%80%91%E4%BB%8B%E7%BB%8D/"/>
      <url>/2024/02/06/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%90webwork%E3%80%91%E4%BB%8B%E7%BB%8D/</url>
      
        <content type="html"><![CDATA[<h2 id="特性"><a href="#特性" class="headerlink" title="特性"></a>特性</h2><ul><li>能长时间运行</li><li>启动性能理想</li><li>内存消耗理想</li></ul><h2 id="线程"><a href="#线程" class="headerlink" title="线程"></a>线程</h2><p>webwork依赖于浏览器（宿主环境）来实现的，从而实现了浏览器对多线程的支持</p><blockquote><p>种类</p></blockquote><ul><li>dedicated worker（专用线程）：只能被首次生成它的脚本使用</li><li>shared worker（共享线程）：可以同时被多个脚本使用</li></ul><h2 id="模式和执行流"><a href="#模式和执行流" class="headerlink" title="模式和执行流"></a>模式和执行流</h2><h3 id="模式"><a href="#模式" class="headerlink" title="模式"></a>模式</h3><ul><li><p>主线程提交任务</p></li><li><p>WorkerGlobal做子任务分配，分配到某个worker</p></li><li><p>worker子线程分配后，将处理结果返回给WorkerGlobal，WorkerGlobal再将结果返回给主线程</p></li></ul><h3 id="执行流"><a href="#执行流" class="headerlink" title="执行流"></a>执行流</h3><ul><li><p>主线程调用new Worker，内核异步创建worker</p></li><li><p>浏览器内核创建WebCore：Worker</p></li><li><p>主线程调用postMessage通知。</p></li></ul><p>如果当时worker没有创建完成，那么会在浏览器内核中的message队列存放信息，当worker创建完成后，由浏览器内核将消息从队列中放入到worker线程中的执行循环</p><p>如果worker创建已经完成了，那么主线程直接通知到worker线程中的onmessage，不会经历浏览器内核</p><ul><li>worker执行完成后，调用postMessage将信息传递给主线程的onmessage回调中。不经历浏览器内核</li></ul><h2 id="api"><a href="#api" class="headerlink" title="api"></a>api</h2><h3 id="主线程"><a href="#主线程" class="headerlink" title="主线程"></a>主线程</h3><ul><li><p>构造</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> worker = <span class="keyword">new</span> <span class="title class_">Worker</span>(url, options)</span><br></pre></td></tr></table></figure><p>注：</p></li><li><p>页面不允许启动worker，会引发security error</p></li><li><p>脚本类型只接收mime类型为text&#x2F;javascript</p></li><li><p>url无法解析会导致syntaxerror</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> webwork </category>
          
      </categories>
      
      
        <tags>
            
            <tag> webwork </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【webpack】配置项</title>
      <link href="/2024/02/06/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%90webpack%E3%80%91%E9%85%8D%E7%BD%AE%E9%A1%B9/"/>
      <url>/2024/02/06/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%90webpack%E3%80%91%E9%85%8D%E7%BD%AE%E9%A1%B9/</url>
      
        <content type="html"><![CDATA[<h1 id="entry"><a href="#entry" class="headerlink" title="entry"></a>entry</h1><h2 id="context"><a href="#context" class="headerlink" title="context"></a>context</h2><p>在查找相对路径时，以context为根目录。<br>默认为webpack启动时的所在工作目录。<br>注：context必须是一个绝对路径的字符串</p><h2 id="entry-1"><a href="#entry-1" class="headerlink" title="entry"></a>entry</h2><p>类型：string&#x2F;array&#x2F;object<br>｜类型｜例子｜说明｜<br>｜——-｜——-｜——-｜<br>｜string｜index•js｜入口模块的文件路径，可以是相对路径｜<br>｜array｜【index。js，index2。js】｜入口模块的文件路径，可以是相对路径｜<br>｜object｜{a：index。js}｜配置多个入口，每个入口生成一个chunk｜</p><p>如果是array，搭配output。library时，只有数组的最后一个入口文件的模块会被导出</p><h1 id="output"><a href="#output" class="headerlink" title="output"></a>output</h1><h2 id="filename"><a href="#filename" class="headerlink" title="filename"></a>filename</h2><ul><li>id：chunk的唯一标识，从0开始</li><li>name：chunk的名称</li><li>hash：chunk的唯一标识的hash值</li><li>chunkhash：chunk内容的hash</li></ul><h1 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h1><h2 id="target"><a href="#target" class="headerlink" title="target"></a>target</h2><p>代码运行的不同环境，默认为web</p><ul><li>web：针对浏览器，所有代码都集中到一个文件中</li><li>node：针对nodejs，使用require加载chunk模块</li><li>async-node：针对nodejs，异步加载chunk代码</li><li>webworker：针对webworker</li><li>electron-main：针对electon主线程</li><li>electron-rendrer：针对electron渲染线程</li></ul><h1 id="loader"><a href="#loader" class="headerlink" title="loader"></a>loader</h1><ul><li>svg- inline- loader：和raw- loader类似，但是会分析svg的内容，去除其不必要的部分，减少svg的体积</li></ul><h1 id="优化"><a href="#优化" class="headerlink" title="优化"></a>优化</h1><h2 id="缩小文件搜索范围"><a href="#缩小文件搜索范围" class="headerlink" title="缩小文件搜索范围"></a>缩小文件搜索范围</h2><ul><li><p>loader配置</p><blockquote><p>可以通过include去告诉webpack只有那些文件会被这个loader处理，用exclude排除不需要的文件</p></blockquote></li><li><p>优化resolve.modules配置<br>配置webpack去哪些目录下寻找第三方模块</p><blockquote><p>指明依赖包的具体目录位置，减少查询时间。</p></blockquote></li><li><p>优化reslove.main Fields配置<br>配置第三方模块使用哪个入口文件</p><blockquote><p>指明采用字段作为入口文件的描述字段，减少搜索步骤</p></blockquote></li></ul><p>注：需要考虑是否所有依赖包的第三方入口文件的描述字段，一个模块出错，就会导致所有的代码无法正常运行</p><ul><li><p>优化reslove.alias</p><blockquote><p>配置库的具体引用路径，减少查询时间</p></blockquote></li><li><p>resolve.extensions</p><blockquote><p>频率最高的放在最前面。</p></blockquote></li></ul><blockquote><p>列表不能太长</p></blockquote><ul><li>优化module.noParse</li></ul><h2 id="happypack"><a href="#happypack" class="headerlink" title="happypack"></a>happypack</h2><p>将任务分解给多个子进程去并发执行，子进程处理完后再将结果发送给主进程</p><h2 id="ParallelUglifyPlugin"><a href="#ParallelUglifyPlugin" class="headerlink" title="ParallelUglifyPlugin"></a>ParallelUglifyPlugin</h2><p>uglfyjs是webpack内置的，但是在构建线上代码时会卡住，即是在进行代码压缩。压缩代码需要将代码解析成用object抽象表示的ast语法树，再去应用各种规则分析和处理ast，因此导致这个过程计算量很大，非常耗时</p><p>ParallelUglifyPlugin会开启多个子线程，将对多个文件的压缩工作分配给多个子进程去完成，每个子进程还是用uglfyjs压缩。</p><h2 id="自动刷新"><a href="#自动刷新" class="headerlink" title="自动刷新"></a>自动刷新</h2><ul><li>文件监听原理：</li></ul><blockquote><p>定时获取文件的最后编辑时间，每次存下最新的最后编辑时间，如果发现当前的获取的时间和最后一次保存的编辑时间不一致，就认为该文件发生了变化</p></blockquote><blockquote><blockquote><p>watchOptions.poll用于控制定时时长，每秒检查多少次</p></blockquote></blockquote><blockquote><p>当某个文件被判定为发生了变化时，并不会立刻告诉监听者，而是会先缓存起来，搜集一段时间后，再一次性告诉监听者。</p><blockquote><p>watchOptions.aggregateTimeout 用于配置这个等待时间</p></blockquote></blockquote><ul><li>自动刷新原理</li></ul><p>控制浏览器自动刷新方法：</p><ol><li><p>借助浏览器扩展去通过浏览器的提供的借口刷新，比如webstorm的liveedit</p></li><li><p>向要开发的网页中注入代理客户端的代码，通过客户端的去刷新页面</p></li><li><p>将要开发的网页装入一个iframe中，通过刷新iframe去看到最新效果</p></li></ol><p>webpack通过devServer.inline控制是否向每个chunk中注入代理客户端，在开启inline时，devserver会向每个chunk注入代理客户端的代码，而项目中chunk有很多chunk，因此会导致构建缓慢。</p><p>启动项目时，可以通过执行命令webpack-dev-server。—inline false完成。那么就会采用第三种方式进行页面刷新。</p><h2 id="模块热替换"><a href="#模块热替换" class="headerlink" title="模块热替换"></a>模块热替换</h2><ul><li>原理</li></ul><p>和自动刷新原理类似，都需要在开发的网页中注入一个代理客户端来连接devserver和网页。当子模块发生更新时，更新事件会一层层向上传递，直到有某层的文件接收了当前变化的模块，这时就会掉用callback函数去执行自定义的逻辑。如果事件一直往上抛，到最外层都没有事件接收他，那么会直接刷新页面。</p><ul><li>优化</li></ul><p>监听更少的文件，忽略nodemodules目录下的文件。</p><h1 id="cdn加速"><a href="#cdn加速" class="headerlink" title="cdn加速"></a>cdn加速</h1><ul><li>缓存问题</li></ul><p>cdn一般会为资源开启很长时间的缓存，可能会导致最新的发布不能用</p><blockquote><p>针对html入口文件，放到自己的服务器中，关闭自己服务器上的缓存，自己的服务器只提供html和数据接口</p></blockquote><blockquote><p>针对静态的js，css，图片等文件，开启cdn和缓存，每个文件带自己内容的hash值</p></blockquote><ul><li>使用</li></ul><blockquote><p>在output.publicPath设置js的地址</p></blockquote><blockquote><p>在css-loader.publicPath设置css导入的资源地址</p></blockquote><blockquote><p>在webplugin.stylepublicpath设置css文件的地址</p></blockquote><h2 id="压缩代码"><a href="#压缩代码" class="headerlink" title="压缩代码"></a>压缩代码</h2><ul><li>js</li></ul><blockquote><p>使用 uglifyplugin和paralleugifyplugin（多线程）进行压缩</p></blockquote><ul><li>压缩es6</li></ul><blockquote><p>优点：对于一样的逻辑，es6代码量少于es5；js对es6的语法做了性能优化，例如针对const声明的变量有更快的读取速度。</p></blockquote><blockquote><p>使用uglifyes进行压缩</p></blockquote><ul><li>压缩css</li></ul><blockquote><p>使用cssnano进行压缩</p></blockquote><h2 id="tree-shaking去除无用的死代码"><a href="#tree-shaking去除无用的死代码" class="headerlink" title="tree shaking去除无用的死代码"></a>tree shaking去除无用的死代码</h2><p>配置babel保留es6模块化语句，presets：modules：false</p><p>启动时带上—display-used- exports参数，指出哪些函数有用和无用。</p><p>启动时带上—optimize-minimize去除无用代码</p><p>配置reslove.mainfields，优先采用jsnext：main（第三方包打包出的es6模块）</p><p>export default无法做tree shaking，因为导出的是一整个对象</p><h2 id="提取公共代码"><a href="#提取公共代码" class="headerlink" title="提取公共代码"></a>提取公共代码</h2><blockquote><p>使用commonchunkplugin</p></blockquote><h2 id="分割代码按需加载"><a href="#分割代码按需加载" class="headerlink" title="分割代码按需加载"></a>分割代码按需加载</h2><blockquote><p>原则</p></blockquote><p>1: 将整个网站划分成一个个小功能，再按照每个功能的相关程度将它们分成几类。</p><p>2: 将每一类合并为一个chunk，按需加载对应的chunk</p><p>3: 不要按需加载用户首次打开网站时需要看到的画面所对应的功能，将其放入执行入口所在的chunk中，以减少用户能感知的网页加载时间</p><p>4: 对于不依赖大量代码的功能点，例如依赖echart画图，将其进行按需加载</p><blockquote><p>webpackChunkName：name</p></blockquote><p>import（&#x2F;* webpackChunkName：name *&#x2F; path）：为动态生成的chunk赋予一个名称，方便追踪和调试代码，若不指定名称，那么默认为[id].js</p><p>以path路径下的文件为入口重新生成一个chunk，当代码执行到import所在的语句时，才会去加载chunk对应生成的文件。import会返回一个promise，当文件加载成功时可以在promise的then方法获取对应的文件内容。</p><h2 id="scope-hoisting"><a href="#scope-hoisting" class="headerlink" title="scope hoisting"></a>scope hoisting</h2><blockquote><p>实现原理</p></blockquote><p>分析模块之间的依赖关系，尽可能将被打散的模块合并到一个函数中。但前提是不能造成代码冗余，因此只有被引用了一次的模块才能被合并。</p><h2 id="prepack"><a href="#prepack" class="headerlink" title="prepack"></a>prepack</h2><blockquote><p>在保持运行结果一致的情况下，改变源码的运行逻辑，输出性能更好的js代码</p></blockquote><p>工作流程：</p><p>1: 通过Babel将js源码解析成抽象语法树，以更细粒度地分析yuanma</p><p>2: prepack实现了一个js解释器，用于执行源码。借助这个解释器，prepack才能理解源码具体是如何执行的，并将执行过程中的结果返回到输出中。</p><p>使用prepack-webpack-plugin插件。</p><h2 id="可视化打包结果"><a href="#可视化打包结果" class="headerlink" title="可视化打包结果"></a>可视化打包结果</h2><ul><li><p>webpack-bundle- analyzer</p></li><li><p><a href="http://wepack.github.io/analyse">http://wepack.github.io/analyse</a></p></li></ul>]]></content>
      
      
      <categories>
          
          <category> webpack </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>【webpack】工作流程</title>
      <link href="/2024/02/06/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%90webpack%E3%80%91%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/"/>
      <url>/2024/02/06/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%90webpack%E3%80%91%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<p><a href="http://wepack.wuhaolin.cn/5-2%E8%BE%93%E5%87%BA%E6%96%87%E4%BB%B6%E5%88%86%E6%9E%90.zip">http://wepack.wuhaolin.cn/5-2输出文件分析.zip</a></p><p>bundle.js能直接中浏览器运行是因为输出的文件中通过__webpack_require__定义了一个可以在浏览器执行的加载函数，模拟nodejs的require。</p><p>原本一个个独立的模块文件被合并到了一个单独的bundle.js的原因是浏览器不能像nodejs一样快速在本地加载一个个模块文件，而必须通过网络请求去加载还未得到的文件。如果模块数量很多，那么加载时间会很长，因此将所有模块都存放到了数组中，执行一次网络加载。</p><h2 id="流程概括"><a href="#流程概括" class="headerlink" title="流程概括"></a>流程概括</h2><h3 id="初始化参数"><a href="#初始化参数" class="headerlink" title="初始化参数"></a>初始化参数</h3><ul><li>从配置文件和shell语句中读取和合并参数，得出最终的参数</li></ul><h4 id="发生事件"><a href="#发生事件" class="headerlink" title="发生事件"></a>发生事件</h4><table><thead><tr><th>event name</th><th>desc</th></tr></thead><tbody><tr><td>初始化参数</td><td>从配置文件和shell语句中读取合并参数，得出最终的参数，在这个过程中还会执行配置文件中的插件实例化语句 new Plugin（）</td></tr><tr><td>实例化compiler</td><td>用上一步得到的参数初始化compiler实例，compiler负责文件监听和启动编译，在compiler实例中包含了完整的webpack配置，全局只有一个compiler实例</td></tr><tr><td>加载插件</td><td>依次调用插件的apply方法，让插件可以监听后续的所有事件节点。同时向插件传入compiler实例的引用，以方便插件通过compiler调用webpack提供的api</td></tr><tr><td>environment</td><td>开始应用nodejs风格的文件系统到complier对象，以方便后续的文件寻找和读取</td></tr><tr><td>entry-option</td><td>读取配置的entrys，为每个entry实例化一个对应的entrypath，为后面该entry的递归解析工作做准备</td></tr><tr><td>after-plugins</td><td>调用完所有的内置和配置的插件apply方法</td></tr><tr><td>after-resolvers</td><td>根据配置初始化resolver，resolver负责在文件系统中寻找指定路径的文件</td></tr></tbody></table><h3 id="编译阶段"><a href="#编译阶段" class="headerlink" title="编译阶段"></a>编译阶段</h3><h4 id="开始编译"><a href="#开始编译" class="headerlink" title="开始编译"></a>开始编译</h4><ul><li>用上一步得到的参数初始化compiler对象，加载所有配置的插件，通过执行对象的run方法开始执行编译</li></ul><h4 id="确定入口"><a href="#确定入口" class="headerlink" title="确定入口"></a>确定入口</h4><ul><li>配置的entry找出所有的入口文件</li></ul><h4 id="编译模块"><a href="#编译模块" class="headerlink" title="编译模块"></a>编译模块</h4><p>从入口文件出发，调用所有的配置的loader对模块进行翻译，再找出模块依赖的模块，再递归本步骤直至所有的入口依赖的文件都经过本步骤的处理</p><h4 id="完成编译模块"><a href="#完成编译模块" class="headerlink" title="完成编译模块"></a>完成编译模块</h4><p>使用loader翻译完所有的模块后，得到每个模块被翻译后的最终内容以及它们之间的依赖关系</p><h4 id="发生事件-1"><a href="#发生事件-1" class="headerlink" title="发生事件"></a>发生事件</h4><table><thead><tr><th>事件</th><th>解释</th></tr></thead><tbody><tr><td>run</td><td>启动一次新的编译</td></tr><tr><td>watch-run</td><td>和run类似，但是是在监听模式下启动编译，可以获取是哪些文件发生变化导致重新启动编译</td></tr><tr><td>compile</td><td>告诉插件一次新的编译将要启动，同时会给插件带上compiler对象</td></tr><tr><td>compilation</td><td>当webpack以开发模式运行时，每当检测到文件的变化，便有一次新的Compilation被创建。一个Compilation对象包含了当前当模块资源，编译生成资源，变化的文件等，此对象也提供很多事件回调给插件进行扩展</td></tr><tr><td>make</td><td>一个新的Compilation创建完毕，即将从entry开始读取文件，根据文件当类型和配置的loader对文件进行编译，编译完成后再找出该文件依赖的文件，递归的编译解析</td></tr><tr><td>after-compile</td><td>一次Compilation执行完成</td></tr><tr><td>invalid</td><td>当遇到文件不存在，文件编译错误等异常时会触发该事件，该事件不会导致webpack退出</td></tr></tbody></table><h4 id="compilation阶段的事件"><a href="#compilation阶段的事件" class="headerlink" title="compilation阶段的事件"></a>compilation阶段的事件</h4><table><thead><tr><th>事件</th><th>说明</th></tr></thead><tbody><tr><td>build-module</td><td>使用对应的loader去转换一个模块</td></tr><tr><td>normal- module- loader</td><td>在用loader转换完一个模块后，使用acorn解析转换后的内容，输出对应的ast，方便web pack对后面的代码进行分析</td></tr><tr><td>program</td><td>从配置的入口模块开始，分析其ast，当遇到require等导入其他模块的语句时，便将其加入依赖的模块列表中，同时对新找出的依赖模块递归分析，最终弄清所有模块的依赖关系</td></tr><tr><td>seal</td><td>所有模块及其依赖的模块都通过loader转换完成，依据依赖关系开始生成chunk</td></tr></tbody></table><h3 id="输出阶段"><a href="#输出阶段" class="headerlink" title="输出阶段"></a>输出阶段</h3><h4 id="输出资源"><a href="#输出资源" class="headerlink" title="输出资源"></a>输出资源</h4><p>根据入口和模块之间的依赖关系，组装成一个个包含多个模块的chunk，再将每个chunk转换成一个单独的文件加入输出列表中。</p><h4 id="输出完成"><a href="#输出完成" class="headerlink" title="输出完成"></a>输出完成</h4><p>确定好输出内容后，根据配置确定输出的路径和文件名，将文件的内容写入文件系统中</p><h4 id="发生事件-2"><a href="#发生事件-2" class="headerlink" title="发生事件"></a>发生事件</h4><table><thead><tr><th>事件</th><th>描述</th></tr></thead><tbody><tr><td>should-emit</td><td>所有需要输出的文件已经生成，询问插件哪些文件需要输出，哪些不需要输出</td></tr><tr><td>emit</td><td>确定好要输出哪些文件后，执行文件输出，可以在此回调中获取和修改输出的内容</td></tr><tr><td>after-emit</td><td>文件输出完毕</td></tr><tr><td>done</td><td>成功完成一次完整的编译输出流程</td></tr><tr><td>failed</td><td>如果在编译和输出的流程中遇到异常，导致webpack退出，就会直接跳转到本步骤，插件在本事件中可以获取具体的错误原因</td></tr></tbody></table><h2 id="事件流"><a href="#事件流" class="headerlink" title="事件流"></a>事件流</h2><p>webpack通过tapable来组织广播打包流程。webpack在运行时会广播事件，插件只需要监听它所关心的事件，就能加入这条线中，去改变打包的结果。</p><p>webpack的事件流机制保证了插件的有序性，使得整个系统的扩展性良好。事件流机制应用了观察者模式，和nodejs的eventemitter类似。compiler和compilation都继承至tapable，可以直接中在complier和compilation对象上广播和监听事件。</p>]]></content>
      
      
      <categories>
          
          <category> webpack </category>
          
      </categories>
      
      
        <tags>
            
            <tag> webpack </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【Web3】基本介绍</title>
      <link href="/2024/02/06/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%90Web3%E3%80%91%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D/"/>
      <url>/2024/02/06/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%90Web3%E3%80%91%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D/</url>
      
        <content type="html"><![CDATA[<h2 id="钱包"><a href="#钱包" class="headerlink" title="钱包"></a>钱包</h2><h3 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h3><p>用硬件或软件的方式，可以访问资金，与去中心化应用程序进行交互，充当无银行金融服务的网关、收集NFT、创建链上身份与社区，并提供比传统钱包更多的用途</p><h3 id="组成条件"><a href="#组成条件" class="headerlink" title="组成条件"></a>组成条件</h3><ul><li>公钥：链接到自己可以发售和接收交易的地址</li><li>私钥：用于签署新交易并允许访问资金，必须保密</li><li>种子短语：用于生成多个私钥。作为根密钥，可以访问用户钱包中其他密钥和地址，也可以创建新的密钥</li></ul><h3 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h3><h4 id="热钱包（软钱包）"><a href="#热钱包（软钱包）" class="headerlink" title="热钱包（软钱包）"></a>热钱包（软钱包）</h4><p>可以存储、发送、接收和查看代币，所以比其他类型的钱包更加方便</p><ul><li>托管地：可以访问互联网和加密货币网络的设备上</li><li>实用性：最高</li><li>安全性：容易收到黑客攻击，因为连接到网络了</li></ul><h4 id="桌面钱包"><a href="#桌面钱包" class="headerlink" title="桌面钱包"></a>桌面钱包</h4><p>会被作为应用程序下载到电脑上，在本地运行<br>被认为是可用的，最安全的热钱包类型</p><ul><li>托管地：电脑</li></ul><h4 id="网络钱包"><a href="#网络钱包" class="headerlink" title="网络钱包"></a>网络钱包</h4><p>允许通过浏览器界面进行交互和访问，无须在本地设备上下载或者安装任何内容<br>具有与桌面钱包完全相同的功能，使用相同的区块链和区块浏览器来搜索区块和交易</p><ul><li>托管地：其他人的计算机或者服务器上</li></ul><h4 id="手机钱包"><a href="#手机钱包" class="headerlink" title="手机钱包"></a>手机钱包</h4><p>与桌面钱包类似，只是托管地是手机<br>与桌面钱包相比，手机钱包的功能相对更简单一些</p><h4 id="冷钱包"><a href="#冷钱包" class="headerlink" title="冷钱包"></a>冷钱包</h4><p>无须连接到互联网，那么这就使得冷钱包是存储加密货币的更安全的替代方案，因为有物理介质可以离线存储密钥</p><ul><li>安全性：抵抗黑客能力更强，对长期投资者来说很实用</li></ul><h4 id="硬件钱包"><a href="#硬件钱包" class="headerlink" title="硬件钱包"></a>硬件钱包</h4><p>使用随机生成器生成公钥和私钥的物理电子设备<br>最适合长期投资和存储使用，因为它们不太容易获得</p><ul><li>主要用例：确保未分配的、用于持续使用的大笔资金的安全性</li><li>安全性：最安全的存储方案之一，因为能够在设备中保存公钥和私钥，而无须借助任何互联网连接。这样对加密货币的访问是处于离线状态</li></ul><h4 id="纸钱包"><a href="#纸钱包" class="headerlink" title="纸钱包"></a>纸钱包</h4><p>由物理打印出的区块链地址和私钥组成，到纸上。这些信息会被打印成二维码，可以通过扫描二维码来汇款</p><ul><li>托管地：纸</li><li>缺点；只能一次性发送全部余额，不能多次发送部分</li></ul><h4 id="市面上主流钱包"><a href="#市面上主流钱包" class="headerlink" title="市面上主流钱包"></a>市面上主流钱包</h4><blockquote><p>以太坊钱包</p></blockquote><ul><li><p>metamask</p></li><li><p>trust Wallet</p></li><li><p>argent</p></li><li><p>imToken</p></li></ul><blockquote><p>其他生态</p></blockquote><ul><li><p>phantom：Solana生态</p></li><li><p>keplr：Cosmos生态</p></li><li><p>polkadot：Polkadot生态</p></li><li><p>tezos：Temple生态</p></li></ul><h2 id="助记词"><a href="#助记词" class="headerlink" title="助记词"></a>助记词</h2><p>由于私钥一般情况下，都非常冗长复杂，不适合记忆，为了方便使用，密码学家将其简化成了12或者24位不等的单词或者中文字符，简化之后的就被称为助记词</p><p>即：</p><ul><li><p>助记词是密钥的另外一种形式</p></li><li><p>通过助记词可以获取相关的多个私钥，但是通过私钥无法获取助记词</p></li></ul><h2 id="区块链浏览器"><a href="#区块链浏览器" class="headerlink" title="区块链浏览器"></a>区块链浏览器</h2><h3 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h3><p>区块链浏览器是一种软件，它使用api和区块链节点从区块链中提取各种数据，然后使用数据库来排列搜索到的数据，并以可搜索的格式将数据呈现给用户</p><h3 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h3><p>区块链钱包可以提供不同类型的数据，但仅限于与钱包管理的密钥相关的数据。区块链浏览器用于查看与在给定区块链的所有钱包上执行的交易相关的数据。<br>特殊之处就是在于透明度，它允许用户检查智能合约地址的余额和支出，如当用户参数首次代币发行时。</p><h3 id="作用-1"><a href="#作用-1" class="headerlink" title="作用"></a>作用</h3><ul><li>查看任何钱包地址的交易历史<br>能够审计任何钱包地址并提高区块链的透明度</li><li>查看接收和更改地址<br>可以查看交易接收地址、更改地址。将加密货币返回给支出者，以防输入值过多用于交易费用，提高了交易的透明度</li><li>查看当天最大的交易</li><li>查看内存池的状态<br>可以查看区块链上未确认的交易及其详细信息</li><li>查看双花交易<br>部门浏览器支持</li><li>查看孤立和陈旧区块<br>孤立区块：挖掘之后没有附加到最长的区块链上，并且它们的父区块链是未知的</li></ul><p>陈旧区块：已知父区块链，但未链接到已知最长链的区块</p><ul><li><p>查看发现或开采特点区块的个人或矿池</p></li><li><p>查看创世区块</p></li><li><p>允许用户查看交易费用、区块链难度、哈希率和其他数据</p></li></ul><h3 id="优势"><a href="#优势" class="headerlink" title="优势"></a>优势</h3><ul><li><p>将加密货币发送给某人之前会检查钱包地址是否对区块链有效</p></li><li><p>检查加密货币是否已经发送给目标个人。所有者可以检查他们的钱包余额</p></li><li><p>可以帮助解释尚未通过或确认的交易出现的问题以及查看确认jieduan</p></li><li><p>帮助用户了解交易或Gas当前的成本，从而帮助计划未来的Gas支出</p></li><li><p>帮助用户了解某个组是不是挖掘交易的人，并有助于决定是否为未来的挖掘活动投入更多的计算资源</p></li><li><p>可以帮助正在开发钱包的人，如果它可以进行正常的工作（发送、接收、存储和加密货币）</p></li><li><p>与其他软件一起使用，可以证实数据和信息</p></li></ul><h3 id="工作流程"><a href="#工作流程" class="headerlink" title="工作流程"></a>工作流程</h3><ul><li><p>资源管理器首先使用节点接口提取给定区块链中的所有数据，一旦它导出数据，就会将其存储在可搜索的表格中</p></li><li><p>将收集最新的交易和区块，根据定义的可搜索类别进行排列。它为用户提供了一个界面用于搜索。在技术方面，资源管理器可以使用关系数据库、sql数据库和api</p></li></ul><p>每个区块链节点都可以直接读取区块链上的数据，获取最新交易和挖掘区块等数据等详细信息，然后将其发送到数据库，其中数据以可搜索表格的形式排列，使得资源管理器可以快速使用这些数据。</p><p>大部分的区块链使用表格，每一行都有唯一的id或者键用于区分</p><h2 id="域名系统"><a href="#域名系统" class="headerlink" title="域名系统"></a>域名系统</h2><p>在区块链中，域名系统和网络中的域名概念不同。区块链中，域名指向的是钱包地址，是一种身份的关联和映射，解决了ip或钱包地址过长的问题</p><h3 id="ENS域名系统"><a href="#ENS域名系统" class="headerlink" title="ENS域名系统"></a>ENS域名系统</h3><h4 id="含义"><a href="#含义" class="headerlink" title="含义"></a>含义</h4><p>ens由两个以太坊智能合约组成：记录域名的ens注册表和将域名与机器的可读地址互相转换的解析器</p><h4 id="获取"><a href="#获取" class="headerlink" title="获取"></a>获取</h4><p>在ens app上注册</p><h3 id="DAS域名账户系统"><a href="#DAS域名账户系统" class="headerlink" title="DAS域名账户系统"></a>DAS域名账户系统</h3><h4 id="含义-1"><a href="#含义-1" class="headerlink" title="含义"></a>含义</h4><p>das是web3的去中心化身份认证系统，和ens类似，允许用户将个人域名绑定都适用所有链的人类可读地址。</p><h2 id="预言机"><a href="#预言机" class="headerlink" title="预言机"></a>预言机</h2><p>预言机充当区块链上的app接口，通过查询可以获取智能合约的相关信息。预言机也可以向真实世界发送数据</p><h3 id="背景-1"><a href="#背景-1" class="headerlink" title="背景"></a>背景</h3><p>大多数区块链都有用于转移价值、启用协议操作或促进治理的本地加密货币，一些区块链支持智能合约，而智能合约可以在没有第三方的情况下执行，并且可以设计为执行几乎任何可以想象得到的合约。</p><p>区块链和链上智能合约需要一种方法来利用外部的链下数据，以便智能合约执行影响现实世界的app，因此预言机就需要被用到</p><h3 id="分类-1"><a href="#分类-1" class="headerlink" title="分类"></a>分类</h3><ul><li>软件预言机</li></ul><p>提供来自网站、服务器或数据库等数字源的数据。可以提供实时信息</p><ul><li>硬件预言机</li></ul><p>提供来自现实世界的数据，可以传递和中继来自项目运动传感器</p><ul><li>集中式预言机</li></ul><p>它由单个实体控制，并充当智能合约的唯一数据提供者。它要求合同参与者对一个实体给予极大的信任；它还代表单点故障，这可能会威胁到智能合约的安全性，如果预言机被破坏，智能合约也会被破坏。智能合约的准确性和有效性在很大程度上取决于所提供数据的质量，因此预言机对智能合约有很大的权利。</p><p>预言机问题：预言机可以使智能合约在去信任方之间执行，但当他变得过度中心化时，可能会有它试图成为中间人的风险。</p><ul><li>去中心化预言机</li></ul><p>去中心化预言机试图实现依赖因果关系而不是个人关系的去信任和确定性结果。它以与区块链网络相同的方式实现这些结果，在许多网络参与者之间分配信任。通过利用许多不同的数据源并实施不受单个实体控制的预言机系统，去中心化的预言机网络可能成为为智能合约提供更高级别的安全性和公平性。</p><h3 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h3><p>Chainlink</p>]]></content>
      
      
      <categories>
          
          <category> Web3 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Web3 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【Web3】去中心化存储协议</title>
      <link href="/2024/02/06/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%90Web3%E3%80%91%E5%8E%BB%E4%B8%AD%E5%BF%83%E5%8C%96%E5%AD%98%E5%82%A8%E5%8D%8F%E8%AE%AE/"/>
      <url>/2024/02/06/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%90Web3%E3%80%91%E5%8E%BB%E4%B8%AD%E5%BF%83%E5%8C%96%E5%AD%98%E5%82%A8%E5%8D%8F%E8%AE%AE/</url>
      
        <content type="html"><![CDATA[<h2 id="IPFS"><a href="#IPFS" class="headerlink" title="IPFS"></a>IPFS</h2><h3 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h3><p>ipfs星际文件系统是一种点对点的文件的共享协议。ipfs用于存储和访问文件、网站、app和数据，使用内容寻址来识别连接所有计算设备的全局命名空间中的每个文件。ipfs不是通过位置，而是通过文件内容进行文件寻址的。为了识别内容，使用内容的加密hash值。</p><p>ifps允许用户通过对等文件共享以分散的方式托管和接收内容，那么这样表示用户操作员拥有一部份整体数据，从而创建了一个强大的文件存储和共享系统。网络中的任何用户都可以简单的通过文件的内容地址来提供文件，其他用户可以通过分布式hash表（dht）定位并请求任何拥有该内容的人。</p><h3 id="工作流程"><a href="#工作流程" class="headerlink" title="工作流程"></a>工作流程</h3><p>组成组件：</p><ul><li>分布式哈希表（dht</li></ul><p>dht使用散列函数来计算索引，用户可以从中找到需要的值。即数据分布在计算机网络中，并进行协调，实现节点的分布式间的高效访问和查找。</p><ul><li><p>优势：去中心化程度高、容错性能、可扩展性高</p></li><li><p>bitTorrent</p></li></ul><p>是一种文件共享系统，能够通过数据交换协议来协调节点间的数据传输。但仅适用于Torrent系统。而ipfs提供bitswap，是该协议的更加通用版本</p><ul><li>merkle dag</li></ul><p>它是merkle树和有向无环图（dag）的组合，merkle树负责确保p2p网络上交换的数据块是正确的，并且绝对不会发生变化。</p><p>验证是使用加密散列函数组织数据块完成的，该函数接受输入并计算与该输入对应的唯一散列，以确保产生的散列比较简单，但很难通过散列猜测输入</p><p>dag是一种没有环的拓扑信息序列进行建模的方法。家谱是dag的基本表示。merkle dag本质上是一种数据结构，其中hash值用于引用数据块和对象。</p><p>ipfs的主要原理是在广义merkle dag上所有数据进行建模</p><ul><li>sfs：自认证文件系统</li></ul><p>sfs是一种分布式文件系统，不需要特殊权限即可交换数据。提供给用户的数据仅提供文件名进行身份验证，该文件名由服务器签名，即用户可以通过本地存储的透明性安全的访问远程内容</p><h3 id="优势"><a href="#优势" class="headerlink" title="优势"></a>优势</h3><p>去中心化的ifps有一个主要目标：可以从不由一个组织管理的多个位置下载一个文件</p><ul><li>支持强大的互联网。当无法访问服务器时，可以从其他人检索到相同的信息</li><li>增加审查内容的难度。因为ipfs上的文件可能来自多个位置</li></ul><h2 id="arweave"><a href="#arweave" class="headerlink" title="arweave"></a>arweave</h2><h3 id="定义-1"><a href="#定义-1" class="headerlink" title="定义"></a>定义</h3><p>arweave可以看作为使用区块链开安全、永久地存储全球信息的去中心化协议。</p><p>arweave的p2p协议允许硬盘驱动器中拥有大存储空间的各种用户（节点）连接到arweave网络，并为他人存储数据，然后ar网络会奖励这些节点。当存储在特定系统中的数据逐渐增加，共识需要的散列量减少，从而产生更具有成本效益的数据存储。</p><h3 id="工作流程-1"><a href="#工作流程-1" class="headerlink" title="工作流程"></a>工作流程</h3><p>arweave包含blokcweave和permaweb</p><blockquote><p>blockweave</p></blockquote><p>blockweave除了存储交易信息外，还存储每个区块的数据信息。blockweave上的每个块都引用其前一个块，前一个块被附加到一个随机选择到块上，即召回块。</p><p>arweave协议通过部署一种名为SPoRA的全新共识机制启用此架构，这种共识机制奖励网络中的参与节点存储arweare的所有交易历史。</p><p>例如如果想管理其中一个节点，要获取区块奖励，那么必须向blockweave证明可以完全访问前一个区块的数据以及一些随机选择的召回块。如果无权访问召回块，那么就知道没有将所有的交易数据全部放在arweave区块链上，因此会拒绝奖励。</p><blockquote><p>permaweb</p></blockquote><p>建立在arweave区块链上的去中心化网络，存储所有arweave dapps的地方。arweave使用http，用permaweb可以与网络进行交互</p><h3 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h3><ul><li>使用方便</li></ul><p>技术细节都放在后端；使用扩展程序保存的页面可以由去中心化的网络中的其他用户查看和共享</p><ul><li><p>不变性</p></li><li><p>以用户和开发人员为中心的精神</p></li></ul><p>它奖励并鼓励开发人员提高所构建的app的质量。推动开发人员并建立和参与使用其dapp的社区。</p><h3 id="优缺点"><a href="#优缺点" class="headerlink" title="优缺点"></a>优缺点</h3><ul><li><p>优点</p></li><li><p>数据不会被丢失</p></li><li><p>每秒可以处理超5k笔交易</p></li><li><p>ar代币有相当稳定的历史价格走势。</p></li><li><p>缺点</p></li><li><p>解决可扩展性问题的协议可能不被人相信</p></li></ul><h2 id="icp协议：去中心化计算机"><a href="#icp协议：去中心化计算机" class="headerlink" title="icp协议：去中心化计算机"></a>icp协议：去中心化计算机</h2><h3 id="定义-2"><a href="#定义-2" class="headerlink" title="定义"></a>定义</h3><p>icp是一种完善的区块链开发方案的聚合，使在线开发人员能够不再依赖商业云服务、数据库服务器、web服务器、dns服务、防火墙以及大型科技企业的专有应用程序编程接口。开发人员使用icp将可以自由地构建和部署安全、自主和防篡改的计算单元，这种计算单元类似于docker，它几乎可以完成任何事情。</p><p>icp是基于智能合约演变来的，它以分布式、复制的方式运行软件，同时还能捕获该软件程序状态的完整技术。用户通过互联网身份与这些容器进行交互，这是一种匿名区块链身份验证框架，将在线活动与物理技术设备相关联</p><blockquote><p>重要性</p></blockquote><ul><li><p>icp作为一种区块链技术，仍然具有民主精神，参与者可以通过质押icp投票决定icp的未来。</p></li><li><p>icp设计初衷是保护用户的数字身份，防止其被广告商、黑客和其他恶意软件滥用。icp通过消除用户的互联网身份来实现匿名，通过区块链身份验证框架确保用户拥有自己的数据，这些数据由区块链备份，并只有持有对应备份的私钥用户本人才能访问。如果用户任何物理设备被入侵，那么可以使用存储在安全位置的助记词快速恢复其互联网身份</p></li><li><p>icp在分散、集成的生态系统中重新构建了智能合约和软件，同步服务可以最好的满足用户需求。</p></li><li><p>icp提出了一种新的价值模型，通过将加密货币与法定货币的有效用标记化相关联来补充比特币，而不会存在集中管理的弱点。icp在模型上是比特币的升级版本，具有直接标记实用程序的优势，而没有法定货币集中管理的劣势。icp允许使用网络神经（nns）参与网络治理，并且可以重新启动以运行分散的app。</p></li></ul><p>icp承诺将与比特币进行深度绑定，并和比特币的价值一起成长。icp的目的是准备与现有的加密代币和web3结构建立共生关系，以连接和授权它们。</p><ul><li>icp的区块链是环保的。执行交易或者其他日常任务时的电力消耗与发送邮件的电力消耗基本等同。</li></ul><h3 id="工作流程-2"><a href="#工作流程-2" class="headerlink" title="工作流程"></a>工作流程</h3><p>icp有为计算提供动力的循环机制，icp代币用于铸造新的周期，这些周期由icp子网络燃烧以进行计算</p><p>在icp区块链上，稳定的周期使基于icp的软件开发成本可预测且始终处于较低水平。icp循环可以发送到icp容器以供其以后在执行计算或者存储数据时使用。icp软件可以用任何可以编译为webassembly的编程语言编写，以部署在icp的区块链上。</p><p>icp可以与环境分离，并与其他容器或用户交互以执行计算和智能合约代码。</p>]]></content>
      
      
      <categories>
          
          <category> Web3 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Web3 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【Web3】公链</title>
      <link href="/2024/02/06/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%90Web3%E3%80%91%E5%85%AC%E9%93%BE/"/>
      <url>/2024/02/06/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%90Web3%E3%80%91%E5%85%AC%E9%93%BE/</url>
      
        <content type="html"><![CDATA[<h2 id="阶段"><a href="#阶段" class="headerlink" title="阶段"></a>阶段</h2><h3 id="第一阶段：2008-2015"><a href="#第一阶段：2008-2015" class="headerlink" title="第一阶段：2008-2015"></a>第一阶段：2008-2015</h3><p>以早期比特币之类的数字货币公链为主，可以理解为一种“公共账本”</p><h3 id="第二阶段：2015～"><a href="#第二阶段：2015～" class="headerlink" title="第二阶段：2015～"></a>第二阶段：2015～</h3><p>以太坊公链的出现为开端，标志着底层公链时代，智能合约被提出。</p><p>主流的公链有：比特币链、以太坊链、币安链、瑞波链、艾达链、索拉纳链、波卡链、雪崩链、波场链、马蹄链</p><h2 id="以太坊"><a href="#以太坊" class="headerlink" title="以太坊"></a>以太坊</h2><h3 id="EVM：以太坊虚拟机"><a href="#EVM：以太坊虚拟机" class="headerlink" title="EVM：以太坊虚拟机"></a>EVM：以太坊虚拟机</h3><p>建立在以太坊上的抽象虚拟机，可以使DApps之间彼此隔离，并且与主链分离。即它是一个虚拟的运行环境，以太坊智能合约的运行是建立在此基础上的。</p><h3 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h3><p>可扩展、可编程、安全和去中心化</p><h3 id="以太币"><a href="#以太币" class="headerlink" title="以太币"></a>以太币</h3><p>智能合约本质是一段小的代码程序，那么运行它的载体上通过以太坊网络的矿工进行维护的。给予矿工以太币-Gas费，因此智能合约想运行在以太坊公链上，那么需要支付Gas费，当无法支付时，那么程序也就停止了。</p><h3 id="DApps"><a href="#DApps" class="headerlink" title="DApps"></a>DApps</h3><ul><li>含义</li></ul><p>是一种去中心化的数字应用程序，存在并运行于计算机的区块链或点对点(P2P)网络上，而不是单个计算机。</p><p>DApps不在单一机构的权限和控制范围内，通常说建立在以太坊平台上，可以被开发为用于各种目的的App，包括游戏、社交App等。</p><ul><li>App权限<br>普通应用程序中，其开发者们拥有对这个app及其工作的完全权限。</li></ul><p>而DApps不同，它在公链上运行，不受任何单一机构的控制和干扰，例如在以太坊上发布运行了一个DApp，若有人通过这个智能合约购买了一个商品，智能合约被执行，任何人都无法删除这个合约的执行信息。</p><ul><li>优劣</li></ul><p>优势：保护用户的隐私，使用去中心化的dapp，用户无须提交个人信息即可使用app；dapp使用智能合约完成交易，无须依赖中间机构</p><ul><li>劣势：执行智能合约需要Gas，因此费用一般较贵；有效扩展在需要大量计算以及网络过载导致网络拥堵的时候容易存在问题</li></ul><h2 id="Cosmos生态"><a href="#Cosmos生态" class="headerlink" title="Cosmos生态"></a>Cosmos生态</h2><h3 id="含义"><a href="#含义" class="headerlink" title="含义"></a>含义</h3><p>cosmos也被称为区块链互联网，是一个由独立但可以互相操作的区块链组成的去中心化网络，用户可以在无须许可的交换信息和代币</p><p>Cosmos中“区域”的独立区块链由基于拜占庭容错的权益证明Tendermint共识算法支持。拜占庭容错共识算法允许网络达成共识，即使某些节点发生故障或者恶意行为</p><h3 id="目的"><a href="#目的" class="headerlink" title="目的"></a>目的</h3><p>提供工具帮助开发人员为各种用例快速构建独立的区块链，使得网络中的区块链可以互相通信，从而解决区块链面料的比如可扩展性、可用性和治理问题等。</p><h3 id="加密货币：ATOM"><a href="#加密货币：ATOM" class="headerlink" title="加密货币：ATOM"></a>加密货币：ATOM</h3><p>ATOM是Cosmos背后的驱动力。</p><blockquote><p>功能：</p></blockquote><ul><li><p>维护网络共识</p></li><li><p>通过基于激励的验证节点进行质押</p></li><li><p>减少垃圾邮件作为支付Gas费的媒介</p></li><li><p>提供投票机制，通过Cosmos治理提案提出网络修正</p></li></ul><blockquote><p>用途</p></blockquote><ul><li><p>通过权益证明共识机制的运行</p></li><li><p>验证者质押或者锁定他们的ATOM并运行专门的软件，该软件通过新区块和验证交易维护Cosmos网络</p></li><li><p>持有者可以选择将自己的ATOM代币委托给验证者，允许获得一部份质押奖励。</p></li></ul><h3 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h3><ul><li>Tendermint Core BFT共识机制</li></ul><p>Tendermint主要成立目的是解决工作量证明共识算法的速度慢、可扩展性差以及高性能耗问题</p><p>它提供即使、可证明安全的移动客户端支付验证的方法。在设计上，它是不允许分叉的，所以移动钱包可以实时接收交易确认，从而在手机上实现信任的支付方式</p><p>它需要一种“验证人”，类似于比特币的矿工，是一种专门用于提交区块的安全机器(和矿工需要大量的Gas一样，需要消耗大量的代币)。验证人可以向非验证人租借代币，并承诺收益，但验证人被攻击或者违反协议规定，那么就会有一定的惩罚，比如削减代币</p><ul><li>可互操作</li></ul><p>Cosmos Hub是一个及其强大的去中心化区块链网络，其结构和治理允许网络参与者保持冷静。ATOM作为一种质押机构用于增强安全性、达成共识、提高运营效率</p><h3 id="优势"><a href="#优势" class="headerlink" title="优势"></a>优势</h3><ul><li><p>互操作性：Cosmos协议广泛支持现在的主流公链，而不是像EVM或者非EVM局限在自己的代码框架体系里，它是一种去中心化的交易中心</p></li><li><p>可扩展性：对于传统公链，每笔交易都需要Gas费，而且每秒事务处理量往往只能达到每秒几笔的规模，而Cosmos基于自身协议的前瞻性，每秒可以处理几千笔</p></li></ul><h2 id="Avalanche链"><a href="#Avalanche链" class="headerlink" title="Avalanche链"></a>Avalanche链</h2><h3 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h3><p>采用了一种独特的方式，在其主要平台中使用三条独立的区块链：交易链(X-Chain)、合约链(C-Chain)、平台链(P-Chain)。</p><p>Avalanche链最重要的突破之一是雪崩协议(Avalanche Consensus)，它是使用验证者重复的子抽样投票来快速达成共识的用户负担得起的方法。</p><p>Avalanche链还将子网作为一种新的水平扩展方法，允许创建可定制的、可互操作的区块链，子网没有数量限制</p><h3 id="区块链分类"><a href="#区块链分类" class="headerlink" title="区块链分类"></a>区块链分类</h3><ul><li><p>交易链：X链<br>负责AVAX或者其他数字资产的创建和交易</p></li><li><p>合约链：C链</p></li></ul><p>可以为DApps创建智能合约。该链实现了以太坊虚拟机下，支持兼容EVM的DApps。合约链使用Snowman共识协议，它是Avalanche共识协议的修订版</p><ul><li>平台链：P链</li></ul><p>用于协调验证者和子网。使用Snowman共识协议</p><h3 id="解决问题"><a href="#解决问题" class="headerlink" title="解决问题"></a>解决问题</h3><ul><li>可扩展性差和去中心化弱</li></ul><p>传统区块链活动增加的网络可能会迅速堵塞，例如比特币，在网络拥堵期间，交易有时候需要数小时或者几天才能完成</p><p>那么解决方法之一就是让网络更加集中，让更少的人有更多的权限来验证网络活动，从而提高交易速度。但由于去中心化是区块链中非常重要的特点</p><p>Avalanche共识协议不需要领导者达成共识，例如Pow、PoS(权益证明)或者DPoS(委托协议证明)。因此中不牺牲可扩展性的情况下，提高了Avalanche网络的去中心化程度</p><ul><li>交易费用高</li></ul><p>Avalanche共识协议不需要领导者达成共识</p><ul><li>互操作性不佳</li></ul><p>Avalanche链提供带有子网的解决方案，共享主网络的安全性、速度和兼容性的自定义应用程序特定区块链</p><h3 id="特点-1"><a href="#特点-1" class="headerlink" title="特点"></a>特点</h3><ul><li>共识机制</li></ul><p>Avalanche使用的是雪崩共识，虽然并不是唯一具有新颖共识机制的区块链</p><ul><li><p>交易速度和最终确定</p></li><li><p>权利下放</p></li><li><p>可互操作的区块链</p></li></ul><p>可互操作区块链的数量可能是无限的</p><h2 id="Solana链（非EVM"><a href="#Solana链（非EVM" class="headerlink" title="Solana链（非EVM"></a>Solana链（非EVM</h2><h3 id="定义-1"><a href="#定义-1" class="headerlink" title="定义"></a>定义</h3><p>基于RUST语言，原生加密货币SOL用于支付交易费用和质押。历史证明机制(PoH)使其能够高度可扩展且搞笑的网络</p><p>Solana链是一个加密计算平台，旨在不牺牲去中心化的情况下实现高交易速度</p><h3 id="功能"><a href="#功能" class="headerlink" title="功能"></a>功能</h3><ul><li>PoH机制</li></ul><p>该机制可以提供数字记录，确认网络上任何时间点都发生过什么事情。可以呈现为一个加密时钟，为每笔交易提供时间戳以及添加简单的数据结构</p><p>PoH机制依赖于使用BFT算法的交易时间权益证明(PoS)共识机制，BFT使用同步时钟的优势，可以在不产生任何大量事务延迟或消息传递开销的情况下达成共识，保证网络安全和运行，并充当验证交易的附加工具</p><p>PoH可以被视为一种高频可验证延迟函数(VDF)，VDF是一种三重函数(设置、评估、验证)，可以产生独特且可靠的输出。VDF通过证明区块生产者已经等待足够长的时间，让网络继续前进来维持网络中的秩序</p><ul><li>Turbine</li></ul><p>Turbine是网络上的块传播协议，它支持更轻松地将数据传输到区块链节点，通过将数据分解为更小的数据包来实现高效的数据传输。因此Solana区块链可以解决与带宽有关的问题，提高整体容量，加快交易结算速度</p><ul><li>湾流(Gulf Stream)</li></ul><p>作用是承担着将事务缓存转发到网络边缘的，因此验证者可以确保提前执行交易，减少确认时间。湾流有助于更快的切换领导者，同时减少来自不同未确认交易池的验证者的内存压力</p><ul><li>Sea Level</li></ul><p>海平面是一个超并行事务处理引擎，用于在各种SSD和GPU之间进行性能扩展</p><ul><li>Pipeline</li></ul><p>用于优化验证的事务处理单元，该过程设计将输入数据流分配给不同的硬件组件，因此可以支持在网络中的不同节点上更快地验证和复制交易信息</p><ul><li>Cloudbreak</li></ul><p>它是Solana链的横向扩展帐户数据库，有助于在Solana网络上实现所需的可扩展性。Cloudbreak是一种数据结构，是跨网络并发读写操作的理想选择</p><ul><li>Archivers</li></ul><p>存档器</p><ul><li>散列算法：SHA-256</li></ul>]]></content>
      
      
      <categories>
          
          <category> Web3 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Web3 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【Web3】二层网络</title>
      <link href="/2024/02/06/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%90Web3%E3%80%91%E4%BA%8C%E5%B1%82%E7%BD%91%E7%BB%9C/"/>
      <url>/2024/02/06/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%90Web3%E3%80%91%E4%BA%8C%E5%B1%82%E7%BD%91%E7%BB%9C/</url>
      
        <content type="html"><![CDATA[<h2 id="二层网络"><a href="#二层网络" class="headerlink" title="二层网络"></a>二层网络</h2><h3 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h3><p>指构建在现有区块链系统之上的二级框架或者协议，这些协议的主要目的是解决主要加密货币网络面临的交易速度低和扩展困难的问题</p><p>“二层”指的是针对区块链可扩展性问题提出的多种解决方案。例如早期的二层解决方案：比特币闪电网络和以太坊等离子体，虽然受限于自身工作机制和特殊性，但这两种解决方案都尽量为区块链系统提供更高的吞吐量</p><h2 id="二层网络技术"><a href="#二层网络技术" class="headerlink" title="二层网络技术"></a>二层网络技术</h2><h3 id="侧链"><a href="#侧链" class="headerlink" title="侧链"></a>侧链</h3><p>它是一条平行于主链的独立运行的链。不依赖于主链的安全策略，有自己独立的安全策略。</p><h3 id="状态通道"><a href="#状态通道" class="headerlink" title="状态通道"></a>状态通道</h3><p>只记录出入该通道的某一瞬间的交易。但其安全性不足，因为需要保证状态通道的运营者是可以信任的，否则投入就会有不安全性</p><h3 id="卷叠"><a href="#卷叠" class="headerlink" title="卷叠"></a>卷叠</h3><p>把一切复杂的交易都交给二层网络，复杂的数据都交给卷叠处理，处理完成后只返回数据摘要或处理结果。这样对性能有一定的提升。</p><h2 id="ZK-Rollups"><a href="#ZK-Rollups" class="headerlink" title="ZK-Rollups"></a>ZK-Rollups</h2><p>ZK-Rollups协议促进了交易者和中继者的交互。</p><h3 id="工作流程"><a href="#工作流程" class="headerlink" title="工作流程"></a>工作流程</h3><ul><li><p>交易者创建并将其交易数据广播到网络，此信息包括索引的双方地址、交易价值、网络费用和仅使用一次的数字。利用索引地址减少资源处理，交易价值产生存款和取款金额。然后智能合约将地址记录到一个Merkle树，并将交易值记录到另一个Merkle树</p></li><li><p>中继器负责收集创建汇总的事务。中继器生成一个简洁的非交互零知识论证证明，用于比较每笔交易前后的区块链状态（钱包余额）。由此产生的变化以可验证的方式散列并到达主链。</p></li></ul><h2 id="Optimistic-Rollups"><a href="#Optimistic-Rollups" class="headerlink" title="Optimistic Rollups"></a>Optimistic Rollups</h2><p>和ZK-Rollups类似，但ORs仅向主链发布最少的信息，仅在欺诈案件中生成证明。</p><h3 id="工作流程-1"><a href="#工作流程-1" class="headerlink" title="工作流程"></a>工作流程</h3><ul><li><p>当用户将交易发送到链外ORs时，聚合器注册并提交欺诈证明</p></li><li><p>聚合器在本地部署交易以生成新的智能合约。计算新的状态根，聚合器将交易和状态根发送回主链</p></li><li><p>如果用户认为聚合器返回了欺诈状态根，包括无效交易，他们可以质疑聚合器。用户可以通过发布正确的状态根和验证它所需的Merkle证明在注册这一挑战。对于违规的聚合器，以及任何建立在无效区块之上的聚合器，其保证金被削减，这些收益流向报告用户</p></li><li><p>一旦识别出无效块并完成欺诈证明，二层链就会回滚，并在前一个非欺诈块处恢复</p></li></ul><h3 id="优劣"><a href="#优劣" class="headerlink" title="优劣"></a>优劣</h3><blockquote><p>劣势</p></blockquote><ul><li><p>无效状态：OP允许存在无效的区块链状态。因此，在提交欺诈证明前，可能会存在无效状态</p></li><li><p>安全性：由于其基于博弈论模型，OP可能更容易受到攻击，因为用户可以参与报告欺诈</p></li><li><p>可扩展性：随着交易规模的扩大，在某些情况下，OP可能需要更多的主链计算资源，从而导致更高的成本。</p></li></ul><h2 id="Arbitrum"><a href="#Arbitrum" class="headerlink" title="Arbitrum"></a>Arbitrum</h2><p>是解决以太坊网络拥塞和高费用问题的解决方案之一</p><h3 id="工作流程-2"><a href="#工作流程-2" class="headerlink" title="工作流程"></a>工作流程</h3><p>Arbitrum生态系统中包含四个角色：验证者、虚拟机、密钥和管理器。</p><p>Arbitrum基于简单的加密货币设计，其中各方可以将智能合约实现为对合约规则进行编码的VM，它是中Arbitrum虚拟机架构上运行的程序。虚拟机的一组管理器由VM的设计者指定。</p><p>基于Arbitrum协议，任何一个管理者都可以强制VM根据VM的代码运行，与VM的结果有利害关系的各方可以选择各自信任的人代表他们这样做或者直接担任管理者。VM的状态可以通过依赖管理者器以及降低验证者的成本来提升，验证者只需跟踪虚拟机状态的hash值，而不是整个状态。</p>]]></content>
      
      
      <categories>
          
          <category> Web3 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> web3 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【Web3】SocialFi</title>
      <link href="/2024/02/06/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%90Web3%E3%80%91SocialFi/"/>
      <url>/2024/02/06/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%90Web3%E3%80%91SocialFi/</url>
      
        <content type="html"><![CDATA[<p>SocialFi汇集了社交媒体和defi的原则，它提供了一种去中心化的方法来创建、管理和存储社交媒体几其参与者生产的内容。</p><p>在SocialFi的核心，应用程序是内容创建者、影响者和参与者，它们希望更好的控制自己的数据，保障言论自由以及通过参与社交媒体获利。货币化通常发生在加密货币中，而身份管理和数字所有权则由nft驱动。</p><h2 id="构建模块"><a href="#构建模块" class="headerlink" title="构建模块"></a>构建模块</h2><h3 id="货币化"><a href="#货币化" class="headerlink" title="货币化"></a>货币化</h3><p>SocialFi应用程序通过使用社交代币或者应用内实用代币，这些代币不仅可以在应用程序级别创建，而且可以在用户级别创建，创作者可以通过社交代币管理自己的经济。</p><p>模型的基本设计原则：</p><ul><li><p>只有那些持有创作者社交代币的人才能参与他们的帖子，</p></li><li><p>如果想引起影响者的注意，持有最多数量的社交代币时，消息回复会出现在回复页面首页</p></li><li><p>创作者和影响者可以设置阈值，允许拥有超过一定数量社交代币的追随者直接向他们发送消息</p></li><li><p>当用户想要通过点赞或者分享与某人进行互动时，需要花钱。</p></li></ul><h3 id="审查与言论自由"><a href="#审查与言论自由" class="headerlink" title="审查与言论自由"></a>审查与言论自由</h3><p>SocialFi平台通过标记链上数据进行去中心化管理。SocialFi平台所有可公开查看的帖子都在链上，因此，这些链上数据可供规则引擎根据主题和所用词的性质来解析和快速标记帖子。</p><p>每个单独的节点都可以选择阻止一些标签并与其他标签互动。如果一个节点选择参与和认可一个有害帖子时，它将收到法律起诉。因此，在网络中必须允许非中央机构或中央组织内的小团体做出选择，控制器和责任在于个人。</p><h3 id="数字所有权和身份"><a href="#数字所有权和身份" class="headerlink" title="数字所有权和身份"></a>数字所有权和身份</h3><p>如果用户想创建一个SocialFi资料，可以使用自己的nft作为个人头像，并通过连接他们的钱包来确认自己的nft所有权。</p><p>SocialFi平台中的nft为创作者提供分发功能来广播他们的作品。</p>]]></content>
      
      
      <categories>
          
          <category> Web3 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Web3 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【Web3】NFT</title>
      <link href="/2024/02/06/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%90Web3%E3%80%91NFT/"/>
      <url>/2024/02/06/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%90Web3%E3%80%91NFT/</url>
      
        <content type="html"><![CDATA[<h2 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h2><p>nft是以数字形式表示的加密货币资产，每个nft都是独一无二的，这样有形资产和无形资产都能够被标记。即nft指可以投资于有价值的东西，而无须实际拥有或者存储它们，因此，在公开市场上买卖nft变得非常容易。</p><p>每个nft都可以通过唯一的交易hash值识别，即没有两个nft是完全一致的。</p><h2 id="工作流程"><a href="#工作流程" class="headerlink" title="工作流程"></a>工作流程</h2><p>冷现金是属于同质化资产（可替换，实际价值不变），而nft是一种非同质化资产，即无法相互转换，转换之后价值也不能完全一致，因为每个代币都是唯一的。</p><ul><li>区块链协议</li></ul><p>所有最好的nft都托管在区块链协议上，许多nft的创建者更喜欢以太坊区块链，尤其是因为它支持erc-721代币。即以太坊区块链这个特定子集非常适合nft，因为每个erc-721代币都是独一无二的。</p><ul><li>以太坊铸币</li></ul><p>铸币指的是创建尚未存在的新nft的过程。即当购买nft时，购买的是已经由其他人创建的数字资产。如果希望获取的是第一次被创建的nft，那么可以通过以太坊或者币安链等区块链网络铸造nft，这样nft可以验证你是否是真正的所属者。</p><h2 id="类型"><a href="#类型" class="headerlink" title="类型"></a>类型</h2><h3 id="分割式nft"><a href="#分割式nft" class="headerlink" title="分割式nft"></a>分割式nft</h3><p>以类似于股权的形式去分配一个nft，每个拥有的人都有可以获取一定比例的财产。</p><p>但是这个功能目前还未完全定型，处于探索状态。</p><h3 id="实物不动产"><a href="#实物不动产" class="headerlink" title="实物不动产"></a>实物不动产</h3><p>实物房地产是用nft表示的资产的完美示例，房产和nft都是独一无二的。</p><p>常见用例是部份所有权，例如房地产开发商想向零售客户开放投资机会，那么开发商可以让nft与一定比例的所有权相关联，然后在公开市场上发行nft</p><h3 id="元宇宙中的虚拟房地产"><a href="#元宇宙中的虚拟房地产" class="headerlink" title="元宇宙中的虚拟房地产"></a>元宇宙中的虚拟房地产</h3><h3 id="CryptoPunks和其他数字收藏品"><a href="#CryptoPunks和其他数字收藏品" class="headerlink" title="CryptoPunks和其他数字收藏品"></a>CryptoPunks和其他数字收藏品</h3><p>CryptoPunks是2007年创建的1k个数字图像的集合，每个CryptoPunks都是独一无二的，并由nft支持。</p><h3 id="体育nft"><a href="#体育nft" class="headerlink" title="体育nft"></a>体育nft</h3><p>有些体育品牌正在出售来自关键游戏赛事的视频剪辑的所有权或者比赛时的个别物品</p><h3 id="游戏nft"><a href="#游戏nft" class="headerlink" title="游戏nft"></a>游戏nft</h3><h2 id="好处"><a href="#好处" class="headerlink" title="好处"></a>好处</h2><ul><li>适合内容创作者</li></ul><p>保护知识产权</p><ul><li>价值存储</li></ul><p>现在所被创造出来的nft都是有价值的，因为铸币nft是需要有价值的东西才能被铸造。</p><ul><li>市场较大</li><li>nft可用抵押品</li></ul><h2 id="nft与加密货币"><a href="#nft与加密货币" class="headerlink" title="nft与加密货币"></a>nft与加密货币</h2><ul><li><p>相同点</p></li><li><p>以数字形式表示</p></li><li><p>构建和存储在区块链中</p></li><li><p>不同点</p></li><li><p>nft是非同质化货币，而加密货币是同质化产品。</p></li><li><p>每个nft都是独一无二的，价值也是独一无二的</p></li></ul><h2 id="CryptoPunks"><a href="#CryptoPunks" class="headerlink" title="CryptoPunks"></a>CryptoPunks</h2><h3 id="定义-1"><a href="#定义-1" class="headerlink" title="定义"></a>定义</h3><p>CryptoPunks是larva labs创建，是一个拥有1w个数字图像的系列，在以太坊区块链上被标记为nft。</p><p>nft实际上是对数字项目的所有权契约，持有CryptoPunks nft表示是该独一无二像素头像的唯一所有者。</p><h2 id="BAYC"><a href="#BAYC" class="headerlink" title="BAYC"></a>BAYC</h2><h3 id="定义-2"><a href="#定义-2" class="headerlink" title="定义"></a>定义</h3><p>BAYC是在以太坊区块链上铸造的一系列的nft头像，由1k枚nft组成，样式设计为以太坊区块链的猿猴。</p>]]></content>
      
      
      <categories>
          
          <category> Web3 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Web3 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【Web3】GameFi</title>
      <link href="/2024/02/06/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%90Web3%E3%80%91GameFi/"/>
      <url>/2024/02/06/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%90Web3%E3%80%91GameFi/</url>
      
        <content type="html"><![CDATA[<h2 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h2><p>GameFi是游戏和金融的组合，涉及到区块链游戏，对玩家提供经济激励。奖励包含游戏内部的奖励或者以nft为载体的奖励。</p><h2 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h2><ul><li><p>Decentraland（MANA和LAND代币）、</p></li><li><p>the sandbox（结合DAO和NFT）</p></li><li><p>axie infinity（AXS代币）</p></li></ul><p>前期需要准备3个axie nft作为起始，后续可以通过此游戏赚取回报获取slp代币，可以兑换为金钱</p><ul><li>Gala Games（以GALA为代币）</li></ul><p>将自己定位为一个游戏区块链生态孵化者，经济驱动剂是根据以太坊区块链上的erc-20标准创建的gala代币，兼容币安智能链。</p><p>其生态系统包含游戏、游戏发布平台、nft市场、游戏云托管服务和平台自身的代币经济学。</p><p>玩家可以通过特定的投票机制决定gala games平台应该添加哪些游戏。</p><ul><li>Enjin（是生态系统范围的解决方案，旨在通过对游戏内资产进行代币化并注入项目的原生代币ENJ）</li></ul><p>基础设施包含GraphQL和可信云。由于enjin允许开发人员用sdk和api以便根据需求访问响应功能，因此它采用graphql简化访问资源的方式，促进了虚拟世界和智能合约区块链之间的交互。而可信云允许enjin网络sdk和api的游戏与以太坊区块链互联</p><h2 id="游戏公会YGG"><a href="#游戏公会YGG" class="headerlink" title="游戏公会YGG"></a>游戏公会YGG</h2><p>ygg是专注于区块链p2p游戏的游戏公会，投资nft资产并将全球的区块链游玩家连接到一起的社区。</p><p>目标是建立一个属于玩家和投资者的网络，帮助彼此在nft游戏领域起步和成长。</p><h3 id="定义-1"><a href="#定义-1" class="headerlink" title="定义"></a>定义</h3><p>投资于区块链游戏中使用nft的dao？游戏包含较为广义的元宇宙，具有基于区块链的数字世界中的众多元素，包括数字土地&#x2F;货币等。</p><h3 id="运行"><a href="#运行" class="headerlink" title="运行"></a>运行</h3><p>结合了defi和nft，在以太坊区块链上创建了一种元宇宙经济。</p><p>ygg由多个subDAO（依附于DAO的较小DAO）组成，而这些subdao由来自特定nft游戏或地理位置的玩家群体组成。每个subdao都有自己的一套规则，用于管理各自的p2e游戏的活动和资产。</p><p>在ygg上，所有nft和数字资产都存储于社区控制的ygg金库中，金库为每个subdao提供nft，包括多个区块链游戏的p2e资产。</p><h3 id="代币"><a href="#代币" class="headerlink" title="代币"></a>代币</h3><p>ygg代币是一种赋予持有人对ygg dao的治理权利的erc-20代币。ygg代币可以用于支付网络上的服务费用，也可以在质押后在ygg收益池中获取奖励，或用于解锁ygg discord频道上的独家内容。此外，ygg代币持有者还可以提交提案，并对公会的技术、产品、项目、代币分配和整体治理结构等决策进行投票，最终在dao中得到实施的获胜建议将获得ygg代币奖励。</p><h2 id="dappradar-常用信息平台"><a href="#dappradar-常用信息平台" class="headerlink" title="dappradar 常用信息平台"></a>dappradar 常用信息平台</h2><p>该平台通过包括以太坊、eos和ont在内的20多个协议跟踪1w+dapps，使用户可以分析和比较各自dapps。</p><h3 id="定义-2"><a href="#定义-2" class="headerlink" title="定义"></a>定义</h3><p>网站自称为为全球用户带来了关于去中心化应用程序的高质量、准确的见解，迅速成为值得信赖的行业信息来源；发现dapps的起点，托管来自30多个协议的9k个dapps；能提供全面的nft估值和投资组合管理，并在数据主导、可操作的行业报告方面处于领先地位。</p><p>它的代币RADAR具有多种功能：持有人可以质押radar以赚取被动收入；是一种治理代币，允许持有者对生态系统的未来发展进行投票；用户可以获得对特定功能和见解的独占访问权限。</p>]]></content>
      
      
      <categories>
          
          <category> Web3 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Web3 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【Web3】DAO</title>
      <link href="/2024/02/06/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%90Web3%E3%80%91Defi/"/>
      <url>/2024/02/06/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%90Web3%E3%80%91Defi/</url>
      
        <content type="html"><![CDATA[<p>defi是“去中心化金融”的缩写，是加密货币或者区块链中各种金融app的总称。</p><p>defi从区块链中获取灵感。区块链是数字货币背后的技术，它允许多个实体持有交易历史的副本，这意味着它不受单一的中央来源控制。</p><h2 id="主流的defi应用"><a href="#主流的defi应用" class="headerlink" title="主流的defi应用"></a>主流的defi应用</h2><ul><li><p>去中心化交易所（dex）。它帮助用户将货币兑换为其他货币，它直接连接用户，因此他们可以直接交易加密货币，而无须信任中介机构的资金</p></li><li><p>稳定币：一种与加密货币以外的资产挂钩并具有稳定价格的加密货币</p></li><li><p>借贷平台：这些平台使用智能合约来代替中间管理借贷的银行等中介机构</p></li><li><p>跨链比特币（wbtc）。将比特币发送到以太坊网络的方式，因此比特币可以直接在以太坊的defi系统中使用。wbtc允许用户通过在上述去中心化借出的btc赚取利息。</p></li><li><p>预测市场。投注未来事件结果的市场。defi版本的预测市场目标是提供相同的功能但没有中介机构。</p></li></ul><h2 id="dex：去中心化交易所"><a href="#dex：去中心化交易所" class="headerlink" title="dex：去中心化交易所"></a>dex：去中心化交易所</h2><p>dex是一个点对点市场，交易直接发生在加密交易者之间。处理加密货币之间的交易</p><h3 id="工作流程"><a href="#工作流程" class="headerlink" title="工作流程"></a>工作流程</h3><p>通过cex（中心化交易所），可以将加密货币与法定货币之间互换。这些所有交易都是由交易所自己通过“订单薄”处理的，该订单薄根据当前的买卖订单确定特定加密货币的价格。而dex是不允许法定与加密货币之间的交易。</p><p>dex只是一种智能合约，它通过算法确定各种加密货币的价格，并促进流动性池（投资者锁定资金以换取类似的利息奖励来促进交易。</p><p>cex的交易记录在该交易所的内部数据库中，而dex的交易直接在区块链上结算</p><h3 id="优缺点"><a href="#优缺点" class="headerlink" title="优缺点"></a>优缺点</h3><blockquote><p>优点</p></blockquote><ul><li><p>种类繁多。dex几乎提供了无限的代币种类</p></li><li><p>降低黑客风险。由于dex交易中的所有资金都存储在交易者自己的钱包中，因此理论上它们不太容易受到黑客攻击。dex还降低了“交易对手风险”（违约的可能性）</p></li><li><p>匿名性。使用主流的dex不需要个人信息</p></li></ul><blockquote><p>缺点</p></blockquote><ul><li><p>需要用户做大量的前期研究准备，不能指望dex本身提供很多帮助。在dex中进行复杂交易需要一些专业知识</p></li><li><p>智能合约漏洞。任何defi协议的安全性都取决于为其提供支持的智能合约，而合约代码可能存在可利用的漏洞。</p></li><li><p>风险更高的代币。dex上面存在未经审查的代币</p></li></ul><h3 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h3><p>uniswap</p><h2 id="稳定币"><a href="#稳定币" class="headerlink" title="稳定币"></a>稳定币</h2><p>稳定币是一种储备资产挂钩的数字货币，旨在降低相对于比特币等非挂钩加密货币的波动性。</p><p>常用的稳定币包括USDT、USDC、DAI等</p><h3 id="DAI"><a href="#DAI" class="headerlink" title="DAI"></a>DAI</h3><p>dai是一种加密资产，试图通过将其他加密资产锁定在合约中与美元保持1:1的价值关系。dai是一种名为maker协议的开源软件的产品，运行在以太坊区块链之上的dapp。dai保持其价值的方式是使用以ETH计价的抵押债务。抵押债务为贷方提供了一种使用他们拥有的资产获得贷款的方式。</p><p>maker协议通过以太坊运行的智能合约，使借款人能锁定ETH和其他加密资产，从而对其进行抵押，以便贷款的形式生成新的dai。如果借款人想收回抵押的eth，必须将dai返回给协议并且支付费用，如果发生清算，maker协议将使用基于市场的内部拍卖机制获取抵押品并出售。</p><h3 id="工作流程-1"><a href="#工作流程-1" class="headerlink" title="工作流程"></a>工作流程</h3><p>dai是一种由其他加密货币抵押的加密资产。如果用户想获取dai，那么可以在交易所花费eth购买等值的dai，也可以使用maker协议抵押eth和其他资产。</p><p>抵押债务头寸（cdp）是maker上的智能合约，用户可以利用它来锁定其抵押资产（eth或bat）并生成dai。cdp可以视为存储抵押品的安全保险库。dai一般会被超额抵押，即所需的存款金额通常要高于dai的价值。</p><h2 id="借贷平台"><a href="#借贷平台" class="headerlink" title="借贷平台"></a>借贷平台</h2><p>借贷市场将借款人与加密货币的贷方联系起来。主流平台Compound允许用户借用加密货币或者提供自己的钱款，用户可以通过借款获取利息。Compound通过算法设置利率，因此如果借入加密货币的需求更高，利率将被推高。</p><p>defi借贷是基于抵押品的。</p><h4 id="Compound"><a href="#Compound" class="headerlink" title="Compound"></a>Compound</h4><p>它是建立在以太坊上的可公开访问的智能合约系统，允许借款人通过将其加密资产锁定到协议中来获取贷款和为贷方提供钱款。借款人和贷款人支付和收取的利率由每种加密货币的供求关系决定。每个区块的开采都会产生利率，贷款可随时还款，锁定资产可以随时提现。</p><p>原生代币是cToken，它允许用户从他们的钱中赚取利息，也能在其他应用程序转移、交易和使用</p><h2 id="流动性质押"><a href="#流动性质押" class="headerlink" title="流动性质押"></a>流动性质押</h2><p>质押是赚取资产被动收入的一种方式，同时可以支持区块链网络的安全和运营。流动性质押协议提供与常规pos质押相同的好处，减少了潜在的缺点。</p><p>流动性质押协议处于加密货币质押经济的最前沿，改变了defi行业的流动性准入。流动质押的优势之一就是能够在互动和使用资产的同时获取奖励，流动性质押协议为借贷协议和单产农业等活动提供可基础。</p><h3 id="质押"><a href="#质押" class="headerlink" title="质押"></a>质押</h3><p>将加密资产锁定在协议中以获取回报的过程。通过将闲置资产投入使用，抵押加密货币是赚取被动收入的一种方式。质押协议可以协助pos共识机制，该机制促进关于区块链交易有效性的网络协议。因此，与比特币等pow区块链相比，降低可能源需求。</p><p>质押在一定时期内无法使用资金。</p><h3 id="流动性质押-1"><a href="#流动性质押-1" class="headerlink" title="流动性质押"></a>流动性质押</h3><p>锁定资金以赚取奖励的同时仍然可以使用资金的方式。</p><h3 id="流动性质押运作"><a href="#流动性质押运作" class="headerlink" title="流动性质押运作"></a>流动性质押运作</h3><p>用户有一个ETH，将eth放入流动质押协议中，然后会收到一个价值等值的stETH（质押的eth）作为回报。</p><p>该用户将从协议中保留的原始eth存款中获取奖励。为了获取被抵押的eth，需要一个stETH才能将其兑换回来。</p><h3 id="流动质押优点"><a href="#流动质押优点" class="headerlink" title="流动质押优点"></a>流动质押优点</h3><ul><li>高产农业</li></ul><p>流动性质押是收益农业活动的基本基石。收益农业是指交易者将资金锁定在一个协议中并收到这些资金的打包或者代币化版本。</p><ul><li><p>加密贷款</p></li><li><p>快速存取资金</p></li></ul><h3 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h3><ul><li>有风险</li></ul><h2 id="预测市场"><a href="#预测市场" class="headerlink" title="预测市场"></a>预测市场</h2><p>预测市场就是可以买卖预测的市场，即分享事件的结果。</p><p>预测市场是利用群体智慧来进行的，那么由于defi是一个去中心化的市场，普通民众也能参与，更加自由。</p><p>实例：Augur、Gnosis</p>]]></content>
      
      
      <categories>
          
          <category> Web3 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Web3 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【Web3】DAO</title>
      <link href="/2024/02/06/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%90Web3%E3%80%91DAO/"/>
      <url>/2024/02/06/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%90Web3%E3%80%91DAO/</url>
      
        <content type="html"><![CDATA[<p>DAO是一种由社区主导的“公司”，即去中心化的自治组织，它完全d是透明和自主的，由智能合约制定基本规则，执行商定的决定，并且在任何时候，提案、投票甚至代码都是可以公开审计的。</p><p>DAO完全由个人成员管理，他们共同决定项目未来的走向。</p><p>框架的特点之一就是激励措施的一致性，鼓励直言不讳，并且只批准符合协议本身最大利益的提案，同时符合他们个人的最大利益。</p><h2 id="工作流程"><a href="#工作流程" class="headerlink" title="工作流程"></a>工作流程</h2><p>DAO的规则是由社区成员的核心团队通过使用智能合约建立的，这些智能合约奠定了DAO运行的基本框架，他们是高度可见的、可验证和可公开审计的，因此任何潜在的成员都可以充分了解协议在每一步的运作方式。</p><p>当规则被正式写入区块链，下一步就是弄清楚如何获得资金以及如何将其赋予治理。通常通过发行代币实现，协议通过发行代币来筹集资金并填补DAO的金库。作为法定货币的回报，代币持有者被赋予一定的投票权，通常与他们的持股数成正比，一旦资金筹集完成，DAO就可以进行部署了。</p><p>DAO部署完成投入使用后，除了通过成员投票达成共识外，不能再通过任何其他方式对其进行修改。</p><p>某些情况下，代币持有者可以投票决定在他们之间分配协议收取的部份费用（例如uniswap）</p><h2 id="协议DAO"><a href="#协议DAO" class="headerlink" title="协议DAO"></a>协议DAO</h2><p>目的是为了帮助构建协议而存在的协议体。</p><h3 id="MarkerDAO"><a href="#MarkerDAO" class="headerlink" title="MarkerDAO"></a>MarkerDAO</h3><p>MarkerDAO是协议DAO的一个典型示例。它是在以太坊区块链上开发借贷、储蓄和稳定加密货币技术的组织。即它是一个建立在以太坊上的DAO，允许在不需要中间人的情况下借贷加密资产，MarkerDAO由管理借贷的智能合约服务以及两种货币（DAI和MKR）组成，以规范贷款的价值。</p><p>MarkerDAO它创建了一个协议，允许任何拥有MarkerDAO钱包的人以DAI稳定币的形式借钱给他人。通过MarkerDAO的智能合约中锁定一些eth，用户可以创建一定数量的dai，锁定的eth越多，可以创建的dai越多。当用户需要解锁作为dai贷款抵押品的eth时，只需要偿还贷款和相关费用。</p><p>当贷款的抵押品价值降至某个点以下时，即eth的价格已经远远低于借入的dai数量，那么这个时候贷款就会被清算。清算和清算威胁通过防止人们借贷过多来保持系统稳定。如果“清算威胁”使系统保持诚实，那么mkr代币持有者是最后的贷款人。当eth价格崩盘并且一次清算太多贷款时，mkr被创建并出售以偿还贷款。同时，费用必须以mkr支付，清算罚款用于回购mkr，这些mkr会被烧毁或销毁。理论上，mkr应该始终有足够的价值来支持清算贷款，dai、mkr和eth作为一种自动制衡系统运行，两两之间相互抵消，以保持系统稳定和去中心化。</p><h2 id="慈善DAO（grant-dao"><a href="#慈善DAO（grant-dao" class="headerlink" title="慈善DAO（grant dao"></a>慈善DAO（grant dao</h2><p>社区捐赠资金并使用dao投票决定如何以治理提案的形式将资金分配给各种贡献者。grant dao最初的治理是通过不可转让的股份进行的，意味着成员参与的主要动机是产生社会效益而非财务回报。</p><h3 id="Moloch-DAO"><a href="#Moloch-DAO" class="headerlink" title="Moloch DAO"></a>Moloch DAO</h3><p>Moloch DAO为公共产品项目提供资金以改善以太坊生态系统。</p><ul><li>目的<br>改善和推动以太坊生态系统的项目提供资金。</li></ul><p>它由成员决定哪些项目可以获得资助。它将区块链技术视为一种公共产品，即每个人都可以从中收益并应该平等的获得东西。</p><h3 id="Gitcoin"><a href="#Gitcoin" class="headerlink" title="Gitcoin"></a>Gitcoin</h3><p>开发人员和编码人员可以在该平台获得报酬，以使用各种编程语言开发开源软件。用户可以向gitcoin平台提交自己的项目提案，可以从捐助者众筹资金。</p><p>旨在促进有意义的开源项目的开发，并更好的协调捐助者和开发者的利益。</p><h2 id="社交DAO"><a href="#社交DAO" class="headerlink" title="社交DAO"></a>社交DAO</h2><p>其旨在将志同道合的人聚集在同一网络社区中，围绕一种代币进行协调。</p><p>示例：FWB</p><h3 id="FWB"><a href="#FWB" class="headerlink" title="FWB"></a>FWB</h3><p>它是一个将集体文化和技术结合在一起的新型社交社区，是一个自行组织，富有创造力的互联网原生社区。它以人类价值观为核心，成员共同进行内容创作。</p><p>它由艺术家、创作者和领导web3.0转型的人员组成，fwb是成员和实现集体使命的技术之间的桥梁。</p><ul><li>工作流程</li></ul><p>其有个参与框架</p><ul><li><p>治理<br>包含fwb代币持有者，他们投票支持dao的提案并通过论坛参与治理</p></li><li><p>董事会</p></li></ul><p>董事会由团队成员、顾问和社区成员等混合实体组成，他们专注于制定有效的社区建设战略。</p><ul><li>团队负责人</li></ul><p>管理贡献者团队的成员，根据自己的经验被选出的。批准用于赏金或奖励的资金，设定关键优先事项以促进协助成功</p><ul><li>贡献者</li></ul><p>持有fwb的成员。贡献者通过积极参与活动为团队提供动力，并根据他们的贡献水平获得奖励。</p><h3 id="APE"><a href="#APE" class="headerlink" title="APE"></a>APE</h3><p>旨在促进去中心化和推进由社区主导的治理模式，任务是管理apecoin dao的决策，负责日常行政、薄记、项目管理和其他任务，以确保dao社区的想法得到足够的支持，因为去中心化治理对于建立和管理一个全球分散的社区很重要。</p><h2 id="服务DAO"><a href="#服务DAO" class="headerlink" title="服务DAO"></a>服务DAO</h2><p>客户可以为特点任务发放奖金，一旦完成，它在奖励个人贡献者之前需要向dao金库支付部份费用。贡献者通常还会收到在dao中传达所有权的治理通行证。</p><h3 id="出现背景"><a href="#出现背景" class="headerlink" title="出现背景"></a>出现背景</h3><ul><li>贡献者获得直接所有权</li></ul><p>服务dao的贡献者既获得了他们为每个客户创作的价值的份额，也获得了整个组织的份额</p><ul><li>开放的贡献文化</li></ul><p>一些服务dao是结构化的，因此任何人都可以加入并做出贡献。过滤申请人都dao更看重一个人为dao增值的能力</p><ul><li><p>更好的理解客户的问题</p></li><li><p>减少贡献者的收入波动</p></li></ul><p>贡献者通过服务dao社区和客户的项目获得报酬，而项目中的报酬一部份为累计到组织中的所有利益相关者，个人贡献者可以随着时间的推移而平滑收益波动。</p>]]></content>
      
      
      <categories>
          
          <category> web3 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> web3 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【Wasm】介绍(未完成)</title>
      <link href="/2024/02/06/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%90Wasm%E3%80%91%E4%BB%8B%E7%BB%8D----1/"/>
      <url>/2024/02/06/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%90Wasm%E3%80%91%E4%BB%8B%E7%BB%8D----1/</url>
      
        <content type="html"><![CDATA[<h2 id="出现背景"><a href="#出现背景" class="headerlink" title="出现背景"></a>出现背景</h2><p>webAssembly的堆栈式结构被设计为编码为一种高密度，可以被浏览器快速加载和执行的二进制格式。</p><p>webAssembly的设计初衷是希望浏览器以近似原生C&#x2F;C++应用的运行速度，来调用Wasm模块中包含的这各类型平台（处理器架构）上都可以使用的通用硬件功能。</p><p>Wasm描述来一个内存安全的沙箱执行环境，可以在现有的js虚拟机中运行实现。当浏览器中运行一个Wasm模块时，Wasm将遵循浏览器中与Web应用一致的同源策略来保证其安全性。</p><h2 id="基本原理"><a href="#基本原理" class="headerlink" title="基本原理"></a>基本原理</h2><p>Wasm主要是中v8解析js的解析器和编译链路中进行处理（Pipeline链路）</p><ul><li><p>链路中各个编译器的前置Parser的语法分析，转换为AST中间数据格式</p></li><li><p>优化编译，TurboFn优化编译器会使用IC（Inline Cache）和OSR（On Stack Replacement）等对js源码进行分析和优化</p></li><li><p>进行lowering操作，优化编译器会根据现有的已经优化好的js源码来生成一些处于低层级且与硬件架构相关的中间代码。</p></li><li><p><font color=red>此时加入Wasm操作</font></p></li></ul><p>引擎不需要对Wasm模块中的二进制代码进行优化，也不需要生成冗余的占用大量内存的AST结构信息。只需要把这些模块中的二进制代码直接加载到内存中，然后经过位于V8链路末端编译器后端的处理，最后生成的机器码便可以直接被浏览器执行。</p><ul><li>位于V8链路最末端的编译器后端（backend）负责将这些经过处理后的代码直接转译成基于特定处理器架构的机器码，最后再被浏览器解析和执行</li></ul>]]></content>
      
      
      <categories>
          
          <category> webAssembly </category>
          
      </categories>
      
      
        <tags>
            
            <tag> webAssembly </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【vue】虚拟dom基本</title>
      <link href="/2024/02/06/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%90vue%E3%80%91%E8%99%9A%E6%8B%9Fdom%E5%9F%BA%E6%9C%AC/"/>
      <url>/2024/02/06/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%90vue%E3%80%91%E8%99%9A%E6%8B%9Fdom%E5%9F%BA%E6%9C%AC/</url>
      
        <content type="html"><![CDATA[<h2 id="原由"><a href="#原由" class="headerlink" title="原由"></a>原由</h2><p>在项目运行时，页面状态会不断变化，每当状态变化时，都需要重新渲染。如果每次都直接将页面全部替换更新，那么由于访问dom是相对昂贵的，这样会导致非常多的性能浪费。<br>因此当某个状态变化时，只更新与这个状态相关联的dom节点。虚拟dom通过状态声称一个虚拟节点树，然后使用虚拟节点树进行渲染。在更新的时候，只需要比较上一次的节点树与当前节点树有何不同，更新不同的地方即可。</p><h2 id="vnode"><a href="#vnode" class="headerlink" title="vnode"></a>vnode</h2><h3 id="类型"><a href="#类型" class="headerlink" title="类型"></a>类型</h3><h4 id="注释节点"><a href="#注释节点" class="headerlink" title="注释节点"></a>注释节点</h4><ul><li>有效属性<br><code>text</code>和<code>isComment</code></li><li>元素：<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;！—注释—&gt;</span><br></pre></td></tr></table></figure></li><li>vnode：<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">text：”注释”，</span><br><span class="line">isComment：<span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h4 id="文本节点"><a href="#文本节点" class="headerlink" title="文本节点"></a>文本节点</h4><ul><li><p>有效属性<br><code>text</code></p></li><li><p>创建过程</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function createTextVnode(val)&#123;</span><br><span class="line">return new VNode(undefined, undefined, undefined,String(val));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h4 id="克隆属性"><a href="#克隆属性" class="headerlink" title="克隆属性"></a>克隆属性</h4><ul><li><p>特殊属性<br><code>isCloned</code></p></li><li><p>创建过程</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">function createCloneVnode(vnode, deep)&#123;</span><br><span class="line">const cloned = new VNode(vnode.tag, vnode.data, vnode.children, vnode.text, vnode.elm, vnode.context, vnode.componentOptions, vnode.asyncFactory)</span><br><span class="line">cloned.ns = vnode.ns</span><br><span class="line">cloned.isStatic = vnode.isStatic</span><br><span class="line">cloned.key = vnode.key</span><br><span class="line">cloned.isComment = vnode.isComment</span><br><span class="line">cloned.isCloned = true</span><br><span class="line">if(deep &amp;&amp; vnode.children)&#123;</span><br><span class="line">cloned.children = createCloneVnode(vnode.children)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h4 id="元素节点"><a href="#元素节点" class="headerlink" title="元素节点"></a>元素节点</h4><ul><li><p>有效属性<br><code>tag</code>: 节点名称，例如div、li等<br><code>data</code>: 节点上的数据，例如attrs、class等<br><code>children</code>: 当前节点的子节点列表<br><code>context</code>: 当前组件的vuejs实例</p></li><li><p>元素：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>123<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>vnode</p></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"><span class="attr">children</span>: [<span class="title class_">VNode</span>, <span class="title class_">VNode</span>]，</span><br><span class="line"><span class="attr">context</span>: &#123;…&#125;,</span><br><span class="line">data：&#123;…&#125;，</span><br><span class="line"><span class="attr">tag</span>: “div”</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="组件节点"><a href="#组件节点" class="headerlink" title="组件节点"></a>组件节点</h4><ul><li>特有属性：<br><code>componentOptions</code>: 组件节点的选项参数，包括propsData、tag、children等<br><code>componentInstance</code>: 组件实例</li></ul><h4 id="函数式组件"><a href="#函数式组件" class="headerlink" title="函数式组件"></a>函数式组件</h4><ul><li>特有属性：<br><code>functionContext</code><br><code>functionOptions</code></li></ul>]]></content>
      
      
      <categories>
          
          <category> vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【markdown】语法</title>
      <link href="/2024/02/06/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%90markdown%E3%80%91%E8%AF%AD%E6%B3%95/"/>
      <url>/2024/02/06/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%90markdown%E3%80%91%E8%AF%AD%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<p>***、—、___可以显示横线效果</p><hr><hr><hr><h2 id="链接"><a href="#链接" class="headerlink" title="链接"></a>链接</h2><p>除了最基本的<a href=""></a>外，还包含以下</p><ul><li>引用链接</li></ul><p><a href="htttps://">link</a></p><ul><li>网址链接</li></ul><p><a href="https://">https://</a></p><h2 id="扩展语法GFM"><a href="#扩展语法GFM" class="headerlink" title="扩展语法GFM"></a>扩展语法GFM</h2><ul><li>删除线～</li></ul><p><del>删除</del></p><ul><li>下划线</li></ul><p><u>a</u></p><ul><li>上标</li></ul><p>这是^上标^</p><ul><li>下标</li></ul><p>这是<del>下标</del></p><ul><li>表情</li></ul><p>:smile:</p><p><a href="https://www.webfx.com/tools/emoji-cheat-sheet/">表情地址</a></p><ul><li><p>任务列表</p></li><li><p><input disabled="" type="checkbox"> list 1</p></li><li><p><input checked="" disabled="" type="checkbox"> list2</p></li><li><p>锚点</p></li></ul><p><a href="#point">point</a></p><h2 id="排版"><a href="#排版" class="headerlink" title="排版"></a>排版</h2><h3 id="空格"><a href="#空格" class="headerlink" title="空格"></a>空格</h3><ul><li>中英文之间、中英文与数字之间、英文标点符号与后面的文字之间</li></ul><h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><h3 id="语言转换工具"><a href="#语言转换工具" class="headerlink" title="语言转换工具"></a>语言转换工具</h3><p>Pandoc</p><h3 id="vs-code语法增强插件"><a href="#vs-code语法增强插件" class="headerlink" title="vs code语法增强插件"></a>vs code语法增强插件</h3><p>markdown preview enhanced</p><h4 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h4><ul><li>引用文件</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@import “文件名”</span><br></pre></td></tr></table></figure><p>可以将文件内容直接显示，包括图片、csv表格</p><ul><li>幻灯片</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;!— slide—&gt;</span><br><span class="line">First</span><br><span class="line">&lt;!— slide—&gt;</span><br><span class="line">Second</span><br></pre></td></tr></table></figure><ul><li>使用库：reveal.js</li></ul><h2 id="交互性工具"><a href="#交互性工具" class="headerlink" title="交互性工具"></a>交互性工具</h2><p>交互性md工具可以直接执行代码</p><ul><li><p>jupyter notebook</p></li><li><p>r markdown</p></li></ul><h3 id="锚点"><a href="#锚点" class="headerlink" title="锚点"></a>锚点</h3><p>其实呢，每一个标题都是一个锚点，和HTML的锚点（<code>#</code>）类似，比如我们</p><table><thead><tr><th>语法</th><th>效果</th></tr></thead><tbody><tr><td><code>[回到顶部](#readme)</code></td><td><a href="#readme">回到顶部</a></td></tr></tbody></table><p>不过要注意，标题中的英文字母都被转化为<strong>小写字母</strong>了。</p><blockquote><p>以前GitHub对中文支持的不好，所以中文标题不能正确识别为锚点，但是现在已经没问题啦！</p></blockquote><h3 id="复选框列表"><a href="#复选框列表" class="headerlink" title="复选框列表"></a>复选框列表</h3><ul><li><input checked="" disabled="" type="checkbox"> 需求分析</li><li><input checked="" disabled="" type="checkbox"> 系统设计</li><li><input checked="" disabled="" type="checkbox"> 详细设计</li><li><input disabled="" type="checkbox"> 编码</li><li><input disabled="" type="checkbox"> 测试</li><li><input disabled="" type="checkbox"> 交付</li></ul><p>您可以使用这个功能来标注某个项目各项任务的完成情况。</p><blockquote><p>Tip:</p><blockquote><p>在GitHub的<strong>issue</strong>中使用该语法是可以实时点击复选框来勾选或解除勾选的，而无需修改issue原文。</p></blockquote></blockquote><h2 id="块引用"><a href="#块引用" class="headerlink" title="块引用"></a>块引用</h2><h3 id="常用于引用文本"><a href="#常用于引用文本" class="headerlink" title="常用于引用文本"></a>常用于引用文本</h3><h4 id="文本摘自《深入理解计算机系统》P27"><a href="#文本摘自《深入理解计算机系统》P27" class="headerlink" title="文本摘自《深入理解计算机系统》P27"></a>文本摘自《深入理解计算机系统》P27</h4><p>　令人吃惊的是，在哪种字节顺序是合适的这个问题上，人们表现得非常情绪化。实际上术语“little endian”（小端）和“big endian”（大端）出自Jonathan Swift的《格利佛游记》一书，其中交战的两个派别无法就应该从哪一端打开一个半熟的鸡蛋达成一致。因此，争论沦为关于社会政治的争论。只要选择了一种规则并且始终如一的坚持，其实对于哪种字节排序的选择都是任意的。</p><blockquote><p><strong>“端”（endian）的起源</strong><br>以下是Jonathan Swift在1726年关于大小端之争历史的描述：<br>“……下面我要告诉你的是，Lilliput和Blefuscu这两大强国在过去36个月里一直在苦战。战争开始是由于以下的原因：我们大家都认为，吃鸡蛋前，原始的方法是打破鸡蛋较大的一端，可是当今的皇帝的祖父小时候吃鸡蛋，一次按古法打鸡蛋时碰巧将一个手指弄破了，因此他的父亲，当时的皇帝，就下了一道敕令，命令全体臣民吃鸡蛋时打破较小的一端，违令者重罚。”</p></blockquote><h3 id="块引用有多级结构"><a href="#块引用有多级结构" class="headerlink" title="块引用有多级结构"></a>块引用有多级结构</h3><blockquote><p>数据结构</p><blockquote><p>树</p><blockquote><p>二叉树</p><blockquote><p>平衡二叉树</p><blockquote><p>满二叉树</p></blockquote></blockquote></blockquote></blockquote></blockquote><h3 id="对齐"><a href="#对齐" class="headerlink" title="对齐"></a>对齐</h3><p>表格可以指定对齐方式</p><table><thead><tr><th align="left">左对齐</th><th align="center">居中</th><th align="right">右对齐</th></tr></thead><tbody><tr><td align="left">col 3 is</td><td align="center">some wordy text</td><td align="right">$1600</td></tr><tr><td align="left">col 2 is</td><td align="center">centered</td><td align="right">$12</td></tr><tr><td align="left">zebra stripes</td><td align="center">are neat</td><td align="right">$1</td></tr></tbody></table><h2 id="表情"><a href="#表情" class="headerlink" title="表情"></a>表情</h2><p>Github的Markdown语法支持添加emoji表情，输入不同的符号码（两个冒号包围的字符）可以显示出不同的表情。</p><p>比如<code>:blush:</code>，可以显示:blush:。</p><p>具体每一个表情的符号码，可以查询GitHub的官方网页<a href="http://www.emoji-cheat-sheet.com/">http://www.emoji-cheat-sheet.com</a>。</p><p>但是这个网页每次都打开<strong>奇慢</strong>。。所以我整理到了本repo中，大家可以直接在此查看<a href="./emoji.md">emoji</a>。</p><h2 id="diff语法"><a href="#diff语法" class="headerlink" title="diff语法"></a>diff语法</h2><p>版本控制的系统中都少不了diff的功能，即展示一个文件内容的增加与删除。<br>GFM中可以显示的展示diff效果。使用绿色表示新增，红色表示删除。</p><p>其语法与代码高亮类似，只是在三个反引号后面写diff，<br>并且其内容中，以 <code>+ </code>开头表示新增，<code>- </code>开头表示删除。</p><p>效果如下：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="addition">+ 鸟宿池边树，僧敲月下门</span></span><br><span class="line"><span class="deletion">- 鸟宿池边树，僧推月下门</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 额外内容 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 额外内容 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【js】属性描述符</title>
      <link href="/2024/02/06/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%90js%E3%80%91%E5%B1%9E%E6%80%A7%E6%8F%8F%E8%BF%B0%E7%AC%A6/"/>
      <url>/2024/02/06/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%90js%E3%80%91%E5%B1%9E%E6%80%A7%E6%8F%8F%E8%BF%B0%E7%AC%A6/</url>
      
        <content type="html"><![CDATA[<h1 id="object属性与方法"><a href="#object属性与方法" class="headerlink" title="object属性与方法"></a>object属性与方法</h1><ul><li>通过使用<code>Object.getOwnPropertyDescriptor(object, name)</code>来配置属性</li></ul><h2 id="wirteable"><a href="#wirteable" class="headerlink" title="wirteable"></a>wirteable</h2><ul><li><p>设置后无法修改属性值，严格模式下会报错</p></li><li><p>类似于设置了getter和setter，但是setter是个空操作的。</p><blockquote><p>如果想用setter实现wirteable，那么需要在严格模式下进行报错</p></blockquote></li></ul><h2 id="configurable"><a href="#configurable" class="headerlink" title="configurable"></a>configurable</h2><ul><li>表明属性是否可以再进行配置以及是否禁止删除这个属性</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Object.getOwnPropertyDescriptor(object, name,&#123;configurable: false&#125;)</span><br><span class="line">//报错</span><br><span class="line">//Object.getOwnPropertyDescriptor(object, name,&#123;configurable: true&#125;)</span><br></pre></td></tr></table></figure><ul><li><code>configureable:false</code>时可以将<code>wirteable</code>从true改为false，但是不能从false改为true</li></ul><h2 id="enumerable"><a href="#enumerable" class="headerlink" title="enumerable"></a>enumerable</h2><ul><li><p>是否出现在对象的枚举属性中，设置为<code>false</code>后，在<code>for..in</code>中就不会再出现这个属性</p></li><li><p><code>obj.propertyIsEnumerabel(key)</code>检查该键是否存在对象(不检查原型链)中且enumerable为true，判断该键是否可枚举。</p></li></ul><h2 id="Object-preventExtensions-obj"><a href="#Object-preventExtensions-obj" class="headerlink" title="Object.preventExtensions(obj)"></a>Object.preventExtensions(obj)</h2><ul><li>禁止一个对象添加新属性并且保留已有属性</li></ul><h2 id="Object-seal-obj"><a href="#Object-seal-obj" class="headerlink" title="Object.seal(obj)"></a>Object.seal(obj)</h2><ul><li><p>不能添加新属性，也无法重新配置或者删除任何属性</p></li><li><p>实际上实际上是在一个现有对象上调用 <code>Object.preventExtensions(obj) </code>，并且把所有现有属性标记为 <code>configurable: false</code></p></li></ul><h2 id="Object-freeze-obj"><a href="#Object-freeze-obj" class="headerlink" title="Object.freeze(obj)"></a>Object.freeze(obj)</h2><ul><li><p>禁止对对象本身及其任意属性的修改</p></li><li><p>实际上是在现有对象上调用 <code>Object.seal</code>，并且把所有属性标注为 <code>. wirtable: true</code></p></li></ul>]]></content>
      
      
      <categories>
          
          <category> js </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【js】this指向</title>
      <link href="/2024/02/06/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%90js%E3%80%91this%E6%8C%87%E5%90%91/"/>
      <url>/2024/02/06/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%90js%E3%80%91this%E6%8C%87%E5%90%91/</url>
      
        <content type="html"><![CDATA[<h1 id="this"><a href="#this" class="headerlink" title="this"></a>this</h1><h2 id="优先级"><a href="#优先级" class="headerlink" title="优先级"></a>优先级</h2><ul><li>通过new进行创建的，this指向创建的对象</li></ul><p>如果构造函数返回了一个对象，那么绑定的this就是返回对象的</p><p>如果构造函数没有返回对象，返回的是number或者boolean，那么实际返回的也是这个构造函数</p><ul><li>显示绑定（bind&#x2F;apply）：如果传的是null或者undefined，实际应用的是默认绑定规则</li><li>隐式绑定，绑定的是那个的上下文对象<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Var fn()&#123;&#125;</span><br><span class="line">Var obj = &#123;fun: fun&#125;</span><br><span class="line">Obj.fun();//指向的是obj</span><br></pre></td></tr></table></figure></li><li>默认绑定，严格模式下是undefined，非严格模式下是全局对象</li></ul><h2 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">const a=&#123; text:1,fn: function ()&#123;return this.text&#125;&#125;</span><br><span class="line"></span><br><span class="line">const b=&#123; text:1,fn: function ()&#123;</span><br><span class="line">const aa=a.fn;</span><br><span class="line">return aa();// 输出undefined，因为是在window层调用的</span><br><span class="line">&#125;&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> js </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【Htpp】header</title>
      <link href="/2024/02/06/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%90Htpp%E3%80%91header/"/>
      <url>/2024/02/06/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%90Htpp%E3%80%91header/</url>
      
        <content type="html"><![CDATA[<h2 id="通用头部"><a href="#通用头部" class="headerlink" title="通用头部"></a>通用头部</h2><h3 id="cache-control"><a href="#cache-control" class="headerlink" title="cache-control"></a>cache-control</h3><p>控制缓存，可以接收多个参数，参数之间以“，”隔空。</p><blockquote><p>请求和响应共用</p></blockquote><ul><li><p>no-cache：表示强制使用最新的值而不使用缓存。请求头部包含no-cache，表示客户端不接收缓存过的响应，缓存服务器必须把客户端请求转发给源服务器；响应请求里面包含，那么缓存服务器不能对响应资源进行缓存。</p></li><li><p>no-store：不应该缓存当前内容，表示对应的报文中包含机密信息</p></li><li><p>no-transform：缓存不能改变主体的媒体类型，能防止缓存服务器压缩图片资源等。</p></li><li><p>max-age：缓存有效期（以秒为单位）。请求包含时，如果缓存资源的缓存时间比指定时间数值更小时则接受缓存资源，当值为0时，缓存服务器会把请求转发给源服务器；当响应包含时，缓存服务器不再确认资源的有效期，而以max-age数值作为缓存保存时长。</p></li></ul><blockquote><p>请求头部</p></blockquote><ul><li><p>min-fresh：要求缓存服务器指定时间内返回响应（以秒为单位）</p></li><li><p>only-if-cached：客户端仅在缓存服务器本地缓存目标资源的情况下才会要求其返回值，也就是说不会向源服务器转发请求。</p></li></ul><blockquote><p>响应头部</p></blockquote><ul><li><p><a href="https://blog.csdn.net/mK0vouYv4BwgX190fSd/article/details/89880083">must-revalidate</a>：本地缓存过期前可以使用，否则必须进行有效性校验</p></li><li><p>public：响应可能会被任何对象缓存，没有限制</p></li><li><p>private： 响应只能被特定用户缓存，不能被其他用户使用</p></li><li><p>proxy-revalidate：仅适用于共享缓存，私有缓存时忽略</p></li></ul><h3 id="connection"><a href="#connection" class="headerlink" title="connection"></a>connection</h3><ul><li><p>close: 当一方的connection为close时，表示关闭此次连接</p></li><li><p>keep-live：持久化连接</p></li></ul><h3 id="date"><a href="#date" class="headerlink" title="date"></a>date</h3><p>报文创建时间</p><h2 id="请求头部"><a href="#请求头部" class="headerlink" title="请求头部"></a>请求头部</h2><h3 id="accept"><a href="#accept" class="headerlink" title="accept"></a>accept</h3><p>可以设置多个值，每个值通过“，”进行分割</p><p>常用值：text&#x2F;html，application&#x2F;xml；q&#x3D;0.9等</p><p>注：q&#x3D;x，是给当前类型赋予权重，范围为0～1，可精确到小数点后3位。和MIME子类型通过“，”分割，默认权重值为1。服务器会优先返回权重较大的类型，如果权重相等，则按照从左至右的顺序处理。</p><h3 id="accept-charset"><a href="#accept-charset" class="headerlink" title="accept-charset"></a>accept-charset</h3><p>客户端可以处理的字符集类型，通常不需要额外设置此项，每种文件类型都有默认的值。和accept一样可以设置权重</p><h3 id="accept-encoding"><a href="#accept-encoding" class="headerlink" title="accept-encoding"></a>accept-encoding</h3><p>客户端可以接收的编码方式，通常这个字段值会是某种压缩算法，比如gzip等。和accept一样可以设置权重</p><h3 id="accept-language"><a href="#accept-language" class="headerlink" title="accept-language"></a>accept-language</h3><p>客户端可以解析的自然语言，可以一次性指定多个语言并设置权重。</p><h3 id="authorization"><a href="#authorization" class="headerlink" title="authorization"></a>authorization</h3><p>告知服务端认证信息。通常在收到401后，在请求头里面加入authorization：type credentials</p><h3 id="host（必传）"><a href="#host（必传）" class="headerlink" title="host（必传）"></a>host（必传）</h3><p>告知服务器请求资源所处的互联网主机名和端口号（不指定将使用默认端口号）。</p><p>必传是因为服务器在接收到请求后将请求的主机号替换为ip地址，但是如果这个ip部署了多个域名，那么服务器无法转发到对应的请求</p><h3 id="if-modified-since"><a href="#if-modified-since" class="headerlink" title="if-modified-since"></a>if-modified-since</h3><p>确认代理或者客户端本地资源的有效性。服务端在接受到这个值后，会与资源最近更新时间做对比，如果在字段指定的日期之后资源发生了变化，那么服务器会返回最新的资源，否则返回304</p><h3 id="if-none-match"><a href="#if-none-match" class="headerlink" title="if-none-match"></a>if-none-match</h3><p>用于判断本地缓存是否失效。存储的是上个响应头部的etag值。当指定的值与资源的etag值不一致时，服务器端才会处理请求</p><h2 id="响应头部"><a href="#响应头部" class="headerlink" title="响应头部"></a>响应头部</h2><h3 id="age"><a href="#age" class="headerlink" title="age"></a>age</h3><p>告知客户端服务端在多久前创建了响应，若创建该响应的是缓存服务器，age指的是缓存后响应再次发起认证到认证完成的时间。代理创建响应必须加上age字段</p><h3 id="etag"><a href="#etag" class="headerlink" title="etag"></a>etag</h3><p>服务端在每次更新资源后生成一个唯一对应的标识，生成算法由服务器自行决定</p><p>分类：</p><ul><li><p>强etag：资源发生变化就会改变</p></li><li><p>弱etag：资源发生了较大变化时才会改变。以W&#x2F;来表示</p></li></ul><h3 id="location"><a href="#location" class="headerlink" title="location"></a>location</h3><p>使用头部字段location可以引导请求发起方至某个与请求url位置不同的资源，一般会配合3xx进行使用</p><h3 id="www-authenticate"><a href="#www-authenticate" class="headerlink" title="www-authenticate"></a>www-authenticate</h3><p>告知客户端当前服务器端可接收的认证方案，然后客户端可以在authentication字段中返回对应的值</p><h2 id="主体头部"><a href="#主体头部" class="headerlink" title="主体头部"></a>主体头部</h2><h3 id="allow"><a href="#allow" class="headerlink" title="allow"></a>allow</h3><p>通知客户端能够支持的http请求方法。当服务端接收到不支持http请求方法时，会响应状态信息405，同时把支持的方法写入allow字段</p><h3 id="content-encoding"><a href="#content-encoding" class="headerlink" title="content-encoding"></a>content-encoding</h3><p>告知客户端当前响应内容的编码方式</p><h3 id="content-length"><a href="#content-length" class="headerlink" title="content-length"></a>content-length</h3><p>表明主体部分的大小，单位为字节</p><h3 id="content-type"><a href="#content-type" class="headerlink" title="content-type"></a>content-type</h3><p>表明响应主体内容的MIME类型</p><h3 id="last-modified"><a href="#last-modified" class="headerlink" title="last-modified"></a>last-modified</h3><p>资源最后的修改时间，配合缓存使用</p><h3 id="expires"><a href="#expires" class="headerlink" title="expires"></a>expires</h3><p>失效日期</p>]]></content>
      
      
      <categories>
          
          <category> http </category>
          
      </categories>
      
      
        <tags>
            
            <tag> http </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【css】流向修改</title>
      <link href="/2024/02/06/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%90css%E3%80%91%E6%B5%81%E5%90%91%E4%BF%AE%E6%94%B9/"/>
      <url>/2024/02/06/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%90css%E3%80%91%E6%B5%81%E5%90%91%E4%BF%AE%E6%94%B9/</url>
      
        <content type="html"><![CDATA[<h2 id="direction"><a href="#direction" class="headerlink" title="direction"></a>direction</h2><h3 id="值"><a href="#值" class="headerlink" title="值"></a>值</h3><ul><li>ltr</li></ul><p>默认值，从左到右</p><ul><li>rtl</li></ul><p>从右到左</p><h3 id="场景"><a href="#场景" class="headerlink" title="场景"></a>场景</h3><ul><li><p>文字省略号转向，且不影响文字的流向</p></li><li><p>表格呈现顺序</p></li></ul><h2 id="unicode-bidi"><a href="#unicode-bidi" class="headerlink" title="unicode-bidi"></a>unicode-bidi</h2><h3 id="属性值"><a href="#属性值" class="headerlink" title="属性值"></a>属性值</h3><ul><li>normal</li></ul><p>默认值，元素正常排列。但若设置了direction：rtl，则图片、按钮和问号、加号之类的字符会从右往左显示，但中英文还是从左往右</p><ul><li>embed</li></ul><p>其只能作用于内联元素。其会开启一个看不见的嵌入层，然后自己在里面重新排序，所以不会受到外部unicode-bidi影响</p><p>其和在元素前嵌入U+202B和后嵌入U+202C效果一致</p><ul><li>bidi-override</li></ul><p>重写双向排序规则，通常样式表现为所有字符都按照统一的direction顺序排序</p><p>其和在元素前嵌入U+202E和后嵌入U+202C效果一致</p><h2 id="wirting-mode"><a href="#wirting-mode" class="headerlink" title="wirting-mode"></a>wirting-mode</h2><h3 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h3><h4 id="css3语法"><a href="#css3语法" class="headerlink" title="css3语法"></a>css3语法</h4><ul><li>horizontal-tb</li></ul><p>文本流为水平方向，元素从上往下堆叠</p><ul><li>vertical-rl</li></ul><p>垂直方向，从右往左堆叠，和古诗词顺序一致</p><ul><li>vertical-lr</li></ul><p>垂直方向，从左往右堆叠</p><ul><li><p>inherit</p></li><li><p>initial</p></li><li><p>unset</p></li></ul><h4 id="ie"><a href="#ie" class="headerlink" title="ie"></a>ie</h4><ul><li>lr-tb</li></ul><p>ie7以上支持，从左往右，从上往下，且下一行水平元素在上一行元素的下面</p><ul><li>rl-tb</li></ul><p>ie7+，从右往左，从上往下，且下一行水平元素在上一行元素的下面</p><ul><li>tb-rl</li></ul><p>ie7+，从下往上，从右往左，下一个垂直行定位于前一个垂直行的左边</p><ul><li>bt-rl</li></ul><p>ie7+，从下往上，从右到左，下一个垂直行定位于前一个垂直行的左边</p><ul><li>tb-lr</li></ul><p>ie8+，从上往下，从左往右垂直</p><ul><li>bt-lr</li></ul><p>ie8+，从下往上，从左往右垂直</p><ul><li>lr-bt</li></ul><p>ie8+，从下往上，从右往左水平</p><ul><li>rl-bt</li></ul><p>ie8+，从下往上，右往左水平</p><ul><li>lr</li></ul><p>ie9+，svg和html上使用，等同于lr-tb</p><ul><li>rl</li></ul><p>ie9+，svg和html上使用，等同于rl-tb</p><ul><li>tb</li></ul><p>ie9+，svg和html上使用，等同于tb-rl</p><h3 id="改变内容"><a href="#改变内容" class="headerlink" title="改变内容"></a>改变内容</h3><ul><li>margin</li></ul><p>margin重叠可以在垂直和水平方向上都会进行</p><ul><li>margin：auto</li></ul><p>可以实现垂直居中</p><ul><li>text-align：center</li></ul><p>图片垂直居中</p><ul><li>text-indent</li></ul><p>可以用这个属性实现文字往下一沉的效果</p><ul><li>iconfonts旋转</li></ul>]]></content>
      
      
      <categories>
          
          <category> css </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【css】属性关键字</title>
      <link href="/2024/02/06/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%90css%E3%80%91%E5%B1%9E%E6%80%A7%E5%85%B3%E9%94%AE%E5%AD%97/"/>
      <url>/2024/02/06/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%90css%E3%80%91%E5%B1%9E%E6%80%A7%E5%85%B3%E9%94%AE%E5%AD%97/</url>
      
        <content type="html"><![CDATA[<h2 id="inherit"><a href="#inherit" class="headerlink" title="inherit"></a>inherit</h2><p>继承，从IE8开始支持</p><h2 id="initial"><a href="#initial" class="headerlink" title="initial"></a>initial</h2><p>初始值关键字，把当前css属性的计算值还原为css语法中规定的初始值</p><p>注：并不是将其还原为浏览器默认的初始值</p><h2 id="unset"><a href="#unset" class="headerlink" title="unset"></a>unset</h2><p>如果当前使用的css属性是具有继承特性的，例如color，那么就和inherit表现一致</p><p>如果当时使用的css属性没有继承特性，那么就表现和initial一致</p><h2 id="revert"><a href="#revert" class="headerlink" title="revert"></a>revert</h2><p>当前元素还原为浏览器内置的样式</p><h2 id="all"><a href="#all" class="headerlink" title="all"></a>all</h2><p>all属性可以重置除unicode-bidi、direction以及css自定义属性外的所有css属性。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">all</span>：initial ｜inherit ｜unset｜revert</span><br></pre></td></tr></table></figure><h2 id="fit-content"><a href="#fit-content" class="headerlink" title="fit-content"></a>fit-content</h2><p>用子元素的宽高来确定当前元素的数据。</p><h2 id="min-content"><a href="#min-content" class="headerlink" title="min-content"></a>min-content</h2><p>最小内容宽度或首选最小宽度</p><h3 id="替换元素"><a href="#替换元素" class="headerlink" title="替换元素"></a>替换元素</h3><p>min-content手当前元素内容自身的宽度。</p><h3 id="CJK文字"><a href="#CJK文字" class="headerlink" title="CJK文字"></a>CJK文字</h3><p>如果是没有标点的中文，那么min-content是单个汉字的宽度</p><p>如果是包含避头标点（，。？、！等）或者避尾标点（“（等），且line-break不是anywhere的中文，那么min-content是包含标点字符的宽度</p><h3 id="非GJK文字"><a href="#非GJK文字" class="headerlink" title="非GJK文字"></a>非GJK文字</h3><p>min-content是由字符单元的宽度决定的，所有连续的英文字母、数字和标点都被认为是一个字符单元，直到遇到中断字符</p><h3 id="最终的首选最小宽度"><a href="#最终的首选最小宽度" class="headerlink" title="最终的首选最小宽度"></a>最终的首选最小宽度</h3><p>是所有内部子元素中最大的那个首选最小宽度值</p><h2 id="max-content"><a href="#max-content" class="headerlink" title="max-content"></a>max-content</h2><p>最大内容宽度</p><h2 id="stretch、available、fill-available"><a href="#stretch、available、fill-available" class="headerlink" title="stretch、available、fill-available"></a>stretch、available、fill-available</h2><p>都是让元素尺寸自动填满可用空间</p><ul><li>stretch</li></ul><p>弹性拉伸，替换之前的fill- available和available</p><ul><li>available</li></ul><p>可用空间，firefox的关键字，需加上-moz-前缀</p><ul><li>fill-avaiable</li></ul><p>填充可用空间，需配合-webkit-私有前缀</p>]]></content>
      
      
      <categories>
          
          <category> css </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【css】取值规则</title>
      <link href="/2024/02/06/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%90css%E3%80%91%E5%8F%96%E5%80%BC%E8%A7%84%E5%88%99/"/>
      <url>/2024/02/06/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%90css%E3%80%91%E5%8F%96%E5%80%BC%E8%A7%84%E5%88%99/</url>
      
        <content type="html"><![CDATA[<h2 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h2><p>css本质上就是声明规则，在各种条件下，产生特定的效果。因此层叠（cascade）决定了如何解决冲突，是css语言的基础</p><h2 id="规则"><a href="#规则" class="headerlink" title="规则"></a>规则</h2><p>当样式发生冲突，层叠会依据三种条件解决冲突</p><h3 id="样式表来源"><a href="#样式表来源" class="headerlink" title="样式表来源"></a>样式表来源</h3><p>样式来自哪儿，自己设定的样式和浏览器默认的样式等</p><ul><li>用户代理样式</li></ul><p>即浏览器默认样式，浏览器应用了用户代理样式之后才会应用作者样式表，后者会覆盖前者的样式</p><ul><li>!important</li></ul><p>重要声明，标记了的样式会被当作更高优先级的来源</p><h3 id="选择器优先级"><a href="#选择器优先级" class="headerlink" title="选择器优先级"></a>选择器优先级</h3><p>哪些选择器比另一些选择器更重要，浏览器的优先级被分为两个部分：html的行内样式和选择器的样式</p><p>准确规则：id选择器数量&gt;id选择器数量一致，类多的选择器&gt;标签名多的选择器多</p><h3 id="源码顺序"><a href="#源码顺序" class="headerlink" title="源码顺序"></a>源码顺序</h3><p>样式在样式表里的声明顺序</p><h2 id="inherit和initial"><a href="#inherit和initial" class="headerlink" title="inherit和initial"></a>inherit和initial</h2><h3 id="inherit"><a href="#inherit" class="headerlink" title="inherit"></a>inherit</h3><p>继承父级的值</p><h3 id="initial"><a href="#initial" class="headerlink" title="initial"></a>initial</h3><p>撤销设定的样式属性，回归到这个属性的初始值</p>]]></content>
      
      
      <categories>
          
          <category> css </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>consoleAPI</title>
      <link href="/2024/02/06/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%90console%E3%80%91API/"/>
      <url>/2024/02/06/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%90console%E3%80%91API/</url>
      
        <content type="html"><![CDATA[<h2 id="assert"><a href="#assert" class="headerlink" title="assert"></a>assert</h2><h3 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">console.assert(boolean, …args)</span><br></pre></td></tr></table></figure><h3 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h3><p>但第一个参数为false时进行输出</p><h2 id="count"><a href="#count" class="headerlink" title="count"></a>count</h2><h3 id="参数-1"><a href="#参数-1" class="headerlink" title="参数"></a>参数</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">console.count(args)</span><br><span class="line"></span><br><span class="line">console.countReset(args) // 归零累计值</span><br></pre></td></tr></table></figure><h3 id="输出-1"><a href="#输出-1" class="headerlink" title="输出"></a>输出</h3><p>累计特定标签出现的次数</p><h2 id="group"><a href="#group" class="headerlink" title="group"></a>group</h2><h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">console.group(“start”)</span><br><span class="line">console.log(“info”)</span><br><span class="line">console.groupCollapsed(“child”)</span><br><span class="line">console.log(“data”)</span><br><span class="line">console.groupEnd()</span><br><span class="line">console.log(“data2”)</span><br><span class="line">console.groupEnd()</span><br></pre></td></tr></table></figure><h3 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h3><p>让输出信息更加显眼聚合，易于查看</p><h2 id="table"><a href="#table" class="headerlink" title="table"></a>table</h2><h3 id="使用-1"><a href="#使用-1" class="headerlink" title="使用"></a>使用</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">console.table(rows,[key1,key2]</span><br></pre></td></tr></table></figure><h3 id="作用-1"><a href="#作用-1" class="headerlink" title="作用"></a>作用</h3><p>以表格打印对象内容，一次性显示更多信息</p><h2 id="time"><a href="#time" class="headerlink" title="time"></a>time</h2><h3 id="使用-2"><a href="#使用-2" class="headerlink" title="使用"></a>使用</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">console.time(args)</span><br><span class="line">console.timeEnd(args)</span><br></pre></td></tr></table></figure><h3 id="作用-2"><a href="#作用-2" class="headerlink" title="作用"></a>作用</h3><p>测量时间</p><h2 id="trace"><a href="#trace" class="headerlink" title="trace"></a>trace</h2><h3 id="使用-3"><a href="#使用-3" class="headerlink" title="使用"></a>使用</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">console.trace()</span><br></pre></td></tr></table></figure><h3 id="作用-3"><a href="#作用-3" class="headerlink" title="作用"></a>作用</h3><p>打印当前的call stack</p><h2 id="monitor"><a href="#monitor" class="headerlink" title="monitor"></a>monitor</h2><h3 id="使用-4"><a href="#使用-4" class="headerlink" title="使用"></a>使用</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">function fn(…args)&#123;</span><br><span class="line">….</span><br><span class="line">&#125;</span><br><span class="line">monitor(fn)</span><br><span class="line">fn(“data”, “data2”)</span><br></pre></td></tr></table></figure><h2 id="作用-4"><a href="#作用-4" class="headerlink" title="作用"></a>作用</h2><p>执行该函数时，输出参数。但是无法执打印箭头函数的参数</p><h2 id="monitorEvents"><a href="#monitorEvents" class="headerlink" title="monitorEvents"></a>monitorEvents</h2><h3 id="使用-5"><a href="#使用-5" class="headerlink" title="使用"></a>使用</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">monitorEvents(window, “click”)</span><br></pre></td></tr></table></figure><h3 id="作用-5"><a href="#作用-5" class="headerlink" title="作用"></a>作用</h3><p>监听并打印元素触发的事件</p><h2 id="getEventListeners"><a href="#getEventListeners" class="headerlink" title="getEventListeners"></a>getEventListeners</h2><h3 id="使用-6"><a href="#使用-6" class="headerlink" title="使用"></a>使用</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">getEventListeners(el)</span><br></pre></td></tr></table></figure><h3 id="作用-6"><a href="#作用-6" class="headerlink" title="作用"></a>作用</h3><p>打印所有注册在元素上的事件监听器</p><h2 id="queryObjects"><a href="#queryObjects" class="headerlink" title="queryObjects"></a>queryObjects</h2><h3 id="使用-7"><a href="#使用-7" class="headerlink" title="使用"></a>使用</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">queryObjects(obj)</span><br></pre></td></tr></table></figure><h3 id="作用-7"><a href="#作用-7" class="headerlink" title="作用"></a>作用</h3><p>打印所有原型链中包含该原型的对象</p>]]></content>
      
      
      <categories>
          
          <category> js </category>
          
      </categories>
      
      
        <tags>
            
            <tag> console </tag>
            
            <tag> chrome </tag>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>docker</title>
      <link href="/2024/02/06/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/docker/"/>
      <url>/2024/02/06/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/docker/</url>
      
        <content type="html"><![CDATA[<h2 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h2><p>一种虚拟化的技术。</p><blockquote><p>解决因为依赖而导致各种各样的问题</p></blockquote><blockquote><p>虚拟机可以对运行环境进行封装和隔离，但虚拟机消耗空闲的磁盘，内存等硬件资源，且不利于快速部署和扩展</p></blockquote><blockquote><p>docker具有与虚拟机同样的优点(容器内部与外部的环境是隔离的，每个容器内部配置的资源不会影响到其他容器，跨平台)，还可以节省资源，生成镜像快速部署和启停，具有强大的编排工具可以批量跨机器操作容器等。</p></blockquote><h2 id="存储"><a href="#存储" class="headerlink" title="存储"></a>存储</h2><p>直接存在容器中缺点：</p><blockquote><p>数据无法持久化。当容器无法再启动时，那么里面的数据就无法再进行读取。</p></blockquote><blockquote><p>数据隔离，容器的数据无法与其他容器或者主机进行共享</p></blockquote><blockquote><p>写入速度慢，容器写入的数据会被转化为联合文件系统格式，不如直接写入主机的速度快</p></blockquote><p>docker提供了三种挂载数据的方式：存储卷，绑定挂载，tmpfs挂载</p><h3 id="绑定挂载"><a href="#绑定挂载" class="headerlink" title="绑定挂载"></a>绑定挂载</h3><p>直接让容器和主机共享目录和文件，可能在主机任何位置被进行存储，或者被任意进程进行修改。</p><blockquote><p>使用场景</p></blockquote><ul><li><p>配置文件</p></li><li><p>开发环境中的源代码或者编译后的代码</p></li><li><p>其他一些特殊的文件或者目录结构</p></li></ul><h3 id="tmpfs挂载"><a href="#tmpfs挂载" class="headerlink" title="tmpfs挂载"></a>tmpfs挂载</h3><p>只存储于主机的内容，不存储于主机的文件系统中</p><blockquote><p>使用场景</p></blockquote><ul><li><p>安全原因：不想数据持久化也不想存储于容器中，需要适应后立即删除</p></li><li><p>性能原因：大数据快速读写</p></li></ul><h3 id="存储卷-推荐"><a href="#存储卷-推荐" class="headerlink" title="存储卷(推荐"></a>存储卷(推荐</h3><p>通过docker创建一个卷，并以文件的形式存储于主机磁盘中，非docker进程无法修改这个文件</p><p>好处：</p><ul><li><p>相比绑定挂载，数据更加容易迁移和备份</p></li><li><p>可以通过docker命令或者docker api进行管理</p></li><li><p>在Linux和window主机都可以使用</p></li><li><p>跨容器共享数据更加安全</p></li><li><p>允许存储到远程主机或者云设备，允许对数据进行加密或执行其他高级功能</p></li><li><p>新的卷能被容器内的文件预填充</p></li></ul><blockquote><p>使用场景</p></blockquote><ul><li><p>多容器共享数据。当容器需要的卷不存在时，会创建一个新的卷。卷不会随着容器的消失而消失，需要手动删除，还可以设置其只读&#x2F;只读写属性</p></li><li><p>主机无法提供给定的目录或者文件结构时，卷能解耦主机和容器的运行环境</p></li><li><p>数据需要被存储于云设备或者远程主机而不仅仅是本地时</p></li><li><p>数据需要从一台主机上的容器备份&#x2F;恢复&#x2F;迁移到另一台主机上的容器时。</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> 额外内容 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2024/02/06/hello-world/"/>
      <url>/2024/02/06/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>【css】属性值定义语法</title>
      <link href="/2023/10/14/%E3%80%90css%E3%80%91%E5%B1%9E%E6%80%A7%E5%80%BC%E5%AE%9A%E4%B9%89%E8%AF%AD%E6%B3%95/"/>
      <url>/2023/10/14/%E3%80%90css%E3%80%91%E5%B1%9E%E6%80%A7%E5%80%BC%E5%AE%9A%E4%B9%89%E8%AF%AD%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<h1 id="【css】属性值定义语法"><a href="#【css】属性值定义语法" class="headerlink" title="【css】属性值定义语法"></a>【css】属性值定义语法</h1><p>css属性定义语法是专门用于限定css属性合法取值的语法，其包含3种基本组成元素：</p><ul><li><p>关键字</p></li><li><p>数据类型</p></li><li><p>符号</p></li></ul><h2 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h2><h3 id="关键字"><a href="#关键字" class="headerlink" title="关键字"></a>关键字</h3><p>其分为通用关键字和全局关键字</p><ul><li><p>通用关键字：</p><p><code>auto</code>, <code>none</code>, <code>ease</code>等是通用关键字，或者称为普通关键字，这些只能被一部分的css属性支持</p></li><li><p>全局关键字</p><p><code>inherit</code>, <code>initial</code>, <code>unset</code>和<code>revert</code>是全局关键字，被所有css属性支持的特殊关键字</p></li></ul><h3 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h3><p>css的数据类型有很多，至少有50个，例如number、percent、rgb等，这些都是。以及还有<code>shape-box</code>，<code>basic-shape</code>，<code>image</code>也属于数据类型</p><ul><li><p>shape-box</p><p>box、margin-box、content-box、padding-box、border-box都是属于其支持的属性值</p></li><li><p>basic-shape</p><p>inset()、circle()、ellipse()、polygon()、path()、clip-path和offset-path都属于</p></li><li><p>image</p><p><url>，<gradient>，element()，image()，image-set()，cross-fade()，paint()</p></li></ul><h3 id="符号"><a href="#符号" class="headerlink" title="符号"></a>符号</h3><p>css的符号分为字面符号、组合符号以及数量符号</p><h4 id="字面符号"><a href="#字面符号" class="headerlink" title="字面符号"></a>字面符号</h4><p>指css属性种原本就支持的合法符号，这些符号会在css语法中按照其原本的字面意思呈现</p><table><thead><tr><th>符号</th><th>名称</th><th>描述</th></tr></thead><tbody><tr><td>,</td><td>并列分隔符</td><td>用于分隔数个并列值，或者分隔函数的参数值</td></tr><tr><td>&#x2F;</td><td>缩写分隔符</td><td>用于分隔一个值的多个部分，在css缩写中用于分离类型相同但属于不同css属性的值，以及用在部分css函数中</td></tr></tbody></table><h4 id="组合符号"><a href="#组合符号" class="headerlink" title="组合符号"></a>组合符号</h4><p>用于表示数个基本元素之间的组合关系</p><table><thead><tr><th>符号</th><th>名称</th><th>描述</th></tr></thead><tbody><tr><td></td><td>并列</td><td>符号为空格字符，表示各部分必须出现，同时需要按照顺序出现</td></tr><tr><td>&amp;&amp;</td><td>与</td><td>各部分必须出现，但可以不按顺序出现</td></tr><tr><td>||</td><td>或</td><td>各部分至少出现一个，可以不按顺序出现</td></tr><tr><td>|</td><td>互斥</td><td>各部分恰好出现其中一个</td></tr><tr><td>[]</td><td>方括号</td><td>将各部分进行分组以绕过上面几个符号的优先规则，其优先级最高</td></tr></tbody></table><h4 id="数量符号"><a href="#数量符号" class="headerlink" title="数量符号"></a>数量符号</h4><p>用于描述一个元素可以出现次数，数量符号不能叠加，且优先级高于组合符号</p><table><thead><tr><th>符号</th><th>名称</th><th>描述</th></tr></thead><tbody><tr><td></td><td>无数量符号</td><td>恰好出现一次</td></tr><tr><td>*</td><td>星号</td><td>可以出现任意次数</td></tr><tr><td>+</td><td>加号</td><td>可以出现一次或者多次</td></tr><tr><td>？</td><td>问号</td><td>可以出现零次或者一次</td></tr><tr><td>{A, B}</td><td>花括号</td><td>出现最少A次，最多B次</td></tr><tr><td>#</td><td>井号</td><td>可以出现一次或者多次，但多次出现时必须以逗号分隔</td></tr><tr><td>！</td><td>叹号</td><td>表示当前分组必须产生一个值，该符号多出现在组合符号方括号的后面</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> css </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【css】不常用属性总结</title>
      <link href="/2023/07/28/%E3%80%90css%E3%80%91%E4%B8%8D%E5%B8%B8%E7%94%A8%E5%B1%9E%E6%80%A7%E6%80%BB%E7%BB%93/"/>
      <url>/2023/07/28/%E3%80%90css%E3%80%91%E4%B8%8D%E5%B8%B8%E7%94%A8%E5%B1%9E%E6%80%A7%E6%80%BB%E7%BB%93/</url>
      
        <content type="html"><![CDATA[<h1 id="【css】、不常用样式总结"><a href="#【css】、不常用样式总结" class="headerlink" title="【css】、不常用样式总结"></a>【css】、不常用样式总结</h1><h2 id="关于文字换行"><a href="#关于文字换行" class="headerlink" title="关于文字换行"></a>关于文字换行</h2><ul><li><p><code>word-break</code></p><p>换行规则</p></li><li><p><code>white-space</code></p><p>保留换行和空格</p></li><li><p><code>word-wrap</code>(老) &#x2F; <code>overflow-wrap</code>(新) </p></li><li><p><code>line-break</code></p></li><li><p><code>hyphens</code></p><p>用于英文字符</p></li><li><wbr /><p>有机会就断开换行</p></li><li><br /><p>直接换行</p></li></ul><h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><ul><li><p><code>background-size</code></p></li><li><p><code>background-image</code></p><p>可以设置多背景</p></li><li><p><code>background-clip</code></p><p>控制背景显示区域，还可以设置文字的渐变色</p></li><li><p><code>background-origin</code></p><p>背景定位原点</p></li><li><p><code>background-repeat</code></p><p>背景图片重复设置</p></li><li><p><code>background-position</code></p></li></ul><h2 id="叠加属性"><a href="#叠加属性" class="headerlink" title="叠加属性"></a>叠加属性</h2><p>即父组件和子组件 同时设置一个属性，其表现并非是子组件覆盖父组件或者父组件覆盖子组件，而是将其两个属性值进行叠加计算</p><ul><li><p><code>opacity</code></p><p>用乘法计算出的结果</p></li><li><p><code>text-decoration</code></p><p>会两个都进行显示</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> css </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>DRIs</title>
      <link href="/2019/03/18/%E8%90%A5%E5%85%BB%E5%AD%A6/DRIs/"/>
      <url>/2019/03/18/%E8%90%A5%E5%85%BB%E5%AD%A6/DRIs/</url>
      
        <content type="html"><![CDATA[<h2 id="DRIs"><a href="#DRIs" class="headerlink" title="DRIs"></a>DRIs</h2><h3 id="EAR-平均需要量"><a href="#EAR-平均需要量" class="headerlink" title="EAR 平均需要量"></a>EAR 平均需要量</h3><p>满足群体50%的摄入量</p><h3 id="RNI-推荐摄入量"><a href="#RNI-推荐摄入量" class="headerlink" title="RNI 推荐摄入量"></a>RNI 推荐摄入量</h3><p>满足某一特定性别、年龄及生理状况群体绝大多数（97%~98%）个体需要的水平</p><p>安全摄入量，以EAR为基础</p><h3 id="AI-适宜摄入量"><a href="#AI-适宜摄入量" class="headerlink" title="AI 适宜摄入量"></a>AI 适宜摄入量</h3><p>AI和RNI都可以作为个体摄入量的参考，能够满足目标人群几乎所有个体的需要</p><p>某种营养素的个体需要量研究资料不足，无法计算EAR，不能求得RAI，可以用AI假设替代RNI</p><h3 id="UL-可耐受最高摄入量"><a href="#UL-可耐受最高摄入量" class="headerlink" title="UL 可耐受最高摄入量"></a>UL 可耐受最高摄入量</h3><p>平均每天摄入的最高含量</p><p>安全摄入范围：RNI~UL</p><h3 id="AMRD-宏量营养素可接受范围"><a href="#AMRD-宏量营养素可接受范围" class="headerlink" title="AMRD 宏量营养素可接受范围"></a>AMRD 宏量营养素可接受范围</h3><p>三大营养素理想的摄入范围（提供必须营养素的需要），有利于降低慢性病的风险</p><h3 id="PI-NCD-降低膳食非传染疾病风险的建议摄入量"><a href="#PI-NCD-降低膳食非传染疾病风险的建议摄入量" class="headerlink" title="PI-NCD 降低膳食非传染疾病风险的建议摄入量"></a>PI-NCD 降低膳食非传染疾病风险的建议摄入量</h3><p>以膳食相关非传染性疾病一级预防为目标，提出的必须营养素每日摄入量（水平</p><h3 id="SPL-特定建议值"><a href="#SPL-特定建议值" class="headerlink" title="SPL 特定建议值"></a>SPL 特定建议值</h3><p>专用于营养素之外的其他食物成分</p><p>降低成年人膳食相关非传染性疾病风险为目标，提出的其他膳食成分的每日摄入量（水平</p><h2 id="评价个体摄入量"><a href="#评价个体摄入量" class="headerlink" title="评价个体摄入量"></a>评价个体摄入量</h2><ul><li><p>EAR</p><p>  摄入量：</p><p>  必须提高 ≤ EAR ≤ 充足</p><p>  EAR~RNI：很难确定是否适宜</p></li><li><p>UL</p><p>  摄入量 &gt; UL：可能造成危害</p></li></ul><h3 id="为个体计划膳食"><a href="#为个体计划膳食" class="headerlink" title="为个体计划膳食"></a>为个体计划膳食</h3><p>营养素摄入目标：达到RAI&#x2F;AI，＜UL</p><p>能量的RNI&#x3D;EAR，EAR可作为参考值</p><p>以膳食指南作为制定膳食计划的依据</p><h2 id="评价群体摄入量"><a href="#评价群体摄入量" class="headerlink" title="评价群体摄入量"></a>评价群体摄入量</h2><ul><li><p>AI</p><p>平均摄入量：</p><p>摄入不足概率低 ≤ AI &lt; 不能判断群体摄入不足的程度</p></li><li><p>UL</p><p>安全摄入量的切点</p></li><li><p>EAR：</p><p>  不适宜用于评估群体摄入水平</p><p>  EAR切点法是简单而实用的方法</p></li><li><p>RNI：</p><p>不宜用于评估人群摄入不足比例</p></li><li><p>不宜用食物频数文件资料评价人群摄入量</p></li><li><p>切点法和概率法不适合用于评价能量不足的概率</p></li></ul><h3 id="为群体计划膳食"><a href="#为群体计划膳食" class="headerlink" title="为群体计划膳食"></a>为群体计划膳食</h3><p>为均匀性群体计划膳食</p><p>为不均匀群体计划膳食：营养素密度法</p>]]></content>
      
      
      <categories>
          
          <category> 营养学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 营养学 </tag>
            
            <tag> DRIs </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>人体结构</title>
      <link href="/2019/03/18/%E8%90%A5%E5%85%BB%E5%AD%A6/%E3%80%90%E5%8C%BB%E5%AD%A6%E5%9F%BA%E7%A1%80%E3%80%91%E4%BA%BA%E4%BD%93%E7%BB%93%E6%9E%84/"/>
      <url>/2019/03/18/%E8%90%A5%E5%85%BB%E5%AD%A6/%E3%80%90%E5%8C%BB%E5%AD%A6%E5%9F%BA%E7%A1%80%E3%80%91%E4%BA%BA%E4%BD%93%E7%BB%93%E6%9E%84/</url>
      
        <content type="html"><![CDATA[<h2 id="细胞组成"><a href="#细胞组成" class="headerlink" title="细胞组成"></a>细胞组成</h2><h3 id="细胞膜"><a href="#细胞膜" class="headerlink" title="细胞膜"></a>细胞膜</h3><ul><li>组成<ul><li>液态脂质双分子层，蛋白质</li></ul></li><li>作用<ul><li>维持细胞形态</li><li>细胞内外物质和信息交换</li></ul></li></ul><h3 id="细胞质"><a href="#细胞质" class="headerlink" title="细胞质"></a>细胞质</h3><ul><li>分类<ul><li>细胞基质</li><li>细胞器<blockquote><p>内质网<br>核糖体<br>高尔基复合体<br>线粒体<br>溶酶体</p></blockquote></li></ul></li></ul><h3 id="细胞核"><a href="#细胞核" class="headerlink" title="细胞核"></a>细胞核</h3><p>  携带遗传物质</p><h2 id="组织"><a href="#组织" class="headerlink" title="组织"></a>组织</h2><h3 id="上皮组织"><a href="#上皮组织" class="headerlink" title="上皮组织"></a>上皮组织</h3><p>维生素A</p><ul><li><p>构成</p><p>上皮细胞，细胞间质</p></li><li><p>功能</p><p>保护、分泌、吸收和排泄等功能</p></li></ul><h3 id="结缔组织"><a href="#结缔组织" class="headerlink" title="结缔组织"></a>结缔组织</h3><ul><li><p>构成</p><p>疏松结缔组织，致密结缔组织，脂肪组织，网状结缔组织，软骨，骨骼，血液</p></li></ul><h3 id="肌组织"><a href="#肌组织" class="headerlink" title="肌组织"></a>肌组织</h3><ul><li><p>骨骼肌</p><p>横膈肌，受<strong>躯体</strong>神经支配，属于<strong>随意肌</strong></p></li><li><p>心肌</p><p>横纹肌，受<strong>植物</strong>神经支配，属与 <strong>不随意肌</strong></p></li><li><p>平滑肌</p><p>无横肌，受<strong>植物</strong>神经支配，属于 <strong>不随意肌</strong></p></li></ul><h3 id="神经组织"><a href="#神经组织" class="headerlink" title="神经组织"></a>神经组织</h3><p>神经元分类：</p><ul><li><p>传入（感觉）神经元</p></li><li><p>传出（运动）神经元</p></li><li><p>中间神经元</p></li></ul><p>神经胶质细胞作用：</p><ul><li>对神经元起支持、联系、营养、保护等作用</li></ul>]]></content>
      
      
      <categories>
          
          <category> 营养学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 营养学 </tag>
            
            <tag> 医学基础 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>器官</title>
      <link href="/2019/03/18/%E8%90%A5%E5%85%BB%E5%AD%A6/%E3%80%90%E5%8C%BB%E5%AD%A6%E5%9F%BA%E7%A1%80%E3%80%91%E5%99%A8%E5%AE%98/"/>
      <url>/2019/03/18/%E8%90%A5%E5%85%BB%E5%AD%A6/%E3%80%90%E5%8C%BB%E5%AD%A6%E5%9F%BA%E7%A1%80%E3%80%91%E5%99%A8%E5%AE%98/</url>
      
        <content type="html"><![CDATA[<h2 id="感觉器官"><a href="#感觉器官" class="headerlink" title="感觉器官"></a>感觉器官</h2><h3 id="眼"><a href="#眼" class="headerlink" title="眼"></a>眼</h3><ul><li><p>眼球</p><ul><li><p>纤维膜（外层</p></li><li><p>血管膜（中层</p></li><li><p>视网膜（内层</p><p>视锥细胞：感受强光，分辨颜色细节，位于中央</p><p>视杆细胞：感光物质，分辨形状，视紫红质（视蛋白，视黄醇-维A），位于视网膜边缘和附件</p></li></ul></li><li><p>辅助装置</p><p>  眼睑、结膜、组器、眼外肌</p></li></ul><h3 id="耳"><a href="#耳" class="headerlink" title="耳"></a>耳</h3><ul><li><p>分类</p><p>外耳、中耳、内耳</p></li><li><p>作用</p><p>听觉和位觉（平衡觉）的外周感觉器官</p></li></ul><h2 id="胃"><a href="#胃" class="headerlink" title="胃"></a>胃</h2><h3 id="理化性质"><a href="#理化性质" class="headerlink" title="理化性质"></a>理化性质</h3><p>胃酸是无色透明酸性液体，PH在0.9~1.5</p><h3 id="微细结构"><a href="#微细结构" class="headerlink" title="微细结构"></a>微细结构</h3><ul><li><p>黏膜上皮</p><p>  单层柱状上皮，能分泌粘液，保护胃黏膜</p></li><li><p>固有层</p><ul><li><p>胃底腺</p><blockquote><p>主细胞</p></blockquote><p>  分泌胃蛋白酶原，无活性，在胃酸的作用下转为有活性的胃蛋白酶</p><p>  水解蛋白质</p><blockquote><p>壁细胞</p></blockquote><p>  分泌盐酸</p><pre><code>  激活胃蛋白酶原，提供胃蛋白酶发挥作用的酸性环境  抑制和杀死外来随食物进入胃内细菌  盐酸进入小肠后能促进胰液、胆汁、小肠液的分泌  有助于小肠对Fe和Ca的吸收</code></pre><p>  分泌内因子</p><pre><code> 保护维生素B12不受小肠内水解酶的破坏</code></pre><blockquote><p>颈黏液细胞</p></blockquote><p>  分泌黏液</p></li><li><p>贲门腺（进口</p></li><li><p>幽门腺（出口</p></li></ul></li></ul><h3 id="吸收功能"><a href="#吸收功能" class="headerlink" title="吸收功能"></a>吸收功能</h3><p>很弱，仅吸收少量水分和酒精</p><h2 id="小肠"><a href="#小肠" class="headerlink" title="小肠"></a>小肠</h2><h3 id="微细结构-1"><a href="#微细结构-1" class="headerlink" title="微细结构"></a>微细结构</h3><p>褶皱和绒毛：增加吸收和消化面积</p><h3 id="胰液分泌"><a href="#胰液分泌" class="headerlink" title="胰液分泌"></a>胰液分泌</h3><ul><li><p>有机物</p><ul><li><p>胰蛋白酶</p><p>  将淀粉水解为麦芽糖和葡萄糖</p></li><li><p>胰脂肪酶</p><p>  将脂肪分解为甘油三酯和脂肪酸，甘油和甘油一酯</p></li><li><p>胰蛋白酶原和糜蛋白酶原</p><p>  无活性，进入十二指肠后被激活，分解蛋白质</p></li></ul></li><li><p>无机物</p><p>  碳酸氢盐：中和胃酸，提供适宜的ph环境</p></li></ul><h3 id="胆汁分泌"><a href="#胆汁分泌" class="headerlink" title="胆汁分泌"></a>胆汁分泌</h3><ul><li><p>组成</p><p>水分、胆色素、胆固醇、卵磷脂、无机盐，脂肪酸等</p><p>无消化酶</p></li><li><p>功能</p><ul><li><p>胆盐和脂肪酸、甘油一酯等结合，形成水溶性复合物，促进脂肪消化产物的吸收</p></li><li><p>乳化脂肪：增加胰脂肪酶的作用面积，有利于脂肪消化</p></li><li><p>促进吸收脂溶性维生素</p></li></ul></li></ul><h3 id="小肠液分泌"><a href="#小肠液分泌" class="headerlink" title="小肠液分泌"></a>小肠液分泌</h3><ul><li><p>组成</p><p>水、电解质、黏液、免疫球蛋白、小肠淀粉酶、肠激酶</p></li><li><p>作用</p><p>  消化食物</p><p>  保护胃黏膜不受机械性损伤或胃酸侵蚀</p></li></ul><h3 id="吸收功能-1"><a href="#吸收功能-1" class="headerlink" title="吸收功能"></a>吸收功能</h3><ul><li><p>被动转运</p><p>  被动扩散、易扩散化，过滤作用，渗透等</p></li><li><p>主动转动</p></li></ul><h2 id="大肠"><a href="#大肠" class="headerlink" title="大肠"></a>大肠</h2><p>主动吸收水、盐</p><ul><li><p>大肠液</p><p>  富含黏液</p><p>  保护肠粘膜和润滑粪便</p></li><li><p>大肠细菌</p><ul><li><p>分解产物：</p><p>  单糖、乳糖、二氧化碳、沼气、氢气</p><p>  蛋白质：肽、氨基酸、N、吲哚、酚</p></li><li><p>维生素</p><p>  硫胺素，维生素K，也算，核黄素</p></li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> 营养学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 营养学 </tag>
            
            <tag> 医学基础 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>人体结构</title>
      <link href="/2019/03/18/%E8%90%A5%E5%85%BB%E5%AD%A6/%E3%80%90%E5%8C%BB%E5%AD%A6%E5%9F%BA%E7%A1%80%E3%80%91%E7%B3%BB%E7%BB%9F/"/>
      <url>/2019/03/18/%E8%90%A5%E5%85%BB%E5%AD%A6/%E3%80%90%E5%8C%BB%E5%AD%A6%E5%9F%BA%E7%A1%80%E3%80%91%E7%B3%BB%E7%BB%9F/</url>
      
        <content type="html"><![CDATA[<h2 id="运动系统"><a href="#运动系统" class="headerlink" title="运动系统"></a>运动系统</h2><h3 id="骨"><a href="#骨" class="headerlink" title="骨"></a>骨</h3><h4 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h4><ul><li><p>部位</p><p>颅骨、躯干骨、四肢骨等</p></li><li><p>形状</p><p>扁骨、长骨（骺软骨，骺线）、短骨、不规则骨等</p></li></ul><h4 id="构成"><a href="#构成" class="headerlink" title="构成"></a>构成</h4><ul><li><p>骨质</p><ul><li><p>有机质  </p><p>有弹性</p><p>骨胶原纤维、黏多糖，占1&#x2F;3</p></li><li><p>无机质</p><p>弹性小，脆，干</p><p>包括钙盐、成人2&#x2F;3</p></li></ul></li><li><p>骨膜、骨髓、神经和血管</p></li></ul><h3 id="骨连接"><a href="#骨连接" class="headerlink" title="骨连接"></a>骨连接</h3><p>骨与骨之间借纤维结缔组织，软骨或骨组织相连</p><p>直接连接、间接（关节）连接</p><h3 id="肌肉"><a href="#肌肉" class="headerlink" title="肌肉"></a>肌肉</h3><p>肌红蛋白：Fe组成</p><h4 id="形态分类"><a href="#形态分类" class="headerlink" title="形态分类"></a>形态分类</h4><ul><li><p>长肌</p><p>四肢多为长肌，收缩时引起的活动幅度大</p></li><li><p>短肌</p><p>分布在躯干深处，收缩时引起的活动幅度较小</p></li><li><p>阔肌</p><p>扁而薄，多分布与胸壁、腹壁</p></li><li><p>轮匝肌</p><p>多分布于眼裂、口裂周围，收缩时可关闭孔裂</p></li></ul><h4 id="部位分类"><a href="#部位分类" class="headerlink" title="部位分类"></a>部位分类</h4><p>头、颈、躯干、四肢</p><h2 id="呼吸系统"><a href="#呼吸系统" class="headerlink" title="呼吸系统"></a>呼吸系统</h2><h3 id="功能"><a href="#功能" class="headerlink" title="功能"></a>功能</h3><p>完成气体交换。吸入氧气，呼出二氧化碳</p><h3 id="部位"><a href="#部位" class="headerlink" title="部位"></a>部位</h3><ul><li><p>呼吸道</p><p>  作用：气体进出肺的通道</p><ul><li>包括</li></ul><p>  上呼吸道：鼻咽喉</p><p>  下呼吸道：气管、支气管及其在肺中的分支</p></li><li><p>肺</p><p>气体交换的场所</p><p>胸腔处，左右各一</p></li></ul><h2 id="循环系统"><a href="#循环系统" class="headerlink" title="循环系统"></a>循环系统</h2><h3 id="心血管系统"><a href="#心血管系统" class="headerlink" title="心血管系统"></a>心血管系统</h3><h4 id="心脏"><a href="#心脏" class="headerlink" title="心脏"></a>心脏</h4><p>泵血</p><p>位于胸腔内，膈肌上方，两肺之间，2&#x2F;3位于前正中线之间，1&#x2F;3位于右侧</p><h4 id="血管"><a href="#血管" class="headerlink" title="血管"></a>血管</h4><p>蛋白质，维生素C（缺乏会导致血管壁薄</p><p>分类</p><ul><li><p>静脉</p></li><li><p>动脉</p><p>把血液从心脏运输到毛细血管的通道</p></li><li><p>毛细血管</p><p>最多，分布最广，直径小</p><p>较高通透性，可完成血液与组织间的气体和物质交换</p></li></ul><h4 id="血液"><a href="#血液" class="headerlink" title="血液"></a>血液</h4><ul><li><p>血细胞（45%）</p><ul><li><p>红细胞：血红蛋白（Fe）运输氧和二氧化碳</p></li><li><p>白细胞</p></li><li><p>血小板</p><p>参与凝血功能</p></li></ul></li><li><p>血浆（55%）</p><ul><li><p>水</p></li><li><p>无机盐</p><p>阳离子：Na^+，K，Ca^2+，Mg^2+</p><p>阴离子：cl^-，HPO4^2-，SO4^2-</p><p>Nacl: 维持晶体渗透压和血容量</p></li><li><p>有机成分</p><p> 糖：葡萄糖。。。</p><p> 脂类：血脂。。。</p><p> 蛋白质：</p><pre><code> 血浆蛋白形成胶体渗透压， 球蛋白合成多种抗体，与抗原结合，从而杀灭微生物 纤维蛋白和凝血酶是促进血液凝固的成分</code></pre></li></ul></li></ul><h3 id="淋巴系统"><a href="#淋巴系统" class="headerlink" title="淋巴系统"></a>淋巴系统</h3><ul><li><p>组成</p><p>淋巴管、毛细血管和淋巴器官组成</p></li><li><p>功能</p><p>产生淋巴细胞，过滤淋巴结，产生抗体</p></li></ul><h2 id="免疫系统"><a href="#免疫系统" class="headerlink" title="免疫系统"></a>免疫系统</h2><h3 id="免疫器官"><a href="#免疫器官" class="headerlink" title="免疫器官"></a>免疫器官</h3><h4 id="中枢免疫器官"><a href="#中枢免疫器官" class="headerlink" title="中枢免疫器官"></a>中枢免疫器官</h4><ul><li><p>胸腺</p><p>T细胞分化成熟的场所，分泌多种胸腺细胞</p></li><li><p>骨髓</p><p>体内造血器官，B淋巴细胞成熟的场所，各种免疫细胞的发源地</p></li></ul><h4 id="周围（外围）免疫器官"><a href="#周围（外围）免疫器官" class="headerlink" title="周围（外围）免疫器官"></a>周围（外围）免疫器官</h4><ul><li><p>组成</p><p>脾脏、增强吞噬细胞的功能</p><p>分布全身脏器，皮肤，粘膜的淋巴结和弥散性淋巴细胞</p></li><li><p>功能</p><p>T、B细胞定居场所</p><p>免疫过滤作用</p></li></ul><h3 id="免疫细胞"><a href="#免疫细胞" class="headerlink" title="免疫细胞"></a>免疫细胞</h3><p>参与免疫的细胞</p><ul><li><p>组成</p><p>造血干细胞、淋巴细胞、单核吞噬细胞</p><p>抗原提呈细胞，中性粒细胞，肥大细胞等</p></li><li><p>淋巴细胞起作用</p><ul><li><p>T细胞</p><p>细胞免疫和免疫调节</p></li><li><p>B细胞</p><p>体液免疫条件</p></li><li><p>浆细胞</p><p>分泌5类免疫球蛋白</p></li><li><p>Nk细胞，k细胞</p></li></ul></li></ul><h3 id="免疫分子"><a href="#免疫分子" class="headerlink" title="免疫分子"></a>免疫分子</h3><ul><li><p>组成</p><p>免疫球蛋白，补体，细胞因子等</p></li><li><p>功能</p><p>抗感染，炎症反应，调节各种免疫细胞的功能，消除外源性病原体等</p></li></ul><h3 id="免疫应答反应"><a href="#免疫应答反应" class="headerlink" title="免疫应答反应"></a>免疫应答反应</h3><ul><li><p>非特异性免疫</p></li><li><p>特异性免疫</p><p>T淋巴细胞和B淋巴细胞介导的体液免疫应答反应</p></li></ul><p>两者共同参与免疫应答</p><h2 id="泌尿系统"><a href="#泌尿系统" class="headerlink" title="泌尿系统"></a>泌尿系统</h2><ul><li><p>肾</p><p>形似蚕豆，红褐色，腹后壁，脊柱两旁，左右各一</p></li><li><p>输尿管</p><p>细长肌性管道，上端与肾盂连接，开口于膀胱</p></li><li><p>膀胱</p><p>储存尿液，膀胱三角为肿瘤和结核的好发部位</p></li><li><p>尿道</p><p>男性细长，全长有三处狭窄和两处弯曲</p><p>女性短粗</p></li></ul><h2 id="生殖系统"><a href="#生殖系统" class="headerlink" title="生殖系统"></a>生殖系统</h2><ul><li><p>男</p><ul><li><p>内生殖器：睾丸、附睾、输精管、射精管、尿道和三队附属腺</p></li><li><p>外生殖器：阴茎和阴囊</p></li></ul></li><li><p>女</p><ul><li><p>内生殖器：</p><p>卵巢（产生卵子，分泌雌激素</p><p>输卵管（输送卵子进入子宫的弯曲管道</p><p>子宫（孕育胎儿和产生月经</p><p>阴道</p></li><li><p>外生殖器：</p><p>阴户、大小阴唇、阴蒂、阴道前庭</p></li></ul></li></ul><h2 id="神经系统"><a href="#神经系统" class="headerlink" title="神经系统"></a>神经系统</h2><h3 id="中枢神经系统"><a href="#中枢神经系统" class="headerlink" title="中枢神经系统"></a>中枢神经系统</h3><ul><li><p>脑</p><ul><li><p>脑干，延髓，脑桥，中脑</p></li><li><p>间脑：</p><p> 丘脑</p><p> 下丘脑：与垂体相连，与内脏活动，内分泌功能相关</p></li><li><p>小脑：</p><p> 调节躯干平衡，调节肌张力和协调随意运动功能</p></li><li><p>端脑</p><p>大脑具有思维、思考、学习能力</p><p>DHA，EPA</p></li></ul></li><li><p>脊髓</p><p>具有反射和传导功能</p></li></ul><h3 id="周围神经系统"><a href="#周围神经系统" class="headerlink" title="周围神经系统"></a>周围神经系统</h3><ul><li><p>躯体神经</p><p>支配体表结构，骨，关节和骨骼肌</p></li><li><p>内脏神经</p><p>支配内脏，心肌，平滑肌和腺体</p></li></ul><h2 id="内分泌系统"><a href="#内分泌系统" class="headerlink" title="内分泌系统"></a>内分泌系统</h2><ul><li><p>激素</p><p>原料主要为蛋白质</p></li><li><p>垂体</p><p>生长激素，催乳素，褪黑素，促甲状腺激素，促肾上腺激素，促性腺激素</p></li><li><p>胰岛</p><ul><li><p>胰岛素</p><p>唯一降血糖的，β细胞</p></li><li><p>胰高血糖素</p><p>α细胞</p></li></ul></li><li><p>甲状腺</p><p>以I和酪氨酸为原料合成甲状腺素，促进生长发育，促进糖脂代谢</p></li><li><p>肾上腺</p><p>盐皮质激素（调节K代谢），糖皮质激素（调节宏量营养素代谢），少量性激素（合成胆固醇），嗜铬细胞（分泌肾上腺激素和去甲肾上腺素）</p></li><li><p>甲状旁腺</p><p>甲状旁腺素（钙磷代谢），降钙素（破骨细胞，降血钙）</p></li><li><p>性腺、胸腺、松果体</p></li></ul><h2 id="消化系统"><a href="#消化系统" class="headerlink" title="消化系统"></a>消化系统</h2><h3 id="消化管"><a href="#消化管" class="headerlink" title="消化管"></a>消化管</h3><ul><li><p>组成</p><ul><li><p>上消化道：</p><p>口腔、咽、食管、胃、小肠的十二指肠</p></li><li><p>下消化道</p><p>小肠的空肠、回肠，大肠（盲肠、结肠、直肠</p></li></ul></li><li><p>微细结构</p><ul><li><p>消化道一般构造</p><p>黏膜（上皮，固有层，黏膜肌层）</p><p>黏膜下层</p><p>肌层</p><p>外膜</p></li><li><p>胃壁的微细结构特点</p></li><li><p>小肠壁的微细结构特点</p></li></ul></li></ul><h3 id="消化腺"><a href="#消化腺" class="headerlink" title="消化腺"></a>消化腺</h3><ul><li><p>组成</p><p>唾液腺、胃腺、胰、肝（最大腺体，分泌胆汁）和肠腺</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> 营养学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 营养学 </tag>
            
            <tag> 医学基础 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据</title>
      <link href="/2019/03/18/%E8%90%A5%E5%85%BB%E5%AD%A6/%E6%95%B0%E6%8D%AE/"/>
      <url>/2019/03/18/%E8%90%A5%E5%85%BB%E5%AD%A6/%E6%95%B0%E6%8D%AE/</url>
      
        <content type="html"><![CDATA[<h2 id="能量"><a href="#能量" class="headerlink" title="能量"></a>能量</h2><h3 id="来源"><a href="#来源" class="headerlink" title="来源"></a>来源</h3><p>蛋白质、碳水4kcal(16.8KJ)，脂肪9kcal(37.56KJ)</p><p>碳水：50%~65%E</p><p>脂肪：20%<del>30%E（0</del>4岁脂肪摄入随年龄增加而增加</p><p>蛋白质：<br>    4-5岁：8%~20%</p><pre><code>6-64：10%-20%65+：15%~20%</code></pre><h3 id="热量"><a href="#热量" class="headerlink" title="热量"></a>热量</h3><p>基础代谢：60%&#x2F;45%-70%</p><p>18~30岁，轻体力，2150（男），1700（女）</p><p>30~40，轻体力，2050（男），1700（女</p><p>孕早+250，孕晚+400</p><h2 id="蛋白质"><a href="#蛋白质" class="headerlink" title="蛋白质"></a>蛋白质</h2><p>稳定性同位素示踪技术</p><ul><li><p>18-64岁</p><p>  RNI：0.98g&#x2F;(kg.d)</p><p>  男：65g&#x2F;d，女：55g&#x2F;d</p></li><li><p>65+</p><p>  RNI：1.17g&#x2F;(kg.d)</p><p>  男：72g&#x2F;d，女：62g&#x2F;d</p></li><li><p>孕中+15，孕晚+30，乳母+25</p></li></ul><h2 id="脂肪"><a href="#脂肪" class="headerlink" title="脂肪"></a>脂肪</h2><ul><li><p>AMDR：≥4岁，20%E-30%E</p></li><li><p>SFA（多不饱和脂肪酸）</p><p>  4-17: &lt; 8%E</p><p>  18+ &lt;10%E</p></li><li><p>PUFA（饱和脂肪酸</p><p>  n-3：2.5%E-9%E（18+</p><p>  n-6:0.5%-20%E（18+</p><p>  EPA、DHA的AI：</p><pre><code>  100mg/d ≥2岁  乳母孕妇：200mg/d</code></pre></li></ul><h2 id="碳水"><a href="#碳水" class="headerlink" title="碳水"></a>碳水</h2><h3 id="GI"><a href="#GI" class="headerlink" title="GI"></a>GI</h3><ul><li><p>测定：50g葡萄糖</p></li><li><p>范围</p><p>  低：≤55</p><p>  中：55-70</p><p>  高：≥70</p></li></ul><h3 id="参考摄入量"><a href="#参考摄入量" class="headerlink" title="参考摄入量"></a>参考摄入量</h3><ul><li><p>总碳水化合物</p><ul><li><p>AMDR：</p><p>  ＞1岁，50%-60%</p></li><li><p>EAR</p><p>  1-10岁：120g&#x2F;d</p><p>  11-17: 150g&#x2F;d</p><p>  18+: 120g&#x2F;d</p><p>  孕妇：130g&#x2F;d</p><p>  乳母：160g&#x2F;d</p></li></ul></li><li><p>添加糖</p><p>  AMDR：</p><p>  ≤10%或者≤50g</p><p>  最好：＜5%或25g</p></li></ul><h2 id="矿物质"><a href="#矿物质" class="headerlink" title="矿物质"></a>矿物质</h2><table><thead><tr><th>元素</th><th>推荐量</th><th>特殊人群</th></tr></thead><tbody><tr><td>Ca</td><td>RNI 800mg&#x2F;d</td><td>孕妇乳母：800mg&#x2F;d</td></tr><tr><td>P</td><td>RNI 720mg&#x2F;d</td><td>-</td></tr><tr><td>Mg</td><td>RNI 330mg&#x2F;d</td><td>-</td></tr><tr><td>Na</td><td>18-49AI 1500mg&#x2F;d PI-NCD &lt;2000mg&#x2F;d</td><td>-</td></tr><tr><td>K</td><td>18+AI 2000mg&#x2F;d PI-NCD 3600mg&#x2F;d</td><td>-</td></tr><tr><td>Fe</td><td>18-49RNI 12mg&#x2F;d(男)，18mg&#x2F;d(女)<br />59-64RNI 12mg&#x2F;d(男)，18mg&#x2F;d(女有月经)，10mg&#x2F;d(女无月经)<br />65+RAI 12mg&#x2F;d(男)，10mg&#x2F;d(女)</td><td>孕中期：+7mg<br />孕晚期：+11mg<br />乳母：+6mg</td></tr><tr><td>Zn</td><td>7-11RNI 7mg&#x2F;d<br />12-14RNI 8.5mg&#x2F;d(男)，7.5mg&#x2F;d(女)<br />15-17 11.5mg&#x2F;d(男) 8.5mg&#x2F;d(女) <br />18+ 12mg&#x2F;d(男) 8.5mg&#x2F;d(女)</td><td>孕妇+2mg，乳母+4.5mg</td></tr><tr><td>I</td><td>120ug&#x2F;d</td><td>孕妇：+110ug<br />乳母：+120ug</td></tr><tr><td>硒</td><td>06ug&#x2F;d</td><td>-</td></tr></tbody></table><h2 id="维生素"><a href="#维生素" class="headerlink" title="维生素"></a>维生素</h2><table><thead><tr><th>元素</th><th>推荐量</th><th>特殊人群</th></tr></thead><tbody><tr><td>维A</td><td>770ugRAE&#x2F;d（男）660ugRAE&#x2F;d（女）</td><td>孕中晚+70，乳母+600</td></tr><tr><td>维D</td><td>10ug&#x2F;d</td><td>-</td></tr><tr><td>维E</td><td>14mgα-TE&#x2F;d</td><td>-</td></tr><tr><td>维C</td><td>80ug&#x2F;d</td><td>-</td></tr><tr><td>维C</td><td>100mg&#x2F;d</td><td>-</td></tr><tr><td>维B1</td><td>男1.4mg&#x2F;d，女1.2mg&#x2F;d</td><td>-</td></tr><tr><td>维B2</td><td>男1.4mg&#x2F;d，女1.2mg&#x2F;d</td><td>-</td></tr><tr><td>维B6</td><td>1.4mg&#x2F;d</td><td>-</td></tr><tr><td>烟酸</td><td>15mgNE&#x2F;d（男），12mgmgNE&#x2F;d</td><td>-</td></tr><tr><td>叶酸</td><td>400ugEDF&#x2F;d</td><td>孕妇+200，乳母+150</td></tr><tr><td>维B12</td><td>2.4ug&#x2F;d</td><td>-</td></tr></tbody></table><h2 id="食物"><a href="#食物" class="headerlink" title="食物"></a>食物</h2><ul><li><p>优质蛋白占50%+</p></li><li><p>大豆（良好、谷类(主要)</p></li><li><p>肉：鱼蛋肉（重要），奶（婴幼儿除母乳外的最佳来源</p></li></ul><h2 id="婴儿"><a href="#婴儿" class="headerlink" title="婴儿"></a>婴儿</h2><h3 id="营养素"><a href="#营养素" class="headerlink" title="营养素"></a>营养素</h3><table><thead><tr><th>营养</th><th>0-6月数据</th><th>7-12月数据</th><th>13-24月</th></tr></thead><tbody><tr><td>能量</td><td>90kcal&#x2F;(kg.d)</td><td>75kcal&#x2F;(kg.d)</td><td>-</td></tr><tr><td>蛋白质（AI）</td><td>9g&#x2F;d</td><td>17g&#x2F;d</td><td></td></tr><tr><td>脂肪（AI）</td><td>48%E，亚油酸8%E（ARA150mg），α-亚麻酸0.9%E（DHA为100mg</td><td>40%E，亚油酸6%E，α-亚麻酸0.67%E（DHA为100mg</td><td>35%E</td></tr><tr><td>碳水（AI）</td><td>60g&#x2F;d</td><td>80g&#x2F;d</td><td></td></tr></tbody></table><ul><li><p>婴幼儿处于快速生长期，能量需要相对于成人较高，油脂摄入高</p></li><li><p>婴幼儿需要EPA、DHA，建议选择富含亚油酸，α-亚麻酸(尤其是)的油脂</p></li></ul><h3 id="辅食"><a href="#辅食" class="headerlink" title="辅食"></a>辅食</h3><table><thead><tr><th>月龄</th><th>奶量</th><th>动物性</th><th>谷物</th><th>蔬果</th><th>油</th><th>其他</th></tr></thead><tbody><tr><td>7-9月</td><td>&gt;600ml&#x2F;d</td><td>至少1个蛋黄，25g肉禽鱼</td><td>20g+</td><td>25-100g</td><td>&lt;10g，首选n3系列</td><td>患病期间暂停引入新食物，已经适应的新食物可以继续吃</td></tr><tr><td>10-12月</td><td>600ml&#x2F;d</td><td>1个鸡蛋（至少一个蛋黄），25-70g肉禽鱼</td><td>25-75g</td><td>各25-100g</td><td>&lt;10g</td><td>循序渐进，增加不同食物口味；鼓励自主进食，手抓食物</td></tr><tr><td>13-24月</td><td>500ml&#x2F;d</td><td>1个鸡蛋，50-75g肉禽鱼</td><td>50-100g</td><td>个50-100g</td><td>5-15g</td><td>-</td></tr></tbody></table><h3 id="身体活动"><a href="#身体活动" class="headerlink" title="身体活动"></a>身体活动</h3><ul><li><p>7-12月，每天俯卧位自由活动或者爬行时间不少于30min，多则更好</p></li><li><p>12-24月，每天活动不少于3h，多则更好</p></li><li><p>束缚时间、抱背的时间一次不多于1h</p></li></ul><h2 id="心率"><a href="#心率" class="headerlink" title="心率"></a>心率</h2><ul><li><p>65-79岁</p><p>  170-年龄为运动目标心率</p></li></ul><h2 id="体格"><a href="#体格" class="headerlink" title="体格"></a>体格</h2><h3 id="BMI"><a href="#BMI" class="headerlink" title="BMI"></a>BMI</h3><ul><li><p>普通人</p></li><li><p>65-79</p><p>  20-26.9</p></li></ul><h3 id="皮褶厚度"><a href="#皮褶厚度" class="headerlink" title="皮褶厚度"></a>皮褶厚度</h3><ul><li>男：瘦-10mm-中等-40mm-肥胖</li><li>女：瘦-20mm-中等-50mm-肥胖</li></ul><h2 id="老年人"><a href="#老年人" class="headerlink" title="老年人"></a>老年人</h2><h3 id="食物摄入"><a href="#食物摄入" class="headerlink" title="食物摄入"></a>食物摄入</h3><table><thead><tr><th>年龄</th><th>动物</th><th>奶类</th><th>大豆</th></tr></thead><tbody><tr><td>65-79</td><td>120-15-g&#x2F;d,鱼、畜禽肉、蛋各40-50g</td><td>300-400ml&#x2F;d</td><td>平均15g&#x2F;d大豆水平</td></tr></tbody></table><h2 id="体重"><a href="#体重" class="headerlink" title="体重"></a>体重</h2><h3 id="减重"><a href="#减重" class="headerlink" title="减重"></a>减重</h3><ul><li><p>有氧运动：60-90min&#x2F;d的中等，每周5-7d</p></li><li><p>抗阻运动：隔天进行，10-20min</p></li><li><p>减少300-500kcal&#x2F;d，不能低于1299kcal&#x2F;d</p></li></ul><h2 id="储藏"><a href="#储藏" class="headerlink" title="储藏"></a>储藏</h2><h3 id="冷藏"><a href="#冷藏" class="headerlink" title="冷藏"></a>冷藏</h3><ul><li>冷却：0-4°是食物冷藏最低温度</li><li>冷冻：0°以下，急冻缓化</li><li>冷藏 4-8°，冷冻-23~-12度</li></ul><h3 id="加热"><a href="#加热" class="headerlink" title="加热"></a>加热</h3><ul><li>＞60°为热处理，常用温度是100°</li><li>100-121°是高温杀菌</li></ul><h3 id="盐渍和干燥：食盐浓度10"><a href="#盐渍和干燥：食盐浓度10" class="headerlink" title="盐渍和干燥：食盐浓度10%+"></a>盐渍和干燥：食盐浓度10%+</h3><h3 id="酸渍和酸发酵：醋酸浓度1-7"><a href="#酸渍和酸发酵：醋酸浓度1-7" class="headerlink" title="酸渍和酸发酵：醋酸浓度1.7%+"></a>酸渍和酸发酵：醋酸浓度1.7%+</h3><h2 id="母乳喂养"><a href="#母乳喂养" class="headerlink" title="母乳喂养"></a>母乳喂养</h2><table><thead><tr><th>月龄</th><th>饮用量</th><th>次数</th></tr></thead><tbody><tr><td>7-9月</td><td>&gt;600ml&#x2F;d</td><td>&gt;4次&#x2F;d</td></tr><tr><td>10-12月</td><td>600ml&#x2F;d</td><td>4次&#x2F;d</td></tr><tr><td>13-24月</td><td>500ml&#x2F;d</td><td>&lt;4次&#x2F;d</td></tr></tbody></table><h2 id="温度"><a href="#温度" class="headerlink" title="温度"></a>温度</h2><h3 id="食物存放"><a href="#食物存放" class="headerlink" title="食物存放"></a>食物存放</h3><ul><li><p>植物性</p><p>  10°，冷藏或者速冻，保鲜剂；辐照</p></li></ul><h2 id="牛乳"><a href="#牛乳" class="headerlink" title="牛乳"></a>牛乳</h2><h3 id="全脂"><a href="#全脂" class="headerlink" title="全脂"></a>全脂</h3><ul><li>脂肪：≥3.1%</li><li>蛋白质：≥2.9%</li><li>非脂乳固体：≥8.1%</li><li>酸度：12-18</li></ul>]]></content>
      
      
      <categories>
          
          <category> 营养学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 营养学 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>计算公式</title>
      <link href="/2019/03/18/%E8%90%A5%E5%85%BB%E5%AD%A6/%E8%AE%A1%E7%AE%97%E5%85%AC%E5%BC%8F/"/>
      <url>/2019/03/18/%E8%90%A5%E5%85%BB%E5%AD%A6/%E8%AE%A1%E7%AE%97%E5%85%AC%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<h2 id="蛋白质"><a href="#蛋白质" class="headerlink" title="蛋白质"></a>蛋白质</h2><blockquote><p> 样品中的蛋白质含量&#x3D;每百克样品中N含量<em>6.25</em>100%</p></blockquote><ul><li><p>消化率</p><blockquote><p>表观消化率 &#x3D; （摄入氮-粪氮）&#x2F;摄入氮 * 100%</p></blockquote><blockquote><p>真消化率 &#x3D; (摄入氮-粪氮+粪代谢氮) &#x2F; 摄入氮 * 100%</p></blockquote></li><li><p>利用率</p><blockquote><p>蛋白质功效比PER&#x3D;实验体体重增加量&#x2F;试验期间蛋白质摄入量(g)<br>生物加BV&#x3D;储留氮&#x2F;吸收氮<em>100%&#x3D;(吸收氮-尿氮+尿代谢氮) &#x2F; 吸收氮 * 100%<br>净利用率&#x3D;BV</em>消化率&#x3D;储留氮&#x2F;食物氮<em>100%<br>AAS(氨基酸评分)&#x3D;被测食物氮或者蛋白质氨基酸含量&#x2F;参考食物氮或者蛋白质氨基酸含量(mg) * 100<br>混合膳食的ASS&#x3D;混合膳食中每种氨基酸总量（mg&#x2F;g）&#x2F; 每克参考蛋白质中必须氨基酸含量（mg）<br>PDCASS(经消化率修正后的氨基酸评分)&#x3D;AAS</em>真消化率</p></blockquote></li></ul><h2 id="能量"><a href="#能量" class="headerlink" title="能量"></a>能量</h2><blockquote><p>总能量消耗 TEE（kcal&#x2F;d）&#x3D; 基础代谢能量消耗BEE（kcal&#x2F;d） * 身体活动水平 PAL（1.4轻度<del>1.7中度</del>2高度）</p></blockquote><p>能量的DRIs以EAR为基础，过高或过低可能都会带来危险</p><p>RNI能量&#x3D;EAR，无UL</p><h2 id="体格"><a href="#体格" class="headerlink" title="体格"></a>体格</h2><ul><li><p>0-6岁婴儿Z标准<br>  《5岁以下儿童生长状况判定》（WS&#x2F;T 423-2013）</p><p>  引用WHO 2006年《儿童生长标准》数据，推荐使用Z评分</p><ul><li><p>Z评分&#x3D;（实测值-参考人群中位值）&#x2F;参考人群标准差</p></li><li><p>年龄别身长&#x3D;（儿童实测身长-同年龄同性别参考儿童身长中位数）&#x2F;参考儿童身长标准差</p></li><li><p>年龄别体重 &#x3D; （儿童实测体重-痛年龄同性别参考儿童体重中位数）&#x2F;参考儿童体重标准差</p></li><li><p>身长别体重&#x3D;（儿童实测体重-同身长同性别参考儿童体重中位数）&#x2F;参考儿童体重标准差</p></li><li><p>年龄别BMI&#x3D;（儿童BMI-同年龄同性别儿童参考BMI中位数）&#x2F;参考儿童BMI标准差</p></li><li><p>年龄别头围&#x3D;（儿童头围-同年龄同性别儿童头围中位数）&#x2F;参考儿童头围标注按察</p></li></ul></li><li><p>6-12</p><ul><li>乳牙数&#x3D;月龄-6</li></ul></li><li><p>学龄前</p><ul><li>体重&#x3D;年龄*2+7&#x2F;8</li><li>身高&#x3D;年龄*7+70</li></ul></li></ul><h2 id="膳食调查"><a href="#膳食调查" class="headerlink" title="膳食调查"></a>膳食调查</h2><ul><li><p>食物实际消费量</p><p>  家庭食物实际消费量&#x3D;购入量+实验开始的结存量-废弃量-剩余量</p></li><li><p>每人每日各种食物摄入量</p><p>  家庭平均每人每日每种食物摄入量&#x3D;实际消费类&#x2F;家庭总人日数</p></li><li><p>每人每日各种营养素摄入量</p><ul><li><p>食物中某营养素含量&#x3D;（（食物克数&#x2F;100）* 可食比例）* 每百克食物中营养素含量</p></li><li><p>家庭某种营养素总摄入量&#x3D;家庭所有摄入食物中某种营养素总和</p></li><li><p>平均每人每日某营养素摄入量&#x3D;家庭某种营养素摄入总量&#x2F;家庭人日数</p></li><li><p>平均每人每日某营养素摄入量&#x3D;个人某种营养素摄入量&#x2F;个人人日数</p></li><li><p>标准人每人每日某营养素摄入量&#x3D;平均每人每日某营养素摄入量&#x2F;标准人系数</p></li></ul></li><li><p>标准人概念及计算方法</p><ul><li><p>标准人</p><p>  18-29岁65kg成年男子从事轻体力劳动，能量为2150kcal&#x2F;d</p></li><li><p>标准人系数（折合系数</p><p>  其他各类人员的能量推荐值&#x2F;2150</p></li><li><p>标准人日数&#x3D;标准人系数*人日数</p></li><li><p>混合系数&#x3D;全家总标准人日数&#x2F;全家总人日数</p></li><li><p>家庭混合系数&#x3D;（人员1标准人系数*人日数+人员2标准人系数 *人日数…）&#x2F;全家总人日数</p></li><li><p>标准人平均每日某营养素摄入量&#x3D;平均人每日某营养素摄入量&#x2F;混合系数</p></li><li><p>标准人每日每种食物摄入量&#x3D;平均每人每日各种食物摄入量&#x2F;混合系数</p></li></ul></li><li><p>AR（表观保留率）&#x3D;食物烹调后某种营养素含量（干重）&#x2F; 食物原料中该种营养素含量（干重）* 100%</p></li><li><p>TR（真实保留率）&#x3D; （食物烹调后某营养素含量*食物烹调后的重量）&#x2F; （食物原料某营养素含量 * 食物烹调前重量）* 100%</p></li></ul><h2 id="营养素计算"><a href="#营养素计算" class="headerlink" title="营养素计算"></a>营养素计算</h2><ul><li>能量&#x3D;4 * 蛋白质+9 * 脂肪 + 4 * 碳水 + 3 * 有机酸 + 9 * 酒精 + 2 * 膳食纤维</li><li>蛋白质<ul><li>总氮量*氮折算系数</li><li>食品中各氨基酸含量的总和</li></ul></li><li>脂肪<ul><li>粗脂肪：甘油三酯、磷脂、固醇和色素</li><li>总脂肪：各个脂肪酸甘油酸酯总和</li></ul></li><li>碳水<ul><li>减法：100-蛋白质-脂肪-灰分-水分</li><li>加法：淀粉+糖，仅用于普通食物</li></ul></li><li>能量密度&#x3D;一定量食物提供的能量值&#x2F;能量推荐摄入量</li><li>营养素密度&#x3D;一定量食物提供的营养素&#x2F;相应营养素推荐摄入量</li><li>食物营养质量指数INQ&#x3D;营养素密度&#x2F;能量密度</li></ul>]]></content>
      
      
      <categories>
          
          <category> 营养学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 营养学 </tag>
            
            <tag> 计算公式 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>老年人</title>
      <link href="/2019/03/18/%E8%90%A5%E5%85%BB%E5%AD%A6/%E3%80%90%E4%BA%BA%E7%BE%A4%E8%90%A5%E5%85%BB%E3%80%91%E8%80%81%E5%B9%B4%E4%BA%BA/"/>
      <url>/2019/03/18/%E8%90%A5%E5%85%BB%E5%AD%A6/%E3%80%90%E4%BA%BA%E7%BE%A4%E8%90%A5%E5%85%BB%E3%80%91%E8%80%81%E5%B9%B4%E4%BA%BA/</url>
      
        <content type="html"><![CDATA[<h2 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h2><ul><li>合成代谢降低，分解代谢升高，基础代谢下降</li><li>消化能力下降：<ul><li>牙齿脱落影响咀嚼</li><li>嗅觉味觉迟钝影响食欲</li><li>肠道消化酶减少</li><li>肠蠕动变慢</li></ul></li><li>体成分改变<ul><li>细胞数量减少，肌肉萎缩，器官体积减少，功能减退</li><li>水分减少：影响体温调节，降低对环境温度改变的适应能力</li><li>骨组织矿物质和骨基质减少，易出现骨质疏松和骨折</li></ul></li><li>器官功能<ul><li>肝脏功能下降，胆汁和消化酶分泌减少，影响消化和物质代谢</li><li>胰腺分泌功能降低，糖调节能力降低</li><li>免疫组织和免疫功能降低，免疫细胞数量减少</li><li>心率减慢，心脏博出量减少，血管硬化，高血压患病率升高</li><li>呼吸：肺容量减少，呼吸功能明显减弱，代偿能力降低</li><li>神经：脑细胞减少，神经传导速度减慢，动作迟缓，反应灵敏度降低</li><li>感觉器官：视、嗅、味、皮肤感觉能力下降</li></ul></li><li>心理<ul><li>生活环境，经济拮据、环境改变使得食欲减退，干扰摄食心态</li></ul></li><li>绝经<ul><li>围绝经期<ul><li>卵巢萎缩，功能减退</li><li>内分泌紊乱，血管运动障碍导致潮热、出汗</li><li>神经精神障碍，情绪不稳</li></ul></li><li>绝经后<ul><li>雌激素减少，骨代谢发生明显变化</li><li>血脂异常，糖代谢异常，冠心病发生率升高</li></ul></li></ul></li></ul><h2 id="生理特点"><a href="#生理特点" class="headerlink" title="生理特点"></a>生理特点</h2><ul><li>自发的必然过程，结构的退行性变和机能的衰退，适应和抵抗力降低</li><li>特性：普遍、内因、进行、个体性差异、可干预性和有害性</li><li>分类<ul><li>生理性衰老</li><li>病理性衰老</li></ul></li><li>日常生活能力（ADL<ul><li>评估个体或老年人自我生活的能力</li><li>评定量表<ul><li>躯体生活自理量表（PSMS）：吃饭、穿衣、梳洗、WC、洗涤、室内走动</li><li>工具性日常自理量表（IADL）：乘车、购物、家务、洗衣、做反、电话、理财、吃药</li></ul></li></ul></li><li>废用综合征（DS）：机体长期表失活动能力或持续不活动而产生的继发性障碍<ul><li>原因：<ul><li>各种原因造成的长期卧床，基本不活动或运动不足</li><li>外伤或原发病而导致运动障碍</li><li>严重感觉运动障碍引起刺激降低而导致活动降低</li><li>各种骨关节疾病使肢体活动范围降低</li></ul></li><li>主要功能障碍：<ul><li>循环、呼吸、中枢神经、消化、运动等系统功能</li></ul></li></ul></li></ul><h2 id="膳食指南"><a href="#膳食指南" class="headerlink" title="膳食指南"></a>膳食指南</h2><h3 id="65-79岁"><a href="#65-79岁" class="headerlink" title="65-79岁"></a>65-79岁</h3><ul><li><p>食物品种丰富，动物性食物充足，常吃大豆制品</p><ul><li><p>品种多样化；餐餐有蔬菜，多选深色蔬菜，颜色丰富；水果多品种</p></li><li><p>动物性食物换着吃，和蔬菜搭配；尽量选择瘦肉，少吃肥肉</p></li><li><p>吃不同种类的奶类和豆类食物</p></li><li><p>动物性食物富含优质蛋白，有利于减少老年人贫血、延缓肌肉衰减发生</p></li></ul></li><li><p>鼓励共同进餐，保持良好食欲，享受食物</p></li><li><p>积极户外活动，延缓肌肉衰减，保持适宜体重</p></li><li><p>定期健康体检，测评营养状况，预防营养缺乏</p><p>  预防营养缺乏</p><ul><li><p>鼓励积极参与集体活动，排除厌恶，保持乐观心态</p></li><li><p>适度增加身体活动量，增强身体对营养的需求，提升进食欲望</p></li><li><p>采用不同烹调方式，丰富色泽、风味、增加吸引力</p></li></ul><p>  每年1-2次体检，BMI20-26.9</p></li></ul><h3 id="高龄老人"><a href="#高龄老人" class="headerlink" title="高龄老人"></a>高龄老人</h3><ul><li><p>食物多样，鼓励多种方式进食</p></li><li><p>选择质地细软，能量和营养素密度高的食物</p></li><li><p>多吃鱼禽肉蛋和豆，适量蔬菜配水果</p></li><li><p>关注体重丢失，定期营养筛查评估，预防营养不良</p></li><li><p>适时合理补充营养，提高生活质量</p></li><li><p>坚持健身与益智活动，促进身心健康</p></li></ul><h2 id="肌肉衰减"><a href="#肌肉衰减" class="headerlink" title="肌肉衰减"></a>肌肉衰减</h2><h3 id="不良"><a href="#不良" class="headerlink" title="不良"></a>不良</h3><p>导致骨质疏松的风险增加，是老年人独立危险因素</p><h3 id="饮食营养"><a href="#饮食营养" class="headerlink" title="饮食营养"></a>饮食营养</h3><ul><li><p>蛋白质</p><ul><li><p>一般情况1-1.2g&#x2F;kg.d，优质蛋白50%</p></li><li><p>日常抗阻训练：≥1.2-1.5g&#x2F;kg.d</p></li><li><p>乳清蛋白：促进肌肉合成，预防肌肉衰减</p></li><li><p>牛奶及其制品：300-400ml鲜奶或相当量蛋白质的奶制品（奶粉30-36g</p></li><li><p>乳糖不耐优先食用低乳糖奶或者酸奶</p></li><li><p>不宜集中一餐吃蛋白质</p></li></ul></li><li><p>脂肪酸、维生素C、D、E、类胡萝卜素、硒等抗氧化营养素</p></li><li><p>膳食营养补充剂：合理补充维生素D、含多种微量营养素的补充剂</p></li></ul><h2 id="65-79岁-1"><a href="#65-79岁-1" class="headerlink" title="65-79岁"></a>65-79岁</h2><h3 id="身体活动"><a href="#身体活动" class="headerlink" title="身体活动"></a>身体活动</h3><ul><li><p>根据生理条件、健康状况、兴趣爱好和运动设施条件选择锻炼方式，安排运动负荷</p></li><li><p>户外运动：有利于维生素D合成，延缓骨质疏松和肌肉衰减发展</p></li><li><p>增强心肺功能，活动灵敏，身体柔韧，减缓骨矿物质流程，肌肉衰减，有效预防骨质疏松和骨折</p></li><li><p>运动负荷判断</p><blockquote><p>心率：170-年龄作为运动目标心率</p></blockquote></li><li><p>减少久坐静态时间</p></li></ul><h3 id="营养状况"><a href="#营养状况" class="headerlink" title="营养状况"></a>营养状况</h3><ul><li><p>鼓励老年人关注饮食，经常自测营养状况</p></li><li><p>定期测量体温</p></li><li><p>平衡膳食</p></li><li><p>多种慢性病、身体功能明显变差的老年人，应接受专业的营养指导支持等</p></li></ul><h2 id="高龄"><a href="#高龄" class="headerlink" title="高龄"></a>高龄</h2><h3 id="体重过轻或近期体重下降"><a href="#体重过轻或近期体重下降" class="headerlink" title="体重过轻或近期体重下降"></a>体重过轻或近期体重下降</h3><ul><li><p>营养筛查2002（NRS2002）、微型营养评定简表（MNA-SF）</p></li><li><p>综合分析进食情况、消化吸收能力、体格检查、人体测量、体成分分析、生化指标、临床表现等营养相关问题得出疾病相关的营养检查</p></li><li><p>根据身体情况、能量摄入和身体活动水平，逐渐增加能量摄入</p></li></ul><h3 id="合理使用营养品"><a href="#合理使用营养品" class="headerlink" title="合理使用营养品"></a>合理使用营养品</h3><ul><li><p>关注老年人身体健康，鼓励摄入营养密度高的食物</p></li><li><p>特医食品</p><ul><li><p>进食量不足目标80%时，可以在医生和临床营养师指导下，合理使用特医食品</p></li><li><p>标准蛋白配方：适合大部分老年人</p></li><li><p>氨基酸和短肽类：肠胃功能不全（如重症胰腺炎等</p></li><li><p>不含乳糖：乳糖不耐受易出现腹泻</p></li><li><p>添加膳食纤维：改进老年人肠道功能，减少腹泻和便秘发生</p></li><li><p>高能量密度配方：有利于实现老年人营养充足性</p></li><li><p>口服营养补充（ONS）</p><p>  400-600kcal&#x2F;d，含蛋白质15~30g，分2-3次食用，至少连续使用4周以上</p><p>   两餐之间服用，可以达到补充营养的目的，又能不影响正餐的食用</p><p>   不能摄入普通食物的老年人：啜饮：50-100ml&#x2F;h</p></li><li><p>强化食品</p><p>  强化Ca、Fe、Zn、维A、C、D等营养素食品</p></li><li><p>营养补充剂</p><p>  预防相应营养素缺乏，已经出现营养素缺乏临床表现的老年人（最快速有效方式</p><p>  在医生或者营养师指导下选用，补充剂量依据DRIs</p></li></ul></li></ul><h2 id="吞咽障碍"><a href="#吞咽障碍" class="headerlink" title="吞咽障碍"></a>吞咽障碍</h2><h3 id="并发症"><a href="#并发症" class="headerlink" title="并发症"></a>并发症</h3><pre><code>误吸、肺炎、脱水、营养不良以及由此导致的心理与社会交往障碍，增加患者病死率和不良预后</code></pre><h3 id="筛查"><a href="#筛查" class="headerlink" title="筛查"></a>筛查</h3><pre><code>饮水实验，安全快捷</code></pre><h3 id="易食食品"><a href="#易食食品" class="headerlink" title="易食食品"></a>易食食品</h3><ul><li><p>调整食物质构</p><ul><li><p>液体食物黏度适当</p></li><li><p>固态食物不易松散</p></li><li><p>密度均匀，颗粒顺滑</p></li><li><p>减少进食引起呛咳误吸风险</p></li></ul></li><li><p>遵循原则</p><ul><li><p>硬的变软，将较硬的食物搅拌粉碎，可便于其咀嚼吞咽</p></li><li><p>稀得变稠，在液体如水、饮料、果汁、牛奶中加入增稠剂，增加食物粘腻度</p></li><li><p>避免异相夹杂，避免固体和液体混合一起，以及固液容易分离的食物</p></li><li><p>食物均质顺滑</p></li></ul></li></ul><h3 id="吞咽实验"><a href="#吞咽实验" class="headerlink" title="吞咽实验"></a>吞咽实验</h3><table><thead><tr><th>评级</th><th>表现</th></tr></thead><tbody><tr><td>1级（优）</td><td>顺利1次吞咽，无呛咳</td></tr><tr><td>2级（良）</td><td>分2次以上，无呛咳</td></tr><tr><td>3级（中</td><td>一次吞咽，有呛咳</td></tr><tr><td>4级（可</td><td>2次以上，有呛咳</td></tr><tr><td>5级（差</td><td>频繁呛咳，不能全部咽下</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> 营养学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 营养学 </tag>
            
            <tag> 人群营养 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>矿物质</title>
      <link href="/2019/03/18/%E8%90%A5%E5%85%BB%E5%AD%A6/%E3%80%90%E8%90%A5%E5%85%BB%E5%AD%A6%E5%9F%BA%E7%A1%80%E3%80%91%E7%9F%BF%E7%89%A9%E8%B4%A8/"/>
      <url>/2019/03/18/%E8%90%A5%E5%85%BB%E5%AD%A6/%E3%80%90%E8%90%A5%E5%85%BB%E5%AD%A6%E5%9F%BA%E7%A1%80%E3%80%91%E7%9F%BF%E7%89%A9%E8%B4%A8/</url>
      
        <content type="html"><![CDATA[<h2 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h2><ul><li><p>常量营养素</p><p>  体内含量＞0.01%体重，每日需要量100mg以上（7种</p><p>  Ca、Mg、Na、K、S、O、P</p></li><li><p>微量</p><p>  体内含量＜0.01%体重</p><ul><li><p>必需</p><p>  Fe、I、Se（硒、Zn、Cu、铬、钼、钴</p></li><li><p>可能必需</p><p>  Mn、硅、镍、硼、钒</p></li><li><p>具有潜在毒性微量，但在低剂量时对人体可能具有功能的微量元素</p><p>  F、Pb（铅、镉、汞、砷、铝、锂、锡</p></li></ul></li></ul><h2 id="功能"><a href="#功能" class="headerlink" title="功能"></a>功能</h2><ul><li><p>构成细胞膜的主要成分</p></li><li><p>细胞内外液成分</p></li><li><p>维持体内酸碱平衡</p></li><li><p>参与构成功能性物质</p></li><li><p>维持神经肌肉的正常兴奋性和细胞膜的通透性</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> 营养学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 营养学 </tag>
            
            <tag> 营养学基础 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>蛋白质</title>
      <link href="/2019/03/18/%E8%90%A5%E5%85%BB%E5%AD%A6/%E3%80%90%E8%90%A5%E5%85%BB%E5%AD%A6%E5%9F%BA%E7%A1%80%E3%80%91%E8%9B%8B%E7%99%BD%E8%B4%A8/"/>
      <url>/2019/03/18/%E8%90%A5%E5%85%BB%E5%AD%A6/%E3%80%90%E8%90%A5%E5%85%BB%E5%AD%A6%E5%9F%BA%E7%A1%80%E3%80%91%E8%9B%8B%E7%99%BD%E8%B4%A8/</url>
      
        <content type="html"><![CDATA[<h2 id="元素组成及氮折算系数"><a href="#元素组成及氮折算系数" class="headerlink" title="元素组成及氮折算系数"></a>元素组成及氮折算系数</h2><ul><li><p>组成</p><p>  C、N、O、S、H等</p><p>  蛋白质是人体唯一的C来源</p></li><li><p>氮折算系数</p><p>氮含量是16%，折算系数是6.25</p><p>样品中的蛋白质含量&#x3D;每百克样品中N含量6.25*100%</p></li></ul><h2 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h2><table><thead><tr><th>名字</th><th>特点</th><th>种类</th></tr></thead><tbody><tr><td>完全蛋白质</td><td><strong>必须氨基酸种类齐全，数量充足，比例适当</strong>，能维持人体健康并能促进儿童生长发育</td><td>乳类：酪蛋白，乳白蛋白 <br /> 蛋类：卵白蛋白，卵磷蛋白 <br />肉类：白蛋白，肌蛋白 <br />大豆：大豆蛋白</td></tr><tr><td>半完全蛋白质</td><td><strong>必须氨基酸种类齐全，但数量不足或比例不当</strong>，可维持生命，<strong>不能促进生长发育</strong></td><td>小麦：麦胶蛋白</td></tr><tr><td>不完全蛋白质</td><td><strong>必须氨基酸种类不齐全</strong>，<strong>不能维持生命</strong>，<strong>不能促进生长发育</strong></td><td>玉米：玉米胶蛋白 <br /> 豌豆：豆球蛋白 <br /> 动物结缔组织和肉皮：胶原蛋白</td></tr></tbody></table><h2 id="消化吸收"><a href="#消化吸收" class="headerlink" title="消化吸收"></a>消化吸收</h2><ul><li><p>消化</p><p>  从胃开始，但主要是小肠</p><p>  所需酶：</p><pre><code>  - 胃：胃蛋白酶  - 小肠：      内肽酶：胰蛋白、糜蛋白、弹性蛋白酶      外肽酶：氨基肽、羧基酶</code></pre></li><li><p>吸收</p><p>  在小肠黏膜吸收</p><p>  吸收形式：氨基酸和2-3个氨基酸的小肽</p></li><li><p>分解与合成</p><p>  在体内不断分解与合成，形成动态平衡</p></li><li><p>氮平衡：</p><p>  氮排除量与吸收量的关系</p></li></ul><h2 id="氮平衡"><a href="#氮平衡" class="headerlink" title="氮平衡"></a>氮平衡</h2><ul><li><p>正氮平衡</p><p>  儿童、孕妇、疾病恢复、运动、劳动增加肌肉</p></li><li><p>负氮平衡</p><p>  饥饿、疾病、老年</p></li><li><p>零氮平衡</p><p>健康成人、富裕5%</p></li></ul><h2 id="氨基酸"><a href="#氨基酸" class="headerlink" title="氨基酸"></a>氨基酸</h2><h3 id="分类-1"><a href="#分类-1" class="headerlink" title="分类"></a>分类</h3><ul><li><p>化学结构</p><p>脂肪族，芳香族，杂环氨基酸</p></li><li><p>氨基酸必须性</p><ul><li><p>必须氨基酸：假设来借一本书</p><p>蛋氨酸（甲硫氨酸），色氨酸、赖氨酸、颉氨酸、异亮氨酸、亮氨酸、苯丙氨酸，苏氨酸</p></li><li><p>条件必须氨基酸 烙饼加个蛋</p><p>  酪氨酸&lt;-苯丙氨酸</p><p>  蛋氨酸&lt;-半胱氨酸</p></li><li><p>非必须氨基酸（10个）</p><p>体内可以直接合成，食物缺少无妨</p></li></ul></li></ul><h3 id="氨基酸模式以及限制氨基酸"><a href="#氨基酸模式以及限制氨基酸" class="headerlink" title="氨基酸模式以及限制氨基酸"></a>氨基酸模式以及限制氨基酸</h3><ul><li><p>氨基酸模式：</p><p>某种蛋白质中各种必须氨基酸构成比例，以色氨酸为标准</p></li><li><p>优质蛋白</p><p>与人体比例接近</p></li><li><p>限制氨基酸</p><p>  与参考蛋白质（人体）相比，缺乏最多的那种氨基酸</p><p>  谷赖，豆蛋</p></li><li><p>参考蛋白</p><p>  鸡蛋蛋白</p></li><li><p>植物蛋白质：<br>  赖，蛋，苏，色氨酸含量低</p></li></ul><h2 id="蛋白质生理功能"><a href="#蛋白质生理功能" class="headerlink" title="蛋白质生理功能"></a>蛋白质生理功能</h2><ul><li><p>构成机体组织（最重要的功能</p></li><li><p>提供能量（次要</p></li><li><p>调节生理功能</p><ul><li><p>核蛋白：构成细胞核并影响细胞功能</p></li><li><p>酶蛋白：促进食物消化吸收利用</p></li><li><p>免疫蛋白：维持机体免疫功能</p></li><li><p>血红蛋白：携带运输氧气</p></li><li><p>脂蛋白，运铁蛋白，视黄醇结合蛋白：运输功能</p></li><li><p>白蛋白：调节渗透压，维持体液平衡</p></li><li><p>收缩蛋白：肌球蛋白调节肌肉收缩</p></li><li><p>构成激素：垂体、甲状腺、甲状旁腺、肾上腺素等</p></li></ul></li></ul><h2 id="蛋白质-能量营养不良"><a href="#蛋白质-能量营养不良" class="headerlink" title="蛋白质-能量营养不良"></a>蛋白质-能量营养不良</h2><ul><li><p>原因</p><p>  摄入⬇，需要⬆，消耗⬆</p></li><li><p>类型</p><ul><li><p>消瘦型</p><p>  缺乏能量，主要表现为皮下脂肪和骨骼肌显著消耗及内在器官萎缩</p><p>  “皮包骨”，神经发育落后，对外界反应淡漠或易激惹，记忆力下降，有饥饿感</p></li><li><p>浮肿型</p><p>  缺乏蛋白质，能量满足需求，以水肿为主要特征</p><p>  生长迟缓，虚弱无力，易感染</p></li><li><p>混合型</p><p>  蛋白质和能量均有缺乏，常伴有维生素和其他营养素缺乏</p><p>  皮下脂肪小事，肌肉萎缩，急躁不安或者表情淡漠，易感染</p></li></ul></li></ul><h3 id="评价"><a href="#评价" class="headerlink" title="评价"></a>评价</h3><ul><li><p>膳食蛋白质摄入量</p></li><li><p>身体测量</p></li><li><p>生化检查</p></li></ul><h2 id="蛋白质营养评价"><a href="#蛋白质营养评价" class="headerlink" title="蛋白质营养评价"></a>蛋白质营养评价</h2><ul><li><p>消化率</p><p>  蛋白质在消化道被分解和吸收程度指标</p></li><li><p>利用率</p><p>  食物消化吸收后被机体利用的程度</p></li><li><p>氨基酸评分</p><p>  适用于单一食物蛋白质和混合食物蛋白质的评价</p></li></ul><h2 id="蛋白质互补作用"><a href="#蛋白质互补作用" class="headerlink" title="蛋白质互补作用"></a>蛋白质互补作用</h2><ul><li><p>生物种属越远</p></li><li><p>搭配种类越多</p></li><li><p>食用时间越近，同时食用最好</p></li></ul><h2 id="食物蛋白质质量评价"><a href="#食物蛋白质质量评价" class="headerlink" title="食物蛋白质质量评价"></a>食物蛋白质质量评价</h2><h3 id="质量评价指标"><a href="#质量评价指标" class="headerlink" title="质量评价指标"></a>质量评价指标</h3><ul><li>食物蛋白质含量</li><li>氨基酸模式</li><li>食物氨基酸直接比较法<ul><li>食物中必需氨基酸含量及比值与人体氨基酸模式直接比较</li><li>与人体越接近越好，利用率越高</li></ul></li><li>蛋白质消化率<ul><li>蛋白质表观消化率&#x3D;(摄入氮-粪氮)&#x2F;摄入氮</li><li>蛋白质真消化率&#x3D;(摄入氮-粪氮+粪代谢氮)&#x2F;摄入氮</li></ul></li><li>蛋白质利用率<ul><li>蛋白质功效比</li><li>生物价&#x3D;储留氮&#x2F;吸收氮&#x3D;（吸收氮-尿氮+尿代谢氮）&#x2F;（摄入氮-粪氮+粪代谢氮）</li><li>蛋白质净利用率&#x3D;生物价*消化率&#x3D;储留氮&#x2F;吸收氮 * 吸收氮&#x2F;食物氮&#x3D;储留氮&#x2F;食物氮</li></ul></li><li>氨基酸评分<ul><li>AAS&#x3D;每百克待测蛋白质中必需氨基酸含量&#x2F;每百克参考蛋白质中必需氨基酸含量</li><li>参考蛋白质：FAO&#x2F;WHO1973或不同年龄段人体氨基酸模式2007</li><li>适用于单一和混合食物蛋白质评价</li></ul></li><li>经消化率校正后的氨基酸评分<ul><li>PDCASs&#x3D;ASS*真消化率</li></ul></li></ul><h3 id="AAS和PDCASS计算"><a href="#AAS和PDCASS计算" class="headerlink" title="AAS和PDCASS计算"></a>AAS和PDCASS计算</h3><ul><li>比较食物蛋白质含量</li><li>确定必需氨基酸的含量值<ul><li>查食物成分表中必需氨基酸含量：mg&#x2F;100g换算为mg&#x2F;g蛋白质</li><li>氨基酸含量（mg&#x2F;g蛋白质）&#x3D;氨基酸含量（mg&#x2F;100g）&#x2F; 蛋白质含量（g&#x2F;100g）</li></ul></li><li>食物氨基酸评分的计算<ul><li>计算ASS</li><li>找到限制氨基酸</li></ul></li><li>PDCASS计算</li><li>评价</li></ul>]]></content>
      
      
      <categories>
          
          <category> 营养学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 营养学 </tag>
            
            <tag> 营养学基础 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>体格测量</title>
      <link href="/2019/03/18/%E8%90%A5%E5%85%BB%E5%AD%A6/%E3%80%90%E4%BA%BA%E4%BD%93%E8%90%A5%E5%85%BB%E7%8A%B6%E5%86%B5%E8%AF%84%E5%AE%9A%E3%80%91%E4%BD%93%E6%A0%BC%E6%B5%8B%E9%87%8F/"/>
      <url>/2019/03/18/%E8%90%A5%E5%85%BB%E5%AD%A6/%E3%80%90%E4%BA%BA%E4%BD%93%E8%90%A5%E5%85%BB%E7%8A%B6%E5%86%B5%E8%AF%84%E5%AE%9A%E3%80%91%E4%BD%93%E6%A0%BC%E6%B5%8B%E9%87%8F/</url>
      
        <content type="html"><![CDATA[<h2 id="身长和头顶至臀长测量"><a href="#身长和头顶至臀长测量" class="headerlink" title="身长和头顶至臀长测量"></a>身长和头顶至臀长测量</h2><h3 id="卧式标准量床使用"><a href="#卧式标准量床使用" class="headerlink" title="卧式标准量床使用"></a>卧式标准量床使用</h3><ul><li>3岁以下</li><li>放置在平坦地方，检查头板有无松动</li><li>围板刻度尺面向光源，0点是否与头版的头顶重合</li><li>准确性：钢尺检查，一般10.0cm误差不得&gt;0.1cm</li></ul><h3 id="测量方法"><a href="#测量方法" class="headerlink" title="测量方法"></a>测量方法</h3><ul><li><p>身长</p><ul><li>身长测量2岁及以下，身高测量适用于2岁以上</li><li>被测婴幼儿脱去鞋帽袜，穿单衣仰卧于标准量床底板中位线上</li><li>将婴幼儿头扶正，头顶接触头板</li><li>测量者位于婴幼儿右侧，左手握住双膝，使腿伸直，右手移动滑板使其接触婴幼儿双侧足跟</li></ul></li><li><p>头顶-臀长</p><ul><li>测量者左手提起婴幼儿下肢，使膝关节屈曲，大腿与底板垂直，右手移位滑板使其接触婴幼儿臀部</li></ul></li><li><p>读数<br>  cm为单位，保留1位小数点</p></li></ul><h3 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h3><ul><li>确保婴幼儿头顶至足跟呈一条直线</li><li>防止婴幼儿出现身体扭动等现象</li></ul><h3 id="意义"><a href="#意义" class="headerlink" title="意义"></a>意义</h3><ul><li>纵向测量指标，与骨骼生长有关</li><li>反应长期营养、疾病和其他不良环境的影响</li></ul><h2 id="体重测量"><a href="#体重测量" class="headerlink" title="体重测量"></a>体重测量</h2><h3 id="测量仪器"><a href="#测量仪器" class="headerlink" title="测量仪器"></a>测量仪器</h3><ul><li>婴幼儿体重秤或成人体重秤</li><li>放置于平坦地面，要求无晃动，仔细检查零点是否准确</li><li>校正：标准砝码，要求误差不得超过0.1%</li></ul><h3 id="测量方法-1"><a href="#测量方法-1" class="headerlink" title="测量方法"></a>测量方法</h3><ul><li>体位：1岁以下取卧位，1岁以上取坐位</li><li>事先排空大小便，测量时脱去外衣、鞋帽和袜子，只穿着背心和短裤</li><li>读数：以kg为单位，保留2位小数点</li></ul><h3 id="注意事项-1"><a href="#注意事项-1" class="headerlink" title="注意事项"></a>注意事项</h3><ul><li>若哭闹厉害，可以使用减差法</li><li>测量过程读数中，不能手扶婴儿，同时注意婴幼儿身体不能剧烈扭动</li><li>有特殊原因，不能多脱衣服，应设法扣衣物重量</li></ul><h3 id="意义-1"><a href="#意义-1" class="headerlink" title="意义"></a>意义</h3><ul><li>反映构成体重成分的骨骼、肌肉、内脏、体质和水分变化情况</li><li>对营养状况反应敏感，是常用的评价指标</li></ul><h2 id="头围测量"><a href="#头围测量" class="headerlink" title="头围测量"></a>头围测量</h2><h3 id="测量仪器-1"><a href="#测量仪器-1" class="headerlink" title="测量仪器"></a>测量仪器</h3><ul><li><p>头围</p><p>  双侧眉弓上缘经后脑勺枕骨粗隆绕头一周的长度</p></li><li><p>测量仪器</p><ul><li>软尺</li><li>检查有无裂缝，制作材料是否符合要求</li><li>钢尺检查：2m长，若与2m相差0.5cm则不能使用</li></ul></li></ul><h3 id="测量方法-2"><a href="#测量方法-2" class="headerlink" title="测量方法"></a>测量方法</h3><ul><li>被测婴幼儿取坐位或仰卧位</li><li>测量者位于婴幼儿右侧或前方，左手拇指将软尺零点固定于头部眉弓上缘处，软尺经枕骨粗隆及左侧眉弓上缘回至零点，读取软尺和零点重合处的读数</li><li>读书：以cm为单位，保留1为小数点</li></ul><h3 id="注意事项-2"><a href="#注意事项-2" class="headerlink" title="注意事项"></a>注意事项</h3><ul><li>婴幼儿需要脱帽，软尺紧贴皮肤，不能打折</li><li>长发或扎辫子者，应先将头发在软尺处经过向上、下分开，使软尺紧贴头皮</li></ul><h3 id="意义-2"><a href="#意义-2" class="headerlink" title="意义"></a>意义</h3><ul><li>横向测量指标</li><li>间接反应颅内容量大小</li></ul><h2 id="胸围测量"><a href="#胸围测量" class="headerlink" title="胸围测量"></a>胸围测量</h2><h3 id="测量"><a href="#测量" class="headerlink" title="测量"></a>测量</h3><ul><li><p>胸围</p><p>  从两侧乳头线到后面两肩胛骨下角下缘绕胸一周的长度</p></li><li><p>测量：软尺</p></li><li><p>测量方式</p><ul><li>婴幼儿取仰卧位，自然躺平，处于平静状态</li><li>测量者立于婴幼儿右方，用左手拇指将软尺零点固定于婴幼儿胸前右侧乳头下缘</li><li>右手拉软尺绕经右侧后背两肩胛骨下角下缘，再经左侧回到零点，读数</li><li>读数：以cm为单位，保留1为小数点</li></ul></li></ul><h3 id="注意事项-3"><a href="#注意事项-3" class="headerlink" title="注意事项"></a>注意事项</h3><ul><li>后背位置准确</li><li>各处软尺轻轻接触皮肤，皮下脂肪较厚的婴幼儿，接触皮肤应该稍微紧些</li><li>取平静呼吸时的中位数</li></ul><h3 id="意义-3"><a href="#意义-3" class="headerlink" title="意义"></a>意义</h3><ul><li>横向测量指标</li><li>正常情况下，营养良好的婴幼儿，胸围赶上头围的年龄往往提前</li><li>营养不良的婴幼儿，胸部肌肉和脂肪发育较差，胸围赶上头围的年龄靠后</li><li>2岁半时，胸围&lt;头围，考虑为营养不良或胸廓、肺发育不全</li></ul><h2 id="上臂围测量"><a href="#上臂围测量" class="headerlink" title="上臂围测量"></a>上臂围测量</h2><h3 id="测量-1"><a href="#测量-1" class="headerlink" title="测量"></a>测量</h3><ul><li>测量仪器：软尺</li><li>测量方法<ul><li>被测者自然站立，肌肉不要紧张，体重平均在两腿之上</li><li>充分裸露左上肢，手臂自然下垂，两眼平视前方</li><li>测试人员站在被测者身后，找到肩峰到尺骨连线中点处，并用油笔标记</li><li>用软尺起始端下缘压在标记为肩峰与尺骨鹰嘴连线中点，水平围绕一周，读数</li></ul></li></ul><h3 id="意义-4"><a href="#意义-4" class="headerlink" title="意义"></a>意义</h3><ul><li>反应营养状况，与体重密切相关</li><li>1-5岁：营养不良-12.5-营养中等-13.5-营养状况良好</li></ul><h2 id="皮褶厚度测量"><a href="#皮褶厚度测量" class="headerlink" title="皮褶厚度测量"></a>皮褶厚度测量</h2><h3 id="测量-2"><a href="#测量-2" class="headerlink" title="测量"></a>测量</h3><ul><li>仪器：皮褶厚度仪</li></ul><h4 id="肱三头肌皮褶厚度测量"><a href="#肱三头肌皮褶厚度测量" class="headerlink" title="肱三头肌皮褶厚度测量"></a>肱三头肌皮褶厚度测量</h4><ul><li>被测者自然站立，被测部位充分裸露</li><li>测试人员站在被测者背部，找到肩峰到尺骨鹰嘴连线中点处，并标记</li><li>在标记点上方2cm处，垂直方向用左手拇指、食指、中指将皮肤和皮下组织夹提起来</li><li>右手捏皮褶厚度计，在该皮褶提起点的下方1cm处用皮褶厚度仪</li><li>测量其厚度，测量时，皮褶厚度计应与上臂垂直，右手拇指松开</li><li>皮褶厚度计卡钳钳柄，使钳尖充分夹住皮褶</li><li>在皮褶厚度计指针快速回落后立即读数，以mm为单位，保留小数点后1位</li><li>连续测量三次，取平均值</li></ul><h4 id="肱二头肌"><a href="#肱二头肌" class="headerlink" title="肱二头肌"></a>肱二头肌</h4><ul><li>测试人员站在被测者对面或者侧面</li><li>肱二头肌肌腹中点（肩峰到尺骨鹰嘴连线中点上方1cm），并标记</li></ul><h4 id="肩胛下角"><a href="#肩胛下角" class="headerlink" title="肩胛下角"></a>肩胛下角</h4><ul><li>测试人员站在背面</li><li>右肩胛下角下方1cm夹提</li></ul><h3 id="意义-5"><a href="#意义-5" class="headerlink" title="意义"></a>意义</h3><ul><li>衡量个体营养状况和肥胖程度的较好指标，主要表现皮下脂肪厚度</li><li>判断胖度标准<ul><li>男：瘦-10mm- 中等 -40mm-肥胖</li><li>女：瘦-20mm- 中等 -50mm-肥胖</li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> 营养学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 营养学 </tag>
            
            <tag> 人体营养状况评定 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>生物样品收集与储存</title>
      <link href="/2019/03/18/%E8%90%A5%E5%85%BB%E5%AD%A6/%E3%80%90%E4%BA%BA%E4%BD%93%E8%90%A5%E5%85%BB%E7%8A%B6%E5%86%B5%E8%AF%84%E5%AE%9A%E3%80%91%E7%94%9F%E7%89%A9%E6%A0%B7%E5%93%81%E6%94%B6%E9%9B%86%E4%B8%8E%E5%82%A8%E5%AD%98/"/>
      <url>/2019/03/18/%E8%90%A5%E5%85%BB%E5%AD%A6/%E3%80%90%E4%BA%BA%E4%BD%93%E8%90%A5%E5%85%BB%E7%8A%B6%E5%86%B5%E8%AF%84%E5%AE%9A%E3%80%91%E7%94%9F%E7%89%A9%E6%A0%B7%E5%93%81%E6%94%B6%E9%9B%86%E4%B8%8E%E5%82%A8%E5%AD%98/</url>
      
        <content type="html"><![CDATA[<h2 id="尿液"><a href="#尿液" class="headerlink" title="尿液"></a>尿液</h2><p>24h</p><h3 id="意义"><a href="#意义" class="headerlink" title="意义"></a>意义</h3><ul><li>测定人体蛋白质的需要量、氨基酸代谢实验及氮平衡实验</li><li>测定水溶性维生素的负荷实验和研究水溶性维生素的需要量</li><li>评价水溶性维生素和矿物质的代谢和需要量</li><li>研究和评价某些药物、毒物等的代谢情况</li></ul><h2 id="血液"><a href="#血液" class="headerlink" title="血液"></a>血液</h2><h3 id="种类"><a href="#种类" class="headerlink" title="种类"></a>种类</h3><ul><li>耳朵</li><li>足尖</li><li>指尖</li><li>静脉血</li><li>眼眶血等</li></ul><h3 id="抗凝剂使用"><a href="#抗凝剂使用" class="headerlink" title="抗凝剂使用"></a>抗凝剂使用</h3><ul><li>草酸盐、枸橼酸盐、EDTA钠盐、肝素等</li><li>草酸钾最常用，肝素较为常见</li></ul><h3 id="血清或血浆的分离"><a href="#血清或血浆的分离" class="headerlink" title="血清或血浆的分离"></a>血清或血浆的分离</h3><ul><li>根据检验目的需要来确定</li><li>目前最常用的化学或生化方法，大多是血清检验</li></ul><h2 id="粪便"><a href="#粪便" class="headerlink" title="粪便"></a>粪便</h2><h3 id="种类-1"><a href="#种类-1" class="headerlink" title="种类"></a>种类</h3><ul><li>常规粪便标本</li><li>浓缩粪便标本</li></ul><h3 id="保存"><a href="#保存" class="headerlink" title="保存"></a>保存</h3><ul><li>固定保存<br>  寄生虫及虫卵检测</li><li>冷藏保存<br>  有盖容器，时间不能太长</li><li>冷冻保存<br>  矿物质代谢</li><li>运输培养皿保存<br>  腹泻病人致病菌检测</li><li>0.05mol&#x2F;L硫酸保存<br>  氮平衡实验</li></ul><h3 id="意义-1"><a href="#意义-1" class="headerlink" title="意义"></a>意义</h3><ul><li>测定人体蛋白质的需要量（氮平衡法</li><li>评价食物蛋白质的营养价值（氮平衡法</li><li>研究人体矿物质（如Fe、Zn、Ca等）的需要量</li><li>评价食物中矿物质的吸收率及影响矿物质吸收的因素</li><li>监测体内矿物质随粪便的排泄情况</li></ul>]]></content>
      
      
      <categories>
          
          <category> 营养学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 营养学 </tag>
            
            <tag> 人体营养状况评定 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>素食人群</title>
      <link href="/2019/03/18/%E8%90%A5%E5%85%BB%E5%AD%A6/%E3%80%90%E4%BA%BA%E7%BE%A4%E8%90%A5%E5%85%BB%E3%80%91%E7%B4%A0%E9%A3%9F%E4%BA%BA%E7%BE%A4/"/>
      <url>/2019/03/18/%E8%90%A5%E5%85%BB%E5%AD%A6/%E3%80%90%E4%BA%BA%E7%BE%A4%E8%90%A5%E5%85%BB%E3%80%91%E7%B4%A0%E9%A3%9F%E4%BA%BA%E7%BE%A4/</url>
      
        <content type="html"><![CDATA[<h2 id="食物多样"><a href="#食物多样" class="headerlink" title="食物多样"></a>食物多样</h2><ul><li><p>食物多样化，每天选用粮谷类、大豆及其制品、蔬果和坚果</p></li><li><p>每天12种，每周25种</p></li><li><p>同类互换，粗细搭配，色彩搭配</p></li><li><p>小分量选择</p></li><li><p>多食用蛋奶类</p></li></ul><h2 id="提高谷类食物摄入量"><a href="#提高谷类食物摄入量" class="headerlink" title="提高谷类食物摄入量"></a>提高谷类食物摄入量</h2><ul><li><p>餐餐有谷物，每餐&gt;100g；不足部分利用零食、加餐和茶点补足</p></li><li><p>全谷物、杂豆类天天有；主食一半应为全谷物或杂豆类</p></li><li><p>薯类不可忘</p></li></ul><h2 id="合理利用大豆食物"><a href="#合理利用大豆食物" class="headerlink" title="合理利用大豆食物"></a>合理利用大豆食物</h2><ul><li><p>多品种变花样</p></li><li><p>发酵豆类不能缺：可以合成维B12</p></li><li><p>豆类+谷类</p></li><li><p>合理加工烹调</p></li></ul><h2 id="常吃菌菇和藻类"><a href="#常吃菌菇和藻类" class="headerlink" title="常吃菌菇和藻类"></a>常吃菌菇和藻类</h2><ul><li><p>菌菇类</p><ul><li><p>含有丰富的蛋白质、膳食纤维、维生素、矿物质、菌多糖等</p></li><li><p>素食人群b12和Fe、Zn重要来源</p></li></ul></li><li><p>藻类</p><ul><li><p>碳水：海藻多糖和膳食纤维占50%</p></li><li><p>富集微量元素能力极强</p></li><li><p>富含长链n-3多不饱和脂肪酸（EPA、DHA、DPA等</p></li></ul></li></ul><h2 id="合理选择烹调油"><a href="#合理选择烹调油" class="headerlink" title="合理选择烹调油"></a>合理选择烹调油</h2><ul><li><p>易缺乏n-3多不饱和脂肪酸，注意选择亚麻籽油、紫苏油、核桃油、菜籽油和豆油等</p></li><li><p>烹饪时依据需要的温度和耐热性选择</p><p>  菜籽油和豆油烹炒</p><p>  亚麻籽油、紫苏油、核桃油凉拌</p></li></ul><h2 id="易缺乏营养"><a href="#易缺乏营养" class="headerlink" title="易缺乏营养"></a>易缺乏营养</h2><ul><li><p>n-3多不饱和脂肪酸：亚麻籽油、紫苏油、菜籽油、核桃油、豆油、奇亚籽油、部分藻类</p></li><li><p>维生素B12：菌菇类、发酵豆制品，必要时服用B12补充剂</p></li><li><p>维生素D：强化食品，多晒太阳</p></li><li><p>Ca</p><p>  大豆、芝麻、海带、黑木耳、绿色蔬菜；奶和奶制品（蛋奶素人群</p></li><li><p>Fe</p><p>  黑木耳、黑芝麻、扁豆、大豆、坚果、苋菜、豌豆苗、菠菜等</p></li><li><p>Zn</p><p>  大豆、全谷物类、坚果、菌菇类</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> 营养学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 营养学 </tag>
            
            <tag> 人群营养 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>营养不良症状与体征判别</title>
      <link href="/2019/03/18/%E8%90%A5%E5%85%BB%E5%AD%A6/%E3%80%90%E4%BA%BA%E4%BD%93%E8%90%A5%E5%85%BB%E7%8A%B6%E5%86%B5%E8%AF%84%E5%AE%9A%E3%80%91%E8%90%A5%E5%85%BB%E4%B8%8D%E8%89%AF%E7%97%87%E7%8A%B6%E4%B8%8E%E4%BD%93%E5%BE%81%E5%88%A4%E5%88%AB/"/>
      <url>/2019/03/18/%E8%90%A5%E5%85%BB%E5%AD%A6/%E3%80%90%E4%BA%BA%E4%BD%93%E8%90%A5%E5%85%BB%E7%8A%B6%E5%86%B5%E8%AF%84%E5%AE%9A%E3%80%91%E8%90%A5%E5%85%BB%E4%B8%8D%E8%89%AF%E7%97%87%E7%8A%B6%E4%B8%8E%E4%BD%93%E5%BE%81%E5%88%A4%E5%88%AB/</url>
      
        <content type="html"><![CDATA[<h2 id="蛋白质-能量不足"><a href="#蛋白质-能量不足" class="headerlink" title="蛋白质-能量不足"></a>蛋白质-能量不足</h2><h3 id="PEM-营养评价可能判断指标"><a href="#PEM-营养评价可能判断指标" class="headerlink" title="PEM 营养评价可能判断指标"></a>PEM 营养评价可能判断指标</h3><ul><li>个人史<ul><li>先天营养不良</li><li>吸收不良</li><li>疾病或残疾</li><li>药物影响食欲</li></ul></li><li>食物&#x2F;营养史<ul><li>长期摄入食物不足</li><li>母乳不足</li><li>喂养不当</li><li>饥饿，拒食等</li></ul></li><li>人体测量<ul><li>皮褶厚度减少</li><li>BMI &lt; 18.5</li><li>儿童生长曲线</li></ul></li><li>临床表现<ul><li>消瘦型：明显消瘦，肌肉量减少，肌萎缩，皮肤干燥，毛发减少</li><li>水肿型：凹陷型水肿，肝脏肿大，皮肤干燥、毛发减少，色素沉着，精神萎靡，反应冷淡</li></ul></li><li>生化指标、临床检验<ul><li>血红蛋白浓度，血清白蛋白、血清运铁蛋白、血清甲状腺素结合前蛋白等指标下降</li></ul></li></ul><h3 id="PEM-判断工作程序"><a href="#PEM-判断工作程序" class="headerlink" title="PEM 判断工作程序"></a>PEM 判断工作程序</h3><ul><li><p>一般情况</p><p>姓名、性别、籍贯等</p></li><li><p>膳食史调查</p><ul><li>最近饮食是否规律、食欲如何</li><li>既往经常摄取的食物种类和数量</li><li>婴幼儿喂养情况：母乳、辅食</li></ul></li><li><p>个人健康状况基本资料<br>患病史：寄生虫感染、慢性腹泻、消化道疾病、消耗性疾病等</p></li><li><p>体格检查</p><ul><li>体型：消瘦、发育不良</li><li>身高、体重、头围、胸围等</li><li>与既往体重比较变化情况</li><li>外貌、表情、活动情况、精神状况等</li><li>皮肤弹性、皮下脂肪层、肌肉组织</li></ul></li><li><p>实验室检查</p><ul><li>血红蛋白：血清总蛋白、白蛋白</li><li>血清运铁蛋白、血清甲状腺素结合前蛋白，血浆视黄醇结合蛋白</li><li>血清氨基酸比值，尿肌酐，氮平衡等</li></ul></li><li><p>咨询获得相关信息</p><ul><li>发病原因或危险因素</li></ul></li></ul><h2 id="缺铁性贫血"><a href="#缺铁性贫血" class="headerlink" title="缺铁性贫血"></a>缺铁性贫血</h2><h3 id="判断要点"><a href="#判断要点" class="headerlink" title="判断要点"></a>判断要点</h3><ul><li>个人史<ul><li>吸收不良</li><li>服用影响食欲或抑制铁吸收的药物</li><li>其他代谢疾病</li></ul></li><li>食物&#x2F;营养史<ul><li>长期动物性食物摄入不足</li><li>喂养不当</li><li>节食或者限制食物类别</li><li>食物选择不当或不良膳食行为等</li></ul></li><li>临床表现<ul><li>心慌气短、头晕</li><li>畏寒，抵抗力下降</li><li>口唇、甲床、黏膜苍白</li><li>易疲劳</li><li>儿童发育迟缓，注意力不集中，认知能力障碍</li></ul></li><li>生化数据，临床检验<ul><li>血红蛋白浓度，血清铁，血清白蛋白，血清运铁蛋白，血清甲状腺素结合前白蛋白等指标下降</li><li>国内诊断标准：成年男性&lt;120g&#x2F;L，成年女性＜ 110g&#x2F;L，孕妇＜ 100g&#x2F;L</li></ul></li></ul><h2 id="骨软化病"><a href="#骨软化病" class="headerlink" title="骨软化病"></a>骨软化病</h2><h3 id="判断要点-1"><a href="#判断要点-1" class="headerlink" title="判断要点"></a>判断要点</h3><ul><li>个人史<ul><li>吸收不良</li><li>其他代谢性疾病或消化疾病</li><li>服用影响维 D 和 Ca 吸收的药物或者食物</li><li>骨质疏松、骨质软化、骨折次数</li><li>生育次数</li><li>日光照射不足</li></ul></li><li>食物&#x2F;营养史<ul><li>长期富含维 D 和 Ca 的食物摄入不足</li><li>食物选择不当的膳食行为等</li></ul></li><li>体格测量<ul><li>身高改变</li></ul></li><li>临床表现<ul><li>手足痉挛：抽搐、惊厥</li><li>骨痛、骨压痛、肌无力</li><li>X 射线检查改变：骨盆呈三叶形上口，锥体锲形骨折或双凹形变形</li></ul></li><li>生化数据、临床检查<ul><li>低血钙、低血磷、维 D（25-OH-D3 ＜ 20nmol&#x2F;L</li><li>血清碱性磷酸酶活性升高</li></ul></li></ul><h2 id="维-A-缺乏"><a href="#维-A-缺乏" class="headerlink" title="维 A 缺乏"></a>维 A 缺乏</h2><h3 id="判断要点-2"><a href="#判断要点-2" class="headerlink" title="判断要点"></a>判断要点</h3><ul><li>个人史<ul><li>吸收不良</li><li>其他代谢疾病</li><li>药物影响维 A 吸收（秋水仙碱、新霉素、消胆胺等</li></ul></li><li>食物&#x2F;营养史<ul><li>长期富含维 A 食物摄入不足</li><li>喂养不当</li><li>脂肪摄入不足</li><li>节食或者限制食物类别、偏食</li><li>食物选择不当或不良的膳食行为等</li></ul></li><li>临床表现<ul><li>夜盲症、毕托氏斑、暗适应能力下降，角膜软化</li><li>干眼症</li><li>上皮干燥，增生，毛囊过度角化</li><li>发育不良、毛发干燥、易脱落</li></ul></li><li>生化数据、临床检查<ul><li>维 A：血清视黄醇<ul><li>＜ 0.7umol&#x2F;L 为不足</li><li>＜ 0.35umol&#x2F;L 为不足</li></ul></li><li>生理盲点<ul><li>较为灵敏指标，正常为 1.8cm2，缺乏时会扩大</li></ul></li><li>眼结膜印记细胞学法</li></ul></li></ul><h2 id="维-C-缺乏"><a href="#维-C-缺乏" class="headerlink" title="维 C 缺乏"></a>维 C 缺乏</h2><h3 id="判断要点-3"><a href="#判断要点-3" class="headerlink" title="判断要点"></a>判断要点</h3><ul><li>个人史<ul><li>吸收不良</li><li>代谢异常</li><li>服用影响维 C 代谢的食物或药物</li></ul></li><li>食物&#x2F;营养史<ul><li>长期富含维 C 食物摄入不足</li><li>喂养不当</li><li>节食或限制食物类别、偏食</li><li>食物选择不当或不良的膳食行为等</li></ul></li><li>临床表现<ul><li>疲劳、困倦</li><li>牙龈肿胀出血、皮下出血、瘀斑</li><li>关节液渗出、关节疼痛</li></ul></li><li>生化指标、临床检验<ul><li>血浆维 C：≤2mg&#x2F;L（11.4umol&#x2F;L），反映近期维 C 摄入情况</li><li>白细胞维 C：≤2ug&#x2F;（108 细胞），反应机体储存情况</li><li>毛细血管酸性实验：出血点数目反应毛细血管受损程度</li><li>维 C 尿负荷实验：口服 500mg，收集 4h 尿液，≥13mg&#x2F;L 正常，＜ 5mg&#x2F;L 是缺乏</li><li>治疗实验：协助诊断</li></ul></li></ul><h2 id="维-B2-缺乏"><a href="#维-B2-缺乏" class="headerlink" title="维 B2 缺乏"></a>维 B2 缺乏</h2><h3 id="判断要点-4"><a href="#判断要点-4" class="headerlink" title="判断要点"></a>判断要点</h3><ul><li>个人史<ul><li>吸收不良</li><li>其他代谢疾病</li><li>服药或食物影响</li></ul></li><li>膳食&#x2F;营养史<ul><li>长期富含维 B2 食物摄入不足</li><li>喂养不当</li><li>节食或者限制食物类别、偏食</li><li>食物选择不当或不良膳食行为</li></ul></li><li>临床表现<ul><li>眼球结膜充血</li><li>喉咙疼痛，咽、口腔粘膜水肿充血，口角炎、舌炎、唇炎</li><li>脂溢性皮炎</li><li>贫血</li></ul></li><li>临床检查<ul><li>红细胞核黄素检查</li><li>尿核黄素检查</li><li>核黄素尿负荷检查</li><li>全血 谷胱甘肽还原酶活力系数测定</li></ul></li></ul><h2 id="Zn-缺乏"><a href="#Zn-缺乏" class="headerlink" title="Zn 缺乏"></a>Zn 缺乏</h2><h3 id="判断要点-5"><a href="#判断要点-5" class="headerlink" title="判断要点"></a>判断要点</h3><ul><li>个人史<ul><li>营养不良或吸收障碍</li><li>服用药物&#x2F;食物影响</li><li>代谢性疾病</li></ul></li><li>食物&#x2F;营养史<ul><li>食欲不振、异食癖</li><li>富含 Zn 的食物摄入不足</li><li>喂养不当</li><li>节食或限制食物类别、偏食</li><li>食物选择不当或不良膳食行为等</li></ul></li><li>人体测量<ul><li>身高、体重等指标低于正常范围</li><li>儿童生长发育迟缓</li></ul></li><li>临床表现<ul><li>儿童性器官发育不良</li><li>皮肤干燥粗糙，毛发稀少发黄</li><li>指甲变脆，匙状舌</li><li>口腔溃疡、口角炎</li><li>反复呼吸道感染或消化道感染</li><li>嗜睡、情绪波动</li><li>伤口愈合不良，味觉嗅觉障碍</li></ul></li><li>生化指标<ul><li>发、尿、血清&#x2F;血浆Zn</li><li>有缺锌表现，血锌或发锌不低者，补锌后营养及临床症状得到改善</li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> 营养学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 营养学 </tag>
            
            <tag> 人体营养状况评定 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>膳食调查与评价</title>
      <link href="/2019/03/18/%E8%90%A5%E5%85%BB%E5%AD%A6/%E3%80%90%E8%86%B3%E9%A3%9F%E8%B0%83%E6%9F%A5%E3%80%91%E8%86%B3%E9%A3%9F%E8%B0%83%E6%9F%A5%E4%B8%8E%E8%AF%84%E4%BB%B7/"/>
      <url>/2019/03/18/%E8%90%A5%E5%85%BB%E5%AD%A6/%E3%80%90%E8%86%B3%E9%A3%9F%E8%B0%83%E6%9F%A5%E3%80%91%E8%86%B3%E9%A3%9F%E8%B0%83%E6%9F%A5%E4%B8%8E%E8%AF%84%E4%BB%B7/</url>
      
        <content type="html"><![CDATA[<h2 id="24h回顾法"><a href="#24h回顾法" class="headerlink" title="24h回顾法"></a>24h回顾法</h2><h3 id="应用"><a href="#应用" class="headerlink" title="应用"></a>应用</h3><ul><li><p>调查和记录</p><ul><li><p>所有食物的种类和数量</p><p>  零食、水果、饮料等</p></li><li><p>居家、在外用餐的种类和数量</p></li><li><p>不包含调味品</p></li><li><p>按照食物的几大类回顾，避免遗漏</p></li></ul></li><li><p>引导回顾记录要点</p><p>  食物图谱或常用容器</p></li><li><p>弥补调查不足</p><p>  调味品：称重法</p></li><li><p>资料核查</p><p>  双份录入；核实、查错、清理</p></li><li><p>个人人日数计算</p></li></ul><h2 id="称重记账法"><a href="#称重记账法" class="headerlink" title="称重记账法"></a>称重记账法</h2><h3 id="计算"><a href="#计算" class="headerlink" title="计算"></a>计算</h3><ul><li><p>食物实际消费量</p><p>  家庭食物实际消费量&#x3D;购入量+实验开始的结存量-废弃量-剩余量</p></li><li><p>每人每日各种食物摄入量</p><p>  家庭平均每人每日每种食物摄入量&#x3D;实际消费类&#x2F;家庭总人日数</p></li><li><p>每人每日各种营养素摄入量</p><ul><li>食物中某营养素含量&#x3D;（（食物克数&#x2F;100）* 可食比例）* 每百克食物中营养素含量</li><li>家庭某种营养素总摄入量&#x3D;家庭所有摄入食物中某种营养素总和</li><li>平均每人每日某营养素摄入量&#x3D;家庭某种营养素摄入总量&#x2F;家庭人日数</li></ul></li><li><p>标准人概念及计算方法</p><ul><li><p>标准人</p><p>  18-29岁65kg成年男子从事轻体力劳动，能量为2150kcal&#x2F;d</p></li><li><p>标准人系数（折合系数</p><p>  其他各类人员的能量推荐值&#x2F;2150</p></li><li><p>标准人日数&#x3D;标准人系数*人日数</p></li><li><p>混合系数&#x3D;全家总标准人日数&#x2F;全家总人日数</p></li><li><p>标准人平均每日某营养素摄入量&#x3D;平均人每日某营养素摄入量&#x2F;混合系数</p></li></ul></li></ul><h2 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h2><ul><li><p>称量各种食物的可食部</p><p>  市品：转化为可食部</p></li><li><p>不要忽略小杂粮和零食的登记，注意调味品的实际称量</p></li><li><p>根据餐次比来折算人日数<br>  家庭食物称重法在外就餐不计算在餐次总数种</p></li><li><p>调查结果有代表性和真实性，不同季节分次调查，至少冬春季节和夏秋季节各调查一次</p></li><li><p>如果不需要个人数据，平均每人摄入量&#x3D;（总熟重-剩余量）&#x2F;进餐人数</p></li></ul><h2 id="膳食结构的分析和评价"><a href="#膳食结构的分析和评价" class="headerlink" title="膳食结构的分析和评价"></a>膳食结构的分析和评价</h2><h3 id="流程"><a href="#流程" class="headerlink" title="流程"></a>流程</h3><ul><li><p>食物分析</p><p>  按照食物成分表找到食物编码和分类</p></li><li><p>食物归类</p><ul><li>按《平衡膳食宝塔》归类</li><li>相当于大豆量&#x3D;摄入量*蛋白质含量&#x2F;35.1</li><li>相当于鲜奶量&#x3D;摄入量*蛋白质量&#x2F;3</li></ul></li><li><p>食物摄入量计算填写</p></li><li><p>比较分析 种类齐全，数量充足</p><ul><li>各类食物种类是否齐全</li><li>各类食物消费量是否充足</li></ul></li><li><p>评价</p></li><li><p>建议</p></li></ul><h3 id="摄入量计算与评价"><a href="#摄入量计算与评价" class="headerlink" title="摄入量计算与评价"></a>摄入量计算与评价</h3><ul><li><p>产能营养素</p><p>  碳水、蛋白质、脂肪</p></li><li><p>能量营养素来源分布计算</p><p>  蛋白质、脂肪、碳水供能比</p></li><li><p>能量食物来源</p><p>  <strong>谷类及其制品、薯类、豆类、动物性食物、纯热能食物、其他</strong></p></li><li><p>蛋白质食物来源分布计算</p><ul><li>各类食物提供的蛋白质摄入量、蛋白质总和</li><li>优质蛋白质占总蛋白质的百分比</li></ul></li><li><p>脂肪食物来源分布计算</p><ul><li>动物性和植物性食物提供的脂肪摄入量和脂肪总量</li><li>各类食物提供的脂肪占总脂肪的百分比</li></ul></li><li><p>三餐能量供能比</p></li><li><p>评价方法</p><p>  依据中国膳食指南营养素参考摄入量</p><p>  ±10%合理</p></li></ul><h3 id="计算-1"><a href="#计算-1" class="headerlink" title="计算"></a>计算</h3><h4 id="评价依据和方法"><a href="#评价依据和方法" class="headerlink" title="评价依据和方法"></a>评价依据和方法</h4><p>中国居民营养素参考摄入量</p><h4 id="工作程序"><a href="#工作程序" class="headerlink" title="工作程序"></a>工作程序</h4><ul><li><p>计算家庭中平均每人每日各种食物的摄入量</p><blockquote><p>平均每人每日各种食物摄入量&#x3D;家庭总摄入量&#x2F;总人日数</p></blockquote></li><li><p>家庭混合系数</p><blockquote><p>家庭混合系数&#x3D;（成员1标准人系数*人日数+成员2标准人系数 *人日数…）&#x2F; 家庭总人日数 </p></blockquote></li><li><p>标准人的每日每种食物摄入量</p><blockquote><p>标准人每日每种食物摄入量&#x3D;平均每人每日食物摄入量&#x2F;家庭混合系数</p></blockquote></li><li><p>计算平均每人每日营养素和能量摄入量</p><p>  根据《食物成分表》中各种食物的能量及营养素含量，计算每人每日膳食总营养素摄入量</p><blockquote><p>平均每人每日某种营养素摄入量&#x3D;个人某种营养素总摄入量&#x2F;个人人日数</p></blockquote><blockquote><p>标准人平均每日某种营养素摄入量&#x3D;平均每人每日某种营养素摄入量&#x2F;标准人系数</p></blockquote></li><li><p>膳食营养素评价</p><p>  将计算的各种营养素含量与DRIs比较，评价个体或群体是否达标</p></li><li><p>数据归档</p></li></ul><h2 id="数据库建立"><a href="#数据库建立" class="headerlink" title="数据库建立"></a>数据库建立</h2><h3 id="变量和编码"><a href="#变量和编码" class="headerlink" title="变量和编码"></a>变量和编码</h3><ul><li>调查对象编码，变量名为ID，长度至少两位</li><li>食物编码，变量名为D1，长度至少六位</li><li>食物质量。变量名为D2，长度至少3位</li><li>进食时间。变量名为D3，长度至少1位</li><li>进食地点，变量名为D4，长度至少1位</li></ul><h3 id="数据库建立-1"><a href="#数据库建立-1" class="headerlink" title="数据库建立"></a>数据库建立</h3><ul><li>基本结构<ul><li>原始数据层：用户加工对象</li><li>概念数据层：数据库的整体逻辑显示</li><li>逻辑数据层：用户看到和使用的数据库</li></ul></li><li>特点<ul><li>数据共享</li><li>数据独立性</li><li>数据一致性和可维护性<ul><li>安全性控制</li><li>完整性控制</li><li>并发控制</li><li>故障发现和恢复</li></ul></li><li>减少数据冗余性</li><li>数据实现集中控制</li></ul></li></ul><h3 id="注意事项-1"><a href="#注意事项-1" class="headerlink" title="注意事项"></a>注意事项</h3><ul><li>根据各种调查表特有的结构建立数据库结构</li><li>建立数据库的结构过程中允许限定变量的取值范围，设定取值范围可以避免数据录入错误，提高数据质量</li></ul>]]></content>
      
      
      <categories>
          
          <category> 营养学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 营养学 </tag>
            
            <tag> 膳食调查 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>常量矿物质</title>
      <link href="/2019/03/18/%E8%90%A5%E5%85%BB%E5%AD%A6/%E3%80%90%E8%90%A5%E5%85%BB%E5%AD%A6%E5%9F%BA%E7%A1%80%E3%80%91%E5%B8%B8%E9%87%8F%E7%9F%BF%E7%89%A9%E8%B4%A8/"/>
      <url>/2019/03/18/%E8%90%A5%E5%85%BB%E5%AD%A6/%E3%80%90%E8%90%A5%E5%85%BB%E5%AD%A6%E5%9F%BA%E7%A1%80%E3%80%91%E5%B8%B8%E9%87%8F%E7%9F%BF%E7%89%A9%E8%B4%A8/</url>
      
        <content type="html"><![CDATA[<h2 id="Ca"><a href="#Ca" class="headerlink" title="Ca"></a>Ca</h2><h3 id="分布"><a href="#分布" class="headerlink" title="分布"></a>分布</h3><p>约占体重2%，体内含量1000-1200mg</p><p>99%的Ca在骨骼和牙齿，存在形式为羟磷灰石</p><p>少部分以游离或结合钙的形式存在，存在于软骨组织、细胞外液和血液中，统称为混溶钙池</p><h3 id="影响吸收因素"><a href="#影响吸收因素" class="headerlink" title="影响吸收因素"></a>影响吸收因素</h3><ul><li><p>吸收部位</p><p>  小肠上段，需要通过1.25-(OH)2P3（活性维D）参与</p></li><li><p>不利</p><ul><li><p>植酸、草酸、过多膳食纤维、碱性磷酸钙盐、脂肪</p><p>  与钙结合形成不溶性物质</p></li><li><p>蛋白质摄入过多</p><p>  促进钙排出</p></li><li><p>抗酸药、四环素、肝素等</p></li></ul></li><li><p>有利</p><p>  适量维D</p><p>  某些氨基酸（赖氨酸、精氨酸、色氨酸）</p><p>  乳糖</p><p>  适量钙磷比</p></li><li><p>年龄</p><p>  吸收率：婴儿50%，儿童40%，成人20%</p></li><li><p>需要量</p><p>  孕期和哺乳期需要量大，吸收率高</p></li></ul><h3 id="功能"><a href="#功能" class="headerlink" title="功能"></a>功能</h3><ul><li><p>形成和维持骨骼牙齿结构</p></li><li><p>维持肌肉和神经正常活动</p><p>  离子Ca</p></li><li><p>参与血凝过程</p><p>  离子Ca</p></li><li><p>其他</p><ul><li><p>参与调节、激活酶活性</p></li><li><p>对细胞吞噬、激素分泌有影响</p></li></ul></li></ul><h3 id="摄入不平衡危害"><a href="#摄入不平衡危害" class="headerlink" title="摄入不平衡危害"></a>摄入不平衡危害</h3><h4 id="不足"><a href="#不足" class="headerlink" title="不足"></a>不足</h4><ul><li><p>原因</p><ul><li>摄入不足</li><li>吸收率低</li><li>需要量升高</li><li>运动减少</li></ul></li><li><p>缺乏症</p><ul><li>婴儿期手足抽搐</li><li>儿童期佝偻病</li><li>成人骨质疏松</li></ul></li><li><p>预防</p><ul><li>合理膳食，适当摄入Ca，维D食物</li><li>进行户外活动</li><li>形成Ca吸收因素</li></ul></li></ul><h4 id="过量危害"><a href="#过量危害" class="headerlink" title="过量危害"></a>过量危害</h4><ul><li>增加肾结石的风险、肾功能障碍</li><li>奶碱综合征、高钙血症、碱中毒</li><li>影响其他维生素的吸收（Fe、Mg、Zn、P</li></ul><h3 id="来源"><a href="#来源" class="headerlink" title="来源"></a>来源</h3><ul><li>奶及奶制品（最好</li><li>豆类</li><li>绿色蔬菜</li><li>各种瓜子</li></ul><h2 id="P"><a href="#P" class="headerlink" title="P"></a>P</h2><p>约占体重1%，85%在骨骼和牙齿，14%在软组织和体液</p><h3 id="功能-1"><a href="#功能-1" class="headerlink" title="功能"></a>功能</h3><ul><li>构成骨骼和牙齿</li><li>组织细胞中很多重要成分的原料（核酸、酶</li><li>参与糖、脂肪吸收及代谢</li><li>对能量的转移，酸碱平衡维持</li></ul><h3 id="缺乏危害"><a href="#缺乏危害" class="headerlink" title="缺乏危害"></a>缺乏危害</h3><p>一般不易缺乏，早产儿缺乏出现佝偻病样骨骼异常</p><h3 id="影响吸收因素-1"><a href="#影响吸收因素-1" class="headerlink" title="影响吸收因素"></a>影响吸收因素</h3><p>在十二指肠、空肠吸收</p><ul><li>肠道吸收率因P的存在形式和数量变动，酸性无机磷酸盐易吸收</li><li>母乳喂养吸收率高</li><li>肠道酸度越高，维D有利于吸收</li><li>金属阳离子（Ca、Mg、Zn、Al）与p合成不溶性磷酸盐导致不利于吸收</li></ul><h3 id="来源-1"><a href="#来源-1" class="headerlink" title="来源"></a>来源</h3><ul><li>瘦肉、鱼、蛋、干酪、蛤蜊、动物肝脏</li><li>海带、芝麻酱、花生、干豆、坚果</li><li>粮谷类中的为植酸磷，吸收利用率低</li></ul><h2 id="Mg"><a href="#Mg" class="headerlink" title="Mg"></a>Mg</h2><p>成人25g，60-65%在骨骼牙齿，27%存在于软组织</p><h3 id="功能-2"><a href="#功能-2" class="headerlink" title="功能"></a>功能</h3><ul><li>维持骨骼生长和神经肌肉活性</li><li>激活酶的活性  酶的辅酶</li><li>抑制K、Ca通道</li><li>维护胃肠道功能</li></ul><h3 id="缺乏危害-1"><a href="#缺乏危害-1" class="headerlink" title="缺乏危害"></a>缺乏危害</h3><ul><li><p>原因</p><p>  摄入不足、吸收障碍、丢失过多</p></li><li><p>危害</p><ul><li>导致神经肌肉兴奋性亢进</li><li>房室性早搏、房颤、室颤</li><li>血压升高、胰岛素抵抗、骨质疏松</li></ul></li></ul><h3 id="影响吸收因素-2"><a href="#影响吸收因素-2" class="headerlink" title="影响吸收因素"></a>影响吸收因素</h3><ul><li>有利<ul><li>摄入少但吸收率高</li><li>氨基酸、乳糖、维D</li></ul></li><li>不利<ul><li>摄入多，但吸收率低</li><li>过多P、植酸、草酸、膳食纤维</li><li>与Ca竞争性吸收</li></ul></li></ul><h3 id="来源-2"><a href="#来源-2" class="headerlink" title="来源"></a>来源</h3><ul><li>绿叶菜</li><li>粗粮</li><li>坚果</li><li>肉、淀粉、牛奶–中等含量</li><li>精制食物 – 含量低</li></ul><h2 id="Na"><a href="#Na" class="headerlink" title="Na"></a>Na</h2><p>0.15%体重，主要在细胞外液中</p><h3 id="生理功能"><a href="#生理功能" class="headerlink" title="生理功能"></a>生理功能</h3><ul><li>调节身体水分和渗透压</li><li>钠泵</li><li>维持酸碱平衡</li><li>维持血压正常</li><li>增强神经肌肉兴奋性</li></ul><h3 id="过量"><a href="#过量" class="headerlink" title="过量"></a>过量</h3><p>一般不易缺乏，过量会导致高血压、心血管疾病、胃癌、结肠癌</p><h3 id="来源-3"><a href="#来源-3" class="headerlink" title="来源"></a>来源</h3><ul><li>动物&gt;zhiwu1</li><li>主要是食盐、酱油、腌渍或腌渍肉</li></ul><h2 id="K"><a href="#K" class="headerlink" title="K"></a>K</h2><p>98%在细胞内，其他存在于细胞外</p><h3 id="功能-3"><a href="#功能-3" class="headerlink" title="功能"></a>功能</h3><ul><li>维持细胞正常渗透压</li><li>维持酸碱平衡</li><li>维持神经肌肉应激性和生理功能</li><li>维持心肌正常</li><li>维持糖、蛋白质正常代谢</li><li>预防高血压（高K低Na治疗</li></ul><h3 id="缺乏"><a href="#缺乏" class="headerlink" title="缺乏"></a>缺乏</h3><p>在神经肌肉、消化、心血管、泌尿、中枢神经等系统发生病理性或功能性病变</p><h3 id="来源-4"><a href="#来源-4" class="headerlink" title="来源"></a>来源</h3><p>蔬果最好，大部分都含有</p>]]></content>
      
      
      <categories>
          
          <category> 营养学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 营养学 </tag>
            
            <tag> 营养学基础 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>微量元素</title>
      <link href="/2019/03/18/%E8%90%A5%E5%85%BB%E5%AD%A6/%E3%80%90%E8%90%A5%E5%85%BB%E5%AD%A6%E5%9F%BA%E7%A1%80%E3%80%91%E5%BE%AE%E9%87%8F%E5%85%83%E7%B4%A0/"/>
      <url>/2019/03/18/%E8%90%A5%E5%85%BB%E5%AD%A6/%E3%80%90%E8%90%A5%E5%85%BB%E5%AD%A6%E5%9F%BA%E7%A1%80%E3%80%91%E5%BE%AE%E9%87%8F%E5%85%83%E7%B4%A0/</url>
      
        <content type="html"><![CDATA[<h2 id="Fe"><a href="#Fe" class="headerlink" title="Fe"></a>Fe</h2><p>体内4-5g</p><h3 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h3><ul><li><p>功能性Fe</p><ul><li>主要存在形式：血红蛋白、肌红蛋白</li><li>含Fe酶类：细胞色素、细胞色素酶、过氧化物酶、过氧化氢酶</li></ul></li><li><p>储存性Fe</p><ul><li>铁蛋白</li><li>含铁血黄素</li></ul></li><li><p>运输性Fe</p><ul><li>运铁蛋白</li></ul></li></ul><h3 id="生理功能"><a href="#生理功能" class="headerlink" title="生理功能"></a>生理功能</h3><ul><li>参与O2和CO2的转运、交换、组织呼吸过程</li><li>血红蛋白、肌红蛋白、细胞色素A及一些呼吸酶主要成分  </li><li>提高抗体免疫力</li><li>催化产生β-胡萝卜素转为维A</li><li>参与嘌呤（正铁血红素）、胶原合成，抗体产生</li><li>脂类在血液中转运，药物的肝脏解毒</li></ul><h3 id="不足"><a href="#不足" class="headerlink" title="不足"></a>不足</h3><ul><li><p>原因</p><ul><li>需要量增加</li><li>摄入降低</li><li>吸收减少</li><li>消耗增加</li></ul></li><li><p>表现</p><ul><li>缺铁性贫血，贫血貌，肝脾肿大</li><li>黏膜组织变化（舌炎、口腔炎、舌乳头萎缩，镜面舌）</li><li>免疫功能和抗感染能力下降</li><li>影响生长和智力发育，活动和劳动耐力下降</li><li>皮肤干燥，毛发枯黄，反甲，指甲变薄</li><li>神经精神系统异常，如异食癖</li></ul></li></ul><h3 id="缺乏阶段"><a href="#缺乏阶段" class="headerlink" title="缺乏阶段"></a>缺乏阶段</h3><ul><li>储存铁减少期<br>  血清铁蛋白减少</li><li>红细胞生成铁缺少期<br>  血清铁蛋白减少，血清铁减少，运铁蛋白浓度下降，总铁结合力下降，游离原卟啉浓度上升</li><li>缺铁性贫血<br>  除上述两个阶段表现外，还包含血红蛋白下降，红细胞压积下降</li></ul><p>血红蛋白实验室检查</p><pre><code>男＜120g/L,女＜110g/L孕妇＜100g/L</code></pre><h3 id="预防缺乏措施"><a href="#预防缺乏措施" class="headerlink" title="预防缺乏措施"></a>预防缺乏措施</h3><ul><li>健康教育，Fe强化食品</li><li>Fe补充，提高食物Fe利用率（维B2、A</li><li>合理搭配食物</li></ul><h3 id="铁过量"><a href="#铁过量" class="headerlink" title="铁过量"></a>铁过量</h3><ul><li><p>急性<br>  多见于儿童，消化道内出血（主要症状</p></li><li><p>慢性</p><p>  消化道内Fe吸收过多，肠道外输入过多Fe</p><p>  血色素沉着障碍</p></li><li><p>Fe过载</p><ul><li>肝脏<br>  主要靶器官，过量Fe可使肝纤维化、肝硬化、肝细胞瘤</li><li>糖尿病<br>  与Fe过载有关</li><li>心血管疾病<br>  催化自由基生成，促进脂蛋白过氧化，形成氧化LDL-C</li><li>癌症<br>  氧化和抗氧化系统失衡，诱发突变</li></ul></li></ul><h3 id="影响吸收因素"><a href="#影响吸收因素" class="headerlink" title="影响吸收因素"></a>影响吸收因素</h3><ul><li>非血红素铁<br>  三价铁：植物性食物，乳制品<ul><li>受铁需要量和储存量影响</li><li>不利：植酸盐、草酸、茶叶、咖啡的多酚类物质、胃酸缺乏、服用过多抗酸药物</li><li>有利：维C、某些单糖、有机酸、动物肉，核黄素（B12</li></ul></li><li>血红素铁<br>  二价铁，动物性食物<ul><li>不受植酸磷酸影响</li><li>受铁需要量和储存量影响</li></ul></li></ul><h3 id="来源"><a href="#来源" class="headerlink" title="来源"></a>来源</h3><ul><li>动物性食物，肝脏，全血，畜禽肉、鱼类</li><li>蛋：较低，3%吸收率</li><li>植物吸收率＜动物</li><li>乳：贫铁食物</li></ul><h2 id="Zn"><a href="#Zn" class="headerlink" title="Zn"></a>Zn</h2><h3 id="功能"><a href="#功能" class="headerlink" title="功能"></a>功能</h3><ul><li>酶的催化<br>  近百种酶需要Zn的催化</li><li>结构<br>  含Zn酶或其他蛋白有200+</li><li>调节<ul><li>控制细胞Zn水平</li><li>调节机体免疫功能</li><li>调节胰岛素释放</li><li>调节前列腺素的主动分泌过程</li></ul></li></ul><h3 id="缺乏"><a href="#缺乏" class="headerlink" title="缺乏"></a>缺乏</h3><ul><li>原因<ul><li>摄入减少</li><li>需求增加</li><li>肠道吸收障碍，吸收率降低</li><li>丢失Zn增加</li><li>疾病</li></ul></li><li>表现<ul><li>生长发育障碍</li><li>性发育障碍和性功能低下</li><li>味觉及嗅觉障碍：异食癖，食欲缺乏</li><li>贫血貌</li><li>匙状甲，</li><li>皮肤症状：口角炎，萎缩性舌炎，皮肤过度角化，对称性糜烂</li><li>其他：伤口不易愈合、精神障碍、免疫功能下降</li></ul></li><li>判断<ul><li>症状</li><li>发、尿、血清Zn  实验室检查</li></ul></li><li>预防<ul><li>原发性缺：<ul><li>调整膳食，增加动物性食物摄入，高危人群采取预防措施</li></ul></li><li>继发性<br>  治疗原发病，及时补充</li></ul></li></ul><h3 id="过量"><a href="#过量" class="headerlink" title="过量"></a>过量</h3><ul><li>一次性摄入9g以上</li><li>长期100mg&#x2F;d导致贫血，免疫功能下降</li><li>长期25mg&#x2F;d，引发铜继发性缺乏</li></ul><h3 id="来源-1"><a href="#来源-1" class="headerlink" title="来源"></a>来源</h3><ul><li>贝壳海产品</li><li>红肉</li><li>内脏</li></ul><h2 id="I"><a href="#I" class="headerlink" title="I"></a>I</h2><p>甲状腺素</p><h3 id="功能-1"><a href="#功能-1" class="headerlink" title="功能"></a>功能</h3><ul><li>参与能力代谢</li><li>促进代谢和生长发育</li><li>促进神经系统发育</li><li>垂体激素作用</li></ul><h3 id="缺乏："><a href="#缺乏：" class="headerlink" title="缺乏："></a>缺乏：</h3><ul><li>原因<br>  环境、食物、土壤破坏</li><li>表现<br>  甲状腺肿；克汀病；流产；先天畸形、死亡率升高</li><li>预防<ul><li>加碘盐</li><li>孕妇多吃含碘食物</li></ul></li></ul><h3 id="过量-1"><a href="#过量-1" class="headerlink" title="过量"></a>过量</h3><ul><li>高碘性甲状腺肿</li><li>碘性甲亢</li></ul><h3 id="来源-2"><a href="#来源-2" class="headerlink" title="来源"></a>来源</h3><ul><li>海洋生物</li><li>动物＞植物，蛋奶&gt;肉&gt;海鱼</li></ul><h2 id="硒"><a href="#硒" class="headerlink" title="硒"></a>硒</h2><p>2-3mg总量，分布于人体组织器官、体液，肾浓度最高，脂肪含量最低</p><h3 id="功能-2"><a href="#功能-2" class="headerlink" title="功能"></a>功能</h3><ul><li>构成硒蛋白和含硒酶：谷胱甘肽过氧化物酶、硫氧还原蛋白还原酶，碘甲状腺原氨脱碘酶等</li><li>抗氧化作用</li><li>甲状腺激素调节作用</li><li>抗癌作用 肝癌、肺癌、前列腺癌、结直肠癌的发生率及总癌发生率，降低死亡率</li><li>维持正常细胞免疫 对于保持细胞免疫和体液免疫是必须的</li></ul><h3 id="缺乏-1"><a href="#缺乏-1" class="headerlink" title="缺乏"></a>缺乏</h3><ul><li>原因<br>  环境，饮食</li><li>表现<br>  克山病，大骨节病</li><li>预防<br>  多吃富硒食物；提高农作物硒含量；补硒</li></ul><h3 id="过多"><a href="#过多" class="headerlink" title="过多"></a>过多</h3><pre><code>中毒，头发脱落，指甲变性，严重时死亡</code></pre><h3 id="来源-3"><a href="#来源-3" class="headerlink" title="来源"></a>来源</h3><pre><code>- 海洋性食物- 肝肾及肉类</code></pre>]]></content>
      
      
      <categories>
          
          <category> 营养学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 营养学 </tag>
            
            <tag> 营养学基础 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>碳水</title>
      <link href="/2019/03/18/%E8%90%A5%E5%85%BB%E5%AD%A6/%E3%80%90%E8%90%A5%E5%85%BB%E5%AD%A6%E5%9F%BA%E7%A1%80%E3%80%91%E7%A2%B3%E6%B0%B4/"/>
      <url>/2019/03/18/%E8%90%A5%E5%85%BB%E5%AD%A6/%E3%80%90%E8%90%A5%E5%85%BB%E5%AD%A6%E5%9F%BA%E7%A1%80%E3%80%91%E7%A2%B3%E6%B0%B4/</url>
      
        <content type="html"><![CDATA[<h2 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h2><h3 id="糖"><a href="#糖" class="headerlink" title="糖"></a>糖</h3><p>1-2个糖分子</p><ul><li><p>单糖</p><p>  葡萄糖、半乳糖、果糖</p><p>  葡萄糖+乳糖合成乳糖</p><p>  半乳糖+果糖合成蔗糖</p></li><li><p>双糖</p><p>  蔗糖、乳糖（来源乳制品）、麦芽糖、海藻糖</p><p>  单双糖来源：蔗糖、果糖、甜食、蜂蜜等</p></li><li><p>糖醇</p><p>  三梨醇、甘露糖醇</p></li></ul><h3 id="寡糖"><a href="#寡糖" class="headerlink" title="寡糖"></a>寡糖</h3><p>3-9个糖分子</p><ul><li><p>异麦芽低聚寡糖<br>  麦芽糊精</p></li><li><p>其他寡糖<br>  棉子糖、水苏糖、低聚果糖</p></li></ul><h3 id="多糖"><a href="#多糖" class="headerlink" title="多糖"></a>多糖</h3><p>≥10个糖分子</p><ul><li><p>淀粉</p><p>  直链淀粉（易吸收）、支链淀粉（不易吸收）、变性淀粉</p><p>  粮谷类、薯类</p></li><li><p>非淀粉多糖</p><p>  纤维素、半纤维素、果胶、亲水胶质物</p></li></ul><h2 id="淀粉分类"><a href="#淀粉分类" class="headerlink" title="淀粉分类"></a>淀粉分类</h2><h3 id="淀粉分子分类"><a href="#淀粉分子分类" class="headerlink" title="淀粉分子分类"></a>淀粉分子分类</h3><ul><li><p>直链</p></li><li><p>支链</p></li></ul><h3 id="淀粉粒"><a href="#淀粉粒" class="headerlink" title="淀粉粒"></a>淀粉粒</h3><p>淀粉分子间相互形成的结构</p><ul><li><p>与食物加工时间、温度有关</p></li><li><p>糊化（温度升高，易吸收</p></li><li><p>老化、回生（温度降低</p></li></ul><h3 id="α-淀粉酶水解时间"><a href="#α-淀粉酶水解时间" class="headerlink" title="α-淀粉酶水解时间"></a>α-淀粉酶水解时间</h3><ul><li><p>快消淀粉</p><p>  20min</p></li><li><p>慢消淀粉</p><p>  20min-120min</p></li><li><p>抗性淀粉</p><p>  与淀粉分子结构和食物加工有关</p></li></ul><h2 id="消化吸收"><a href="#消化吸收" class="headerlink" title="消化吸收"></a>消化吸收</h2><h3 id="消化"><a href="#消化" class="headerlink" title="消化"></a>消化</h3><ul><li><p>口腔唾液淀粉酶，胃内几乎不消化</p></li><li><p>小肠（主要场所</p><ul><li><p>胰消化酶</p></li><li><p>肠腔消化</p><ul><li><p>胰蛋白酶：麦芽糖、麦芽三糖</p></li><li><p>大肠: 异麦芽糖、少量葡萄糖等</p></li></ul></li></ul></li><li><p>结肠</p><p>  不消化的碳水：肠道菌群，发酵消化</p><p>  H2、甲烷气、CO2、短链脂肪酸</p></li></ul><h3 id="吸收"><a href="#吸收" class="headerlink" title="吸收"></a>吸收</h3><ul><li><p>空肠（主要</p></li><li><p>吸收途径</p><p>  血液循环（大部分）</p><p>  淋巴循环（小部分</p></li><li><p>吸收过程</p><p>  主动扩散、主动吸收</p></li></ul><h2 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h2><ul><li><p>提供存储能量</p><p>  糖原是肌肉和肝脏部位碳水的储藏形式</p></li><li><p>构成机体组织的重要物质</p><ul><li>主要以糖脂、糖蛋白和蛋白多糖的形式存在</li><li>分布在细胞膜、细胞器膜、细胞间质中</li><li>糖脂是细胞与神经组织的结构成分之一</li></ul></li><li><p>节约蛋白质<br>  充足的碳水能预防减少蛋白质的消耗</p></li><li><p>抗生酮<br>  碳水不足时，脂肪氧化不彻底而产生过多的酮体，导致酮血症或者酮尿症</p></li><li><p>解毒<br>  碳水代谢产生的葡萄糖醛酸是体内重要的结合解毒剂</p></li><li><p>增强肠道功能<br>  非淀粉多糖类可以刺激肠道蠕动</p></li></ul><h2 id="GI（血糖生成指数"><a href="#GI（血糖生成指数" class="headerlink" title="GI（血糖生成指数"></a>GI（血糖生成指数</h2><p>餐后不同食物血糖耐量曲线在基线内面积与标准糖（50g葡萄糖）耐量面积比</p><p>反映碳水与血糖的关系，是评价碳水生理效应的直观指标</p><p>低GI：≤55</p><p>中：55-70</p><p>高：≥70</p><h3 id="影响因素"><a href="#影响因素" class="headerlink" title="影响因素"></a>影响因素</h3><ul><li>食物烹调加工方式</li><li>食物其他成分含量</li><li>胃排空率、胰岛素反应强度、咀嚼程度、小肠中淀粉酶的含量</li></ul><h3 id="意义"><a href="#意义" class="headerlink" title="意义"></a>意义</h3><ul><li><p>GI↑，进入肠胃后消化越快，血糖波动大</p></li><li><p>GI越低，在肠胃内停留时间越长，释放缓慢，血糖波动小</p></li><li><p>慢性病以及肥胖患者选择食物的依据</p></li><li><p>居民营养教育，运动员膳食管理，食欲研究等</p></li></ul><h2 id="CL（食物血糖负荷"><a href="#CL（食物血糖负荷" class="headerlink" title="CL（食物血糖负荷"></a>CL（食物血糖负荷</h2><ul><li>体现碳水量对血糖影响</li><li>GL&#x3D;GI*单位质量食物中可利用碳水的的量&#x2F;100</li><li>高GL：＞20；中GL：11-19；低GL：＜10</li></ul><h2 id="食物碳水评价"><a href="#食物碳水评价" class="headerlink" title="食物碳水评价"></a>食物碳水评价</h2><h3 id="混合膳食GI和GL计算"><a href="#混合膳食GI和GL计算" class="headerlink" title="混合膳食GI和GL计算"></a>混合膳食GI和GL计算</h3><ul><li>查阅食物碳水含量和质量比<ul><li>计算可利用碳水含量&#x3D;碳水-膳食纤维</li><li>计算每种配料提供的碳水量和混合膳食中的碳水总量</li><li>计算各配料提供的碳水占比</li></ul></li><li>混合膳食预测GI的计算<ul><li>查阅各食物的GI</li><li>某配料对混合膳食总GI贡献&#x3D;每种配料GI*该配料碳水质量比</li><li>混合膳食GI值&#x3D;每种配料GI相加</li></ul></li><li>食物GL计算</li><li>提出建议</li></ul>]]></content>
      
      
      <categories>
          
          <category> 营养学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 营养学 </tag>
            
            <tag> 营养学基础 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>脂肪</title>
      <link href="/2019/03/18/%E8%90%A5%E5%85%BB%E5%AD%A6/%E3%80%90%E8%90%A5%E5%85%BB%E5%AD%A6%E5%9F%BA%E7%A1%80%E3%80%91%E8%84%82%E8%82%AA/"/>
      <url>/2019/03/18/%E8%90%A5%E5%85%BB%E5%AD%A6/%E3%80%90%E8%90%A5%E5%85%BB%E5%AD%A6%E5%9F%BA%E7%A1%80%E3%80%91%E8%84%82%E8%82%AA/</url>
      
        <content type="html"><![CDATA[<h2 id="组成和分类"><a href="#组成和分类" class="headerlink" title="组成和分类"></a>组成和分类</h2><h3 id="脂肪"><a href="#脂肪" class="headerlink" title="脂肪"></a>脂肪</h3><p>甘油三酯（一分子甘油+三分子脂肪酸），中性脂肪</p><p>占95%，可变脂，动脂</p><h3 id="类脂（不动脂"><a href="#类脂（不动脂" class="headerlink" title="类脂（不动脂"></a>类脂（不动脂</h3><ul><li><p>磷脂</p><ul><li>甘油磷脂：构成细胞膜，参与细胞运输</li><li>卵磷脂：蛋黄、血浆</li><li>神经鞘磷脂：神经鞘</li></ul></li><li><p>类固醇</p><p>  胆固醇和谷固醇</p></li><li><p>糖脂</p><ul><li>构成细胞膜</li><li>脑苷脂类和神经甘脂</li></ul></li></ul><h2 id="消化吸收"><a href="#消化吸收" class="headerlink" title="消化吸收"></a>消化吸收</h2><h3 id="脂肪-1"><a href="#脂肪-1" class="headerlink" title="脂肪"></a>脂肪</h3><pre><code>- 消化    脂肪从口腔开始（脂肪酶分解），主要场所是** 小肠 **- 消化产物    甘油、脂肪酸、甘油一酯- 吸收途径    - 直接入血        甘油、短链和中链脂肪酸    - 淋巴途径入血        甘油单酯和长链脂肪酸在小肠合成甘油三酯（合成场所：小肠和肝脏），甘油三酯、磷脂、TG和载体蛋白合成乳糜微粒，经过淋巴系统入血        主要运输形式：乳糜微粒</code></pre><h3 id="类脂"><a href="#类脂" class="headerlink" title="类脂"></a>类脂</h3><ul><li><p>胆固醇</p><p>  直接被吸收（结合的水解后被吸收</p></li><li><p>磷脂</p><p>  和甘油三酯吸收类似</p></li></ul><h2 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h2><h3 id="脂肪-2"><a href="#脂肪-2" class="headerlink" title="脂肪"></a>脂肪</h3><ul><li><p>供能</p></li><li><p>促进脂溶性维生素吸收（维生素A、D、E、K</p></li><li><p>维持体温，保护脏器</p></li><li><p>增加饱腹感</p></li><li><p>增加食物感官性状</p></li></ul><h3 id="类脂-1"><a href="#类脂-1" class="headerlink" title="类脂"></a>类脂</h3><ul><li><p>磷脂</p><p>  细胞膜和亚细胞膜的组成成分</p></li><li><p>鞘磷脂</p><p>  神经鞘的重要成分，神经鞘有绝缘性</p></li><li><p>脑磷脂</p><p>  参与神经冲动的信号</p></li><li><p>胆固醇</p><p>  所有体细胞的构成成分；胆酸（胆汁）、7-脱氢胆固醇、性激素等激素的前体物</p></li></ul><h3 id="必需脂肪酸"><a href="#必需脂肪酸" class="headerlink" title="必需脂肪酸"></a>必需脂肪酸</h3><ul><li><p>构成线粒体和细胞膜的重要成分</p></li><li><p>合成前列腺素的前体，参与精子形成</p></li><li><p>参与胆固醇代谢</p></li><li><p>维护视力</p></li></ul><h2 id="脂肪酸分类"><a href="#脂肪酸分类" class="headerlink" title="脂肪酸分类"></a>脂肪酸分类</h2><h3 id="空间结构"><a href="#空间结构" class="headerlink" title="空间结构"></a>空间结构</h3><ul><li><p>顺式</p></li><li><p>反式脂肪酸</p><p>  人造黄油</p><p>  升高LDL-C（低密度脂蛋白，降低HDL-C（高密度脂蛋白</p></li></ul><h3 id="第一个双键位置"><a href="#第一个双键位置" class="headerlink" title="第一个双键位置"></a>第一个双键位置</h3><ul><li><p>编号系统：羧基端</p></li><li><p>n&#x2F;w编号系统</p><ul><li><p>n-3<br>  α-亚麻酸（苏子油、鱼油、</p><p>  十八碳四烯酸</p><p>  二十碳四烯酸</p><p>  二十碳五烯酸（EPA</p><p>  二十二碳六烯酸（DHA</p></li></ul><p>  n-6</p><pre><code>  亚油酸，γ-亚麻酸，二十碳三烯酸，花生四烯酸，二十二碳四烯酸、二十二碳五烯酸</code></pre><p>  n-7</p><p>  n-9</p></li><li><p>降低总胆固醇和低密度脂蛋白</p></li></ul><h3 id="按数目分"><a href="#按数目分" class="headerlink" title="按数目分"></a>按数目分</h3><ul><li><p>短链脂肪酸</p><p>  2-4个脂肪酸</p></li><li><p>中链脂肪酸</p><p>  8-12个</p></li><li><p>长链脂肪酸</p><p>  14-16个</p></li></ul><h3 id="饱和程度"><a href="#饱和程度" class="headerlink" title="饱和程度"></a>饱和程度</h3><ul><li><p>不饱和脂肪酸SFA（没有双键</p><p>  升血脂（甘油三酯和脂肪酸）</p><p>  动物油、棕榈油、椰子油</p></li><li><p>单不饱和脂肪酸MUFA（只有一个双键</p><p>  降低LDL-C，升高HDL-C</p><p>  橄榄油，山茶油、菜料油</p></li><li><p>多不饱和脂肪酸PUFA</p><p>  n-3：降低TG，鱼油、亚麻籽油、紫苏油</p><p>  n-6：降低HDL，LDL、VLDL</p></li></ul><h2 id="血脂异常"><a href="#血脂异常" class="headerlink" title="血脂异常"></a>血脂异常</h2><h3 id="膳食影响因素"><a href="#膳食影响因素" class="headerlink" title="膳食影响因素"></a>膳食影响因素</h3><ul><li><p>膳食脂肪和脂肪酸</p><p>  SFA、MUFA、PUFA、TFA（反式脂肪酸）</p></li><li><p>高碳水</p><p>  升高TG、TC、LDL、VIDL</p><p>  降低HDL</p></li><li><p>膳食纤维</p><p>  降低胆固醇和LDL-C</p></li><li><p>矿物质： </p><p>  Mg对心血管系统有保护作用</p><p>  缺Ca、Zn、铬会引入血脂代谢异常</p></li><li><p>维生素</p><p>  维C：促进TC、VLDL、TG降解，脂蛋白酶活性升高</p><p>  维E：缺乏升高LDL-C</p></li><li><p>其他：喝酒等</p></li></ul><h3 id="防治"><a href="#防治" class="headerlink" title="防治"></a>防治</h3><ul><li><p>防治肥胖</p></li><li><p>钠盐减少</p></li><li><p>膳食脂肪降低，油炸食物摄入降低</p></li><li><p>控制单双糖摄入量，以符合碳水摄入为主</p></li><li><p>膳食纤维增加</p></li><li><p>少喝酒</p></li></ul><h2 id="食物脂肪评价"><a href="#食物脂肪评价" class="headerlink" title="食物脂肪评价"></a>食物脂肪评价</h2><h3 id="氨基酸评价方法"><a href="#氨基酸评价方法" class="headerlink" title="氨基酸评价方法"></a>氨基酸评价方法</h3><ul><li>食用油的熔点及消化率<ul><li>熔点越低，消化率越高</li><li>不饱和脂肪酸和短链脂肪酸含量高的脂肪熔点越低，越容易消化</li></ul></li><li>总脂肪的含量及必需氨基酸</li><li>脂肪酸适宜比例<ul><li>S:M:P&#x3D;1：1：1</li><li>n6：n3&#x3D;（4-6）：1</li></ul></li><li>脂肪中含有的其他天然成分<br>   -胆固醇、植物固醇、反式脂肪酸、维生素E等</li></ul><h3 id="工作程序"><a href="#工作程序" class="headerlink" title="工作程序"></a>工作程序</h3><ul><li>仔细阅读样品相关信息</li><li>分析和比较食物总脂肪含量</li><li>分析必需氨基酸含量</li><li>计算脂肪酸比例</li><li>通过以上分析对油脂进行评价，提出合理的饮食建议</li></ul>]]></content>
      
      
      <categories>
          
          <category> 营养学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 营养学 </tag>
            
            <tag> 营养学基础 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>食物分类</title>
      <link href="/2019/03/18/%E8%90%A5%E5%85%BB%E5%AD%A6/%E3%80%90%E8%90%A5%E5%85%BB%E7%B4%A0%E5%9F%BA%E7%A1%80%E3%80%91%E9%A3%9F%E7%89%A9%E5%88%86%E7%B1%BB/"/>
      <url>/2019/03/18/%E8%90%A5%E5%85%BB%E5%AD%A6/%E3%80%90%E8%90%A5%E5%85%BB%E7%B4%A0%E5%9F%BA%E7%A1%80%E3%80%91%E9%A3%9F%E7%89%A9%E5%88%86%E7%B1%BB/</url>
      
        <content type="html"><![CDATA[<h2 id="水"><a href="#水" class="headerlink" title="水"></a>水</h2><h3 id="分布"><a href="#分布" class="headerlink" title="分布"></a>分布</h3><ul><li>因年龄、性别、体型有个体差异</li><li>新生儿80%，婴幼儿70%，成年男性60%，成年女性50~55%</li><li>细胞内2&#x2F;3，胞外1&#x2F;3</li></ul><h3 id="功能"><a href="#功能" class="headerlink" title="功能"></a>功能</h3><ul><li>构成细胞和体液的重要组成成分</li><li>参与人体代谢</li><li>调节人体体温</li><li>润滑</li></ul><h3 id="缺乏"><a href="#缺乏" class="headerlink" title="缺乏"></a>缺乏</h3><ul><li>高渗脱水<ul><li>以水流失为主，电解质流失少，尿比重高</li></ul></li><li>低渗脱水<ul><li>水流少，电解质流失多，尿比重低</li></ul></li><li>等渗脱水<ul><li>水和电解质比例流失，体液渗透压不变</li></ul></li></ul><h3 id="需要量"><a href="#需要量" class="headerlink" title="需要量"></a>需要量</h3><ul><li>1500-1700ml&#x2F;d（因年龄，劳动强度、性别、温度</li></ul><h3 id="人体水平衡及其调节"><a href="#人体水平衡及其调节" class="headerlink" title="人体水平衡及其调节"></a>人体水平衡及其调节</h3><ul><li>来源排出动态平衡<ul><li>来源：饮水、食物（1000ml、内生水</li><li>排除：肾脏（60%）为主、肺、皮肤、粪便（显性出汗</li></ul></li><li>受口渴中枢、抗利尿激素及肾脏调节</li></ul><h2 id="膳食纤维"><a href="#膳食纤维" class="headerlink" title="膳食纤维"></a>膳食纤维</h2><p>不能被小肠吸收，属于一种多糖</p><h3 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h3><ul><li>可溶性<ul><li>部分半纤维素、果胶、树胶等</li></ul></li><li>不可溶性<ul><li>纤维素、木质素        吸收水分，加速肠道运转</li></ul></li></ul><h3 id="特性"><a href="#特性" class="headerlink" title="特性"></a>特性</h3><ul><li>吸水</li><li>黏滞</li><li>结合有机化合物</li><li>阳离子交换作用</li><li>细菌发酵作用</li></ul><h3 id="生理功能"><a href="#生理功能" class="headerlink" title="生理功能"></a>生理功能</h3><ul><li>有利于食物消化</li><li>降低血清胆固醇</li><li>预防胆结石形成</li><li>维护结肠功能</li><li>预防肥胖和超重</li><li>影响Fe、Ca系数</li></ul><h3 id="来源"><a href="#来源" class="headerlink" title="来源"></a>来源</h3><ul><li>蔬果</li><li>粗杂粮，植物</li></ul><h2 id="谷类"><a href="#谷类" class="headerlink" title="谷类"></a>谷类</h2><p>人体主要能量来源，66%能量，55%蛋白质来源</p><h3 id="营养成分"><a href="#营养成分" class="headerlink" title="营养成分"></a>营养成分</h3><ul><li>碳水<ul><li>胚乳中，多数&gt;70%，存在形式是淀粉</li><li>稻米&gt;小麦粉&gt;玉米</li></ul></li><li>蛋白质 7%-12%<ul><li>小麦胚粉36.4%，赖氨酸（谷类第一限制氨基酸）低</li></ul></li><li>脂肪 0.4%-7.2%<ul><li>小麦胚粉最高</li><li>稻米最低</li><li>主要为不饱和脂肪酸</li></ul></li><li>维生素<ul><li>主要分布于糊粉层，谷胚</li><li>加工越细，损失越多</li><li>维B为主，B1和烟酸主要来源，B2含量最低</li><li>维E：胚芽中</li><li>玉米中烟酸含量最多</li></ul></li><li>矿物质 1.5%-3%<ul><li>包括Ca、Na、Mg、P、K</li><li>主要在谷皮和糊粉层</li><li>小麦胚粉除了Fe含量最低，其他较高</li><li>大麦粉：Zn、Se含量较高</li></ul></li></ul><h3 id="合理利用"><a href="#合理利用" class="headerlink" title="合理利用"></a>合理利用</h3><ul><li>合理加工<ul><li>加工有利于消化</li><li>加工越细，矿物质和维生素损伤越多</li></ul></li><li>合理烹调<ul><li>淘洗次数越多，侵泡时间越长、水温越高，损伤越多</li><li>少搓洗，面粉加碱适量，少炸少烤</li></ul></li><li>合理储存<ul><li>时间、水分含量，温度、湿度</li><li>避光通风、阴凉干燥</li></ul></li><li>合理搭配<br>  与豆类动物搭配，提高蛋白质营养价值</li></ul><h2 id="豆类及制品"><a href="#豆类及制品" class="headerlink" title="豆类及制品"></a>豆类及制品</h2><h3 id="营养"><a href="#营养" class="headerlink" title="营养"></a>营养</h3><ul><li>蛋白质 20%-36%<ul><li>大豆类最高，30%+，其他豆类20%-25%</li><li>完全蛋白，赖氨酸多、蛋氨酸（第一限制氨基酸）含量少</li></ul></li><li>脂肪<ul><li>含量差距大，大豆类最多，15%+，其他在1%</li><li>大豆：含不饱和脂肪酸，亚油酸含量最多</li></ul></li><li>碳水<ul><li>大豆34%左右，豆制品低，其他豆类高</li><li>主要以淀粉形式</li><li>组成复杂，难消化纤维素和低聚糖</li></ul></li><li>维生素<ul><li>胡萝卜和维E最高，B1含量低</li><li>种皮颜色深的豆类胡萝卜素含量高</li><li>干豆不含维C，发芽后维C含量升高</li></ul></li><li>矿物质 2-4%<ul><li>大豆含量高于其他</li><li>Ca、Na、K高于谷类，但微量矿物质低于谷类</li><li>大豆K、Ca含量高于，其他含量低</li></ul></li><li>其他<ul><li>生物活性因子：大豆低聚肽，大豆多肽，大豆磷脂，大都皂苷，大豆异黄醇</li><li>抗营养因子：蛋白酶抑制剂（影响消化），植酸，红细胞凝集素，胀气因子</li></ul></li></ul><h3 id="合理利用-1"><a href="#合理利用-1" class="headerlink" title="合理利用"></a>合理利用</h3><ul><li>消化率<ul><li>豆腐（92-96%）&gt; 豆浆（85%）&gt; 大豆（65%）</li><li>抗营养因子：加热处理（蛋白酶抑制剂</li><li>与谷类合理搭配，提高氨基酸利用率</li><li>豆皮磨粉，作为高纤维烘培食物</li></ul></li></ul><h2 id="水果"><a href="#水果" class="headerlink" title="水果"></a>水果</h2><h3 id="分类-1"><a href="#分类-1" class="headerlink" title="分类"></a>分类</h3><ul><li>仁果（果糖、葡萄糖</li><li>浆果（蔗糖</li><li>核果</li><li>柑橘类</li><li>热带水果</li><li>瓜果</li></ul><h3 id="营养-1"><a href="#营养-1" class="headerlink" title="营养"></a>营养</h3><p>含水量大70-90%，游离水，胶体结合小；化合水</p><ul><li>碳水<ul><li>水果主要营养成分</li><li>纤维素和果胶是水果骨架，细胞壁主要成分</li><li>纤维素和果胶促进肠胃蠕动，有助于消化和排便</li></ul></li><li>维生素<ul><li>重要来源，种类和含量与水果种类有关</li><li>红黄色含胡萝卜素</li><li>维C：鲜枣、柑橘</li></ul></li><li>矿物质<ul><li>重要来源，依据水果种类有区分</li></ul></li><li>有机酸<ul><li>柠檬酸、苹果酸、酒石酸含量多</li></ul></li><li>生物活性物质<ul><li>酚酸（影响风味）</li><li>黄酮</li><li>花青素</li><li>单宁（柿子，影响Ca吸收</li></ul></li></ul><h3 id="加工"><a href="#加工" class="headerlink" title="加工"></a>加工</h3><ul><li>制成干果、罐头、果汁、果粉</li><li>维C损伤多</li></ul><h2 id="坚果"><a href="#坚果" class="headerlink" title="坚果"></a>坚果</h2><h3 id="分类-2"><a href="#分类-2" class="headerlink" title="分类"></a>分类</h3><ul><li>脂肪含量<ul><li>油籽：核桃、榛子、杏仁、花生</li><li>淀粉：栗子、莲子、杏仁、芡实</li></ul></li><li>植物来源<ul><li>本木坚果：核桃、榛子、杏仁、松子</li><li>草木：花生、瓜子、西瓜籽</li></ul></li></ul><h3 id="营养-2"><a href="#营养-2" class="headerlink" title="营养"></a>营养</h3><ul><li>脂肪 40%左右<ul><li>多为不饱和脂肪酸，油脂类含量最高</li></ul></li><li>淀粉<ul><li>淀粉类坚果70%</li><li>油籽类坚果20%</li></ul></li><li>蛋白质    12%-22%</li><li>维生素<ul><li>维E、B良好来源</li></ul></li><li>矿物质<ul><li>Zn含量高</li></ul></li></ul><h3 id="合理利用-2"><a href="#合理利用-2" class="headerlink" title="合理利用"></a>合理利用</h3><ul><li>作为日常零食或制作为糕点等</li><li>干燥阴凉存放，尽量隔绝空气</li></ul><h2 id="蔬菜"><a href="#蔬菜" class="headerlink" title="蔬菜"></a>蔬菜</h2><h3 id="营养-3"><a href="#营养-3" class="headerlink" title="营养"></a>营养</h3><ul><li>叶菜<ul><li>蛋白质、脂肪、碳水含量少</li><li>类胡萝卜素、维B2、维C、矿物质、膳食纤维良好来源</li><li>菜花、西兰花、芥兰维C多</li></ul></li><li>根茎类<ul><li>蛋白质1-2%，脂肪少，碳水含量差异大</li></ul></li><li>瓜茄类<ul><li>水分多，营养素少</li><li>南瓜、番茄、辣椒：胡萝卜素高</li><li>辣椒、苦瓜、番茄：维C高</li></ul></li><li>鲜豆<ul><li>与其他蔬菜比，营养素高</li><li>蛋白质2-14%，脂肪少，碳水4%</li><li>矿物质多，胡萝卜素少</li></ul></li><li>菌藻类<ul><li>富含蛋白质、膳食纤维、碳水、维生素和矿物质</li><li>氨基酸组成平衡，必需氨基酸占蛋白质60%以上</li><li>Fe、Zn、硒含量是其他食物的数倍</li><li>海产品有碘</li><li>海藻富含多不饱和脂肪酸DHA</li></ul></li></ul><h3 id="合理利用-3"><a href="#合理利用-3" class="headerlink" title="合理利用"></a>合理利用</h3><ul><li>新鲜、深色</li><li>合理加工<ul><li>先洗后切，洗后即炒，急火快炒</li></ul></li><li>菌藻保健作用<ul><li>多糖，香菇嘌呤等</li></ul></li></ul><h2 id="乳类及其制品"><a href="#乳类及其制品" class="headerlink" title="乳类及其制品"></a>乳类及其制品</h2><h3 id="营养-4"><a href="#营养-4" class="headerlink" title="营养"></a>营养</h3><h4 id="乳"><a href="#乳" class="headerlink" title="乳"></a>乳</h4><ul><li>蛋白质 3%<ul><li>酪蛋白89%，优质</li><li>人乳蛋白&lt;牛乳</li></ul></li><li>脂肪 2.8%-4%</li><li>碳水 3.4-7.4%<ul><li>主要为乳糖（婴儿双歧杆菌吸收</li><li>促进Ca吸收</li><li>人乳＞羊乳＞牛乳</li></ul></li><li>维生素<ul><li>几乎都含有，但是含量差异大</li></ul></li><li>矿物质<ul><li>Ca多且利用率高，几乎1：1</li></ul></li></ul><h4 id="乳制品"><a href="#乳制品" class="headerlink" title="乳制品"></a>乳制品</h4><ul><li>酸奶<ul><li>游离氨基酸、肽含量多</li><li>乳糖少</li><li>叶酸、胆碱多</li></ul></li><li>干酪<ul><li>大部分为酪蛋白，含原料中的各种维生素</li></ul></li><li>炼乳<ul><li>淡炼乳：除去2&#x2F;3的水分，维生素损失，适合鲜奶过敏者、婴儿食用</li><li>甜炼乳：15%蔗糖</li></ul></li><li>奶粉<ul><li>全脂：脱去70-80%水分</li><li>脱脂：1.3%脂肪，脂溶性维生素损失多，腹泻婴儿、低膳食者食用</li><li>配方奶粉</li></ul></li></ul><h3 id="利用"><a href="#利用" class="headerlink" title="利用"></a>利用</h3><ul><li>消毒灭菌<ul><li>煮沸、巴氏消毒</li></ul></li><li>合理储存，避光（保护维B2</li></ul><h2 id="蛋类及其制品"><a href="#蛋类及其制品" class="headerlink" title="蛋类及其制品"></a>蛋类及其制品</h2><h3 id="营养成分-1"><a href="#营养成分-1" class="headerlink" title="营养成分"></a>营养成分</h3><ul><li>微量元素受品种、饲料、季节等影响</li><li>蛋白质<ul><li>12%左右，蛋黄&gt;蛋清</li><li>氨基酸组成与人体最接近，生物价最高</li><li>半胱氨酸加热过度，部分分解产生硫化氢，与Fe结合形成硫化铁，导致蛋黄变黑</li></ul></li><li>脂肪<ul><li>98%在蛋黄中，乳化（磷脂）形式存在，消化吸收率高</li><li>蛋类脂肪30%-33%，中性脂肪62-65%，磷脂30%-33%</li><li>油酸含量高（亚油酸50%</li><li>胆固醇蛋黄高，蛋清没有</li></ul></li><li>碳水 1-3%，蛋黄&gt;蛋清</li><li>维生素<ul><li>含量丰富，品种完全，大部分存在蛋黄中</li></ul></li><li>矿物质<ul><li>主要在蛋黄中，1-1.5%，Ca，Fe、Zn、硒、Ca多，蛋清少</li><li>Fe生物利用率低，Fe与卵黄高磷蛋白结合</li></ul></li><li>有丰富的卵磷脂和叶黄素</li></ul><h3 id="合理利用-4"><a href="#合理利用-4" class="headerlink" title="合理利用"></a>合理利用</h3><ul><li>生蛋清有抗生素蛋白和胰蛋白酶，不能生吃</li><li>过度加热会使蛋白质过分凝固，影响消化吸收</li><li>胆固醇多，适宜食用</li></ul><h2 id="畜禽肉"><a href="#畜禽肉" class="headerlink" title="畜禽肉"></a>畜禽肉</h2><h3 id="营养成分-2"><a href="#营养成分-2" class="headerlink" title="营养成分"></a>营养成分</h3><ul><li>蛋白质 10-20%<ul><li>因动物种类、年龄、肥瘦及部位有差异</li><li>心、肝肾等内脏蛋白质高，脂肪少</li></ul></li><li>脂类<ul><li>含量差异大，2-89%</li><li>畜肉：猪&gt;羊肉&gt;牛＞兔肉</li><li>禽肉：鸭鹅＞鸡鸽子＞火鸡、鹌鹑肉（20%蛋白质</li><li>内脏脂肪：2-10%，脑子10%＞猪肾、鸭肝、羊猪心</li><li>必须脂肪酸：低于植物油脂，禽肉＞畜肉，猪＞牛羊肉</li></ul></li><li>碳水 多在1.5%左右<ul><li>主要以糖原形式存在</li></ul></li><li>维生素<ul><li>主要以B族、维生素A为主，内脏＞肌肉</li><li>禽肉含有较多维E</li></ul></li><li>矿物质 0.8-1.2%<ul><li>内脏＞瘦肉＞肥肉</li><li>Fe、Zn、硒含量丰富</li></ul></li></ul><h3 id="利用-1"><a href="#利用-1" class="headerlink" title="利用"></a>利用</h3><ul><li>富含赖氨酸，与谷类搭配</li><li>畜肉脂肪与胆固醇最高，比例不宜过多</li><li>内脏维生素和矿物质多，适当食用</li></ul><h2 id="水产类"><a href="#水产类" class="headerlink" title="水产类"></a>水产类</h2><h3 id="鱼类"><a href="#鱼类" class="headerlink" title="鱼类"></a>鱼类</h3><h4 id="营养-5"><a href="#营养-5" class="headerlink" title="营养"></a>营养</h4><ul><li>蛋白质 15-22%<ul><li>氨基酸组成平均，多数缬氨酸少</li><li>含氮化合物：游离氨基酸、肽、胺类、胍、嘌呤类</li></ul></li><li>脂肪 1-10%<ul><li>主要在皮下和脏器附件</li><li>多为不饱和脂肪酸，熔点低，液态，消化率高95%</li></ul></li><li>碳水 1.5%<ul><li>少，堂员工含量与其致死方式有关</li></ul></li><li>维生素<ul><li>维A、D、B2、烟酸多，维C少</li><li>鱼肝&#x2F;鱼肝油：维A、D重要来源，维E来源</li><li>硫胺素酶和催化维生素B1降解的蛋白质，造成B1缺乏</li></ul></li><li>矿物质 1-2%<ul><li>Zn、硒多</li><li>海产鱼富含I</li></ul></li></ul><h4 id="利用-2"><a href="#利用-2" class="headerlink" title="利用"></a>利用</h4><ul><li>防治腐败变质<ul><li>青皮红肉：组氨酸。变质导致组胺中毒</li><li>脂质过氧化</li><li>保存、冷冻、盐腌渍（15%用盐量</li></ul></li></ul><h3 id="软体动物类"><a href="#软体动物类" class="headerlink" title="软体动物类"></a>软体动物类</h3><h4 id="营养-6"><a href="#营养-6" class="headerlink" title="营养"></a>营养</h4><ul><li>蛋白质    15%<ul><li>含全部必需氨基酸</li><li>酪、色氨酸＞牛、鱼</li><li>贝类：牛磺酸-》视网膜发育</li></ul></li><li>脂肪、碳水少</li><li>维生素<ul><li>与鱼类相似，维A、E、烟酸多,B1少</li></ul></li><li>矿物质 1-1.5%<ul><li>Ca、Fe、Zn、Cu、硒、K含量丰富</li></ul></li><li>呈味物<ul><li>鱼&#x2F;贝类：游离氨基酸、核苷酸</li><li>软体动物：氨基酸</li><li>贝类：琥珀酸、钠盐</li></ul></li></ul><h2 id="食用油脂"><a href="#食用油脂" class="headerlink" title="食用油脂"></a>食用油脂</h2><h3 id="营养-7"><a href="#营养-7" class="headerlink" title="营养"></a>营养</h3><h4 id="动物油脂"><a href="#动物油脂" class="headerlink" title="动物油脂"></a>动物油脂</h4><ul><li>饱和脂肪酸为主，熔点高，常温固态，吸收率＜植物油</li><li>鱼肉：含不饱和脂肪酸n-3系列</li></ul><h4 id="植物油脂"><a href="#植物油脂" class="headerlink" title="植物油脂"></a>植物油脂</h4><ul><li>脂肪：99%以上<ul><li>消化吸收率高</li></ul></li><li>丰富维E、植物固醇、微量维Na、Ca、K</li><li>不饱和脂肪酸为主，熔点低，常温液态</li><li>椰子油&#x2F;棕榈油：饱和脂肪酸多</li><li>橄榄油、茶油、菜料油：高单不饱和脂肪酸油脂</li><li>核桃油、葡萄籽、亚麻酸、瓜子、玉米油：多不饱和脂肪酸</li><li>芝麻油、花生油：单不饱和和多不饱和脂肪酸比例适当</li></ul><h4 id="氢化油"><a href="#氢化油" class="headerlink" title="氢化油"></a>氢化油</h4><p>不健康</p><h3 id="利用-3"><a href="#利用-3" class="headerlink" title="利用"></a>利用</h3><ul><li>植物油不低于膳食脂肪的50%</li><li>动物油：饱和脂肪酸高，不宜长期食用</li><li>植物油：易氢化腐败，不能长期储存</li></ul><h2 id="饮料"><a href="#饮料" class="headerlink" title="饮料"></a>饮料</h2><h3 id="软饮"><a href="#软饮" class="headerlink" title="软饮"></a>软饮</h3><p>果汁、可乐、低热量、其他</p><h4 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h4><ul><li>90%以上水，糖在10%左右，含少量矿物质和维生素</li><li>糖＞11.5%，为高糖</li><li>浓缩果汁40%含水，含糖30%</li><li>蛋白饮料，乳酸菌有一定营养价值</li></ul><h3 id="含酒精-15g"><a href="#含酒精-15g" class="headerlink" title="含酒精 15g"></a>含酒精 15g</h3><ul><li>发酵酒<ul><li>粮谷、水果、乳为原料，经过酵母发酵</li><li>酒精＜24%，含糖15-40g&#x2F;L</li></ul></li><li>蒸馏酒<ul><li>粮谷、薯类，水果原料，经过发酵、蒸馏、陈酿、勾兑制成</li><li>酒精18-60%</li></ul></li><li>配制酒<ul><li>以发酵酒、蒸馏酒或食用酒精为酒基</li><li>进行调配、混合或再加工制成</li></ul></li></ul><h2 id="茶"><a href="#茶" class="headerlink" title="茶"></a>茶</h2><h3 id="分类-3"><a href="#分类-3" class="headerlink" title="分类"></a>分类</h3><ul><li>发酵程度<ul><li>发酵：红茶</li><li>半发酵：乌龙茶</li><li>不发酵：绿茶</li></ul></li><li>色泽：<ul><li>红</li><li>绿</li><li>青</li><li>黄</li><li>白</li><li>黑</li></ul></li><li>商品形式<ul><li>条</li><li>碎</li><li>包装</li><li>速溶</li><li>液体茶</li></ul></li><li>采制工艺和茶叶品质<ul><li>绿</li><li>红茶</li><li>乌龙茶</li><li>白茶</li><li>花茶</li><li>黑茶</li><li>再加工茶</li></ul></li></ul><h3 id="营养-8"><a href="#营养-8" class="headerlink" title="营养"></a>营养</h3><ul><li>蛋白质、脂质、碳水、多种维生素和矿物质</li><li>多酚类、色素、苯胺酸、生物碱、芳香物质、皂苷</li></ul><h3 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h3><ul><li>咖啡碱：失眠、胃溃疡病人不宜</li><li>茶碱鞣酸：缺Fe性贫血不宜</li><li>脾胃虚寒：红茶</li><li>体胖：绿茶</li><li>体质瘦弱：红茶、花茶</li><li>夏季绿茶冬季红茶</li></ul><h2 id="调味品"><a href="#调味品" class="headerlink" title="调味品"></a>调味品</h2><h3 id="盐"><a href="#盐" class="headerlink" title="盐"></a>盐</h3><ul><li>Nacl，咸味来源</li><li>摄入过多，与高血压相关（Na</li><li>咸甜相互抵消：1-2%食盐+10%糖</li><li>酸增加咸味：1-2%盐+0.01%醋酸</li></ul><h3 id="糖和甜味剂"><a href="#糖和甜味剂" class="headerlink" title="糖和甜味剂"></a>糖和甜味剂</h3><ul><li>主蔗糖，增香增味（美拉德</li><li>白糖<ul><li>纯度99% 白砂糖</li><li>纯度96% 纯棉白糖</li><li>还原糖易结块</li></ul></li><li>红糖<ul><li>褐色来自于羟氢反应和酶促褐变产生的类黑素</li></ul></li></ul><h3 id="酱"><a href="#酱" class="headerlink" title="酱"></a>酱</h3><ul><li>大豆为原料，蛋白质高</li><li>酱油有少量还原糖，糊精</li><li>发酵后有维B2、B12高</li><li>香气：酯、醛、有机酸</li></ul><h3 id="醋"><a href="#醋" class="headerlink" title="醋"></a>醋</h3><ul><li>Ca、Fe多</li><li>蛋白质、脂肪、碳水少</li><li>加糖减酸</li></ul><h3 id="味精、鸡精"><a href="#味精、鸡精" class="headerlink" title="味精、鸡精"></a>味精、鸡精</h3><ul><li>味精：谷氨酸单钠结晶二成晶体<ul><li>谷氨酸单钠形式存在鲜味</li></ul></li><li>PH：在Ph&#x3D;6的时候鲜味最强，PH＞7没有鲜味</li></ul>]]></content>
      
      
      <categories>
          
          <category> 营养学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 营养学 </tag>
            
            <tag> 营养学基础 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>食物中毒</title>
      <link href="/2019/03/18/%E8%90%A5%E5%85%BB%E5%AD%A6/%E3%80%90%E9%A3%9F%E5%93%81%E5%AE%89%E5%85%A8%E3%80%91%E9%A3%9F%E7%89%A9%E4%B8%AD%E6%AF%92/"/>
      <url>/2019/03/18/%E8%90%A5%E5%85%BB%E5%AD%A6/%E3%80%90%E9%A3%9F%E5%93%81%E5%AE%89%E5%85%A8%E3%80%91%E9%A3%9F%E7%89%A9%E4%B8%AD%E6%AF%92/</url>
      
        <content type="html"><![CDATA[<h2 id="食物中毒"><a href="#食物中毒" class="headerlink" title="食物中毒"></a>食物中毒</h2><h3 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h3><p>摄入含有生物性或化学性有毒有害物质的食物，或把有毒有害物质当作食物摄入后出现的非传染性疾病</p><h3 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h3><ul><li>发病呈爆发性，潜伏期短，来势急剧</li><li>一般有相似的临床表现，常表现为消化道症状</li><li>发病与食物有关，停止食用该食物后很快停止</li><li>食物中毒对健康人不具有传染性</li><li>有的食物中毒具有明显的地区性和季节性<br>  夏秋为高发季节</li></ul><h3 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h3><ul><li>细菌性</li><li>化学性</li><li>真菌及其毒素</li><li>有毒动植物</li></ul><h2 id="细菌性中毒"><a href="#细菌性中毒" class="headerlink" title="细菌性中毒"></a>细菌性中毒</h2><h3 id="基本条件"><a href="#基本条件" class="headerlink" title="基本条件"></a>基本条件</h3><ul><li>细菌污染食品</li><li>适宜温度、水分、PH及营养条件下，细菌急剧大量繁殖</li><li>进食时加热不充分，未能杀灭细菌及破坏其毒素</li></ul><h3 id="特点-1"><a href="#特点-1" class="headerlink" title="特点"></a>特点</h3><ul><li>全年都发生，夏秋季节多发</li><li>主要是动物性食物引起</li><li>一般病程短、恢复快，愈合良好</li></ul><h3 id="场景细菌"><a href="#场景细菌" class="headerlink" title="场景细菌"></a>场景细菌</h3><table><thead><tr><th>菌名</th><th>发病特点</th><th>多发季节</th><th>中毒食品</th><th>原因</th><th>潜伏期</th><th>症状</th><th>预防措施</th></tr></thead><tbody><tr><td>葡萄球菌食物中毒</td><td>金黄色葡萄球菌耐热性不强，肠菌素耐热性强</td><td>夏秋</td><td>主要为乳制品、蛋及蛋制品、各类熟肉制品</td><td>被葡萄球菌污染后在较高温下保存时间过长</td><td>起病急，潜伏期短，一般在2-3h，多在4h内，最短1h，不超过10h</td><td>1、典型肠胃道症状：恶心、呕吐（重者呈现喷射状）、腹痛、水样便<br />2、病程短<br /></td><td>1、防止污染<br />2、防止肠霉素形成</td></tr><tr><td>肉毒毒素</td><td>G+厌氧菌，肉毒毒素所致，强烈神经毒素，芽孢耐高温</td><td>四季均可发生，冬春多发</td><td>主要是家庭自制的发酵豆、谷类制品；其次为肉类和罐头食品</td><td>被污染的食品在使用前未进行彻底的加热处理</td><td>潜伏期12-48h，最短6h，长者8-12天</td><td>运动神经麻痹症状（无力、视物模糊、眼睑下垂、复视、咀嚼无力、吞咽困难、头颈无力等</td><td>1、不吃生酱及可疑含霉食品<br />2、自制发酵酱类，原料应清洁新鲜，提高发酵温度，充分搅拌，使氧气供应充足<br />3、对食品进行彻底加热</td></tr><tr><td>副溶血弧菌</td><td>嗜盐性细菌，G-兼性厌氧，不耐热，对酸敏感</td><td>多发生在6-9月高温季节</td><td>主要是海产品，其次是咸菜、熟肉类、禽肉、禽蛋类，半数为腌制品</td><td>烹调时未烧熟、煮透，熟制品污染后未彻底加热</td><td>一般6-10h，最短1h，长者24-48h</td><td>1、发病急，主要症状为恶心、呕吐、腹泻、腹痛、发热、尚有头痛、发汗、口渴等<br />2、腹泻大多为水样便，重者为黏液便和黏血便，失水严重可引起虚脱并伴有血压下降<br />3、大部分病人2-3天恢复正常</td><td>1、停止食用可疑中毒食品<br />2、加工海产品，一定要烧熟煮透<br />3、烹调或调制海产品、拼盘时可加适量食醋<br />4、加工过程中生熟分开，低温储存</td></tr><tr><td>O157:H7大肠杆菌</td><td>耐低温不耐高温，耐酸不耐碱</td><td>夏秋季节，6-9月多见</td><td>肉及肉制品、汉堡包、生牛奶、奶制品、鲜榨果汁、饮水等</td><td>与饮食习惯有关，通过食品与饮品传播，多以食源性爆发多见，传播途径以口粪途径</td><td>起病急，潜伏期2-9天，最快5h</td><td>1、突发腹部痉挛，许多病人有呼吸道症状<br />2、严重者可以造成溶血性尿毒综合征、血栓性血小板减少性紫癜、脑神经障碍等多器官损害</td><td>1、停止食用可疑中毒食品<br />2、不吃生的或加热不彻底、不清洁卫生的食物；防止食品生熟交叉污染<br />3、养成个人良好习惯，饭前便后洗手<br />4、食品加工、生产企业应严格保证食品加工、运输及销售途径的安全性</td></tr></tbody></table><h2 id="有毒动植物中毒"><a href="#有毒动植物中毒" class="headerlink" title="有毒动植物中毒"></a>有毒动植物中毒</h2><h3 id="动植物细菌"><a href="#动植物细菌" class="headerlink" title="动植物细菌"></a>动植物细菌</h3><table><thead><tr><th>菌名</th><th>毒性物质</th><th>季节</th><th>发病时间</th><th>发病表现</th><th>预防措施</th></tr></thead><tbody><tr><td>河豚中毒</td><td>河豚毒素是<strong>神经毒</strong>，热稳定，河豚肝脏和卵巢毒性最强</td><td>2-5月毒性最强，中毒多发生夏季</td><td>发病急，潜伏期0.5-3h，一般10-45min</td><td>1、先感觉手指、口唇、舌尖麻木或有刺痛<br />2、然后恶心、腹痛等肠胃道症状<br />3、严重者瞳孔方法，对光反射消失，血压体温下降，呼吸困难，最后因呼吸衰竭而亡</td><td>1、捕捞时将河豚剔除<br />2、水产部门严格执行《水产品管理办法》<br />3、加强宣传教育</td></tr><tr><td>组胺中毒（鱼类引起</td><td>海产鱼的青皮红肉鱼不新鲜或腐败产生组胺</td><td>-</td><td>发病快，一般0.5-3h，最短5min，最长5h</td><td>1、以局部或全身毛细血管扩张，通透性增加，支气管收缩为主<br />2、症状轻、恢复快</td><td>不吃腐败变质的鱼，合理烹调</td></tr><tr><td>含氰苷类植物中毒</td><td>毒性成分：亚麻苦苷，苦杏仁苷（属剧毒），所含食物包括杏桃李和枇杷等核仁、木薯</td><td>-</td><td>潜伏期半小时到数小时，一般为1-2h</td><td>1、主要症状为口内苦涩、头晕、头痛、恶心、呕吐、心慌、脉速、有时可闻到杏仁味<br />2、严重者意识不清，呼吸微弱，四肢冰冷，昏迷，常发出尖叫<br />3、继而意识丧失，瞳孔放大，全身阵发性痉挛，病死率高</td><td>1、加强渲染教育<br />2、不生吃苦味果仁，也不能食用炒过的苦杏仁<br />3、果仁：清水浸泡，敞锅蒸煮，挥发氢氰酸<br />4、不吃生木薯，使用时木薯去皮，加水浸泡2d，再敞锅蒸煮</td></tr></tbody></table><ul><li><p>其他</p><ul><li>动物甲状腺中毒：有毒成分是甲状腺素</li><li>贝类：石房蛤毒素</li><li>有毒蜂蜜：雷公藤碱及其他生物碱</li><li>四季度：皂素、植物血凝素</li><li>发芽马铃薯：龙葵素</li><li>鲜黄花菜：类秋水仙碱</li></ul></li></ul><h3 id="毒蔁中毒"><a href="#毒蔁中毒" class="headerlink" title="毒蔁中毒"></a>毒蔁中毒</h3><ul><li>中毒表现及原因</li></ul><table><thead><tr><th>类型</th><th>食物</th><th>成分</th><th>潜伏期</th><th>症状</th></tr></thead><tbody><tr><td>肠胃炎型</td><td>红姑类、乳菇类、粉褶蔁属等</td><td>类树脂、甲醛类的化合物</td><td>0.5-6h</td><td>剧烈恶心、呕吐、阵发性腹痛或绞痛，剧烈腹泻、水样便，不发热，病程短</td></tr><tr><td>神经精神型</td><td>-</td><td>-</td><td>0.5-4h，最短10min</td><td>以精神兴奋、抑制、错乱、矮小幻觉或以上表现交互出现为特点，“小人国幻觉症”，病程短，病死率低</td></tr><tr><td>溶血型</td><td>多为鹿花蔁、褐鹿花蔁等</td><td>-</td><td>6-12h，最长达2d</td><td>1、初始症状为肠胃道症状，发病3-4天出现溶血性黄疸，肝脾肿大，肝区疼痛<br />2、严重时心律不齐，抽搐或昏迷，也可引起急性肾功能衰竭<br />3、病程2-3天，死亡率不高</td></tr><tr><td>脏器损害型</td><td>-</td><td>毒肽类、毒伞肽类、霉素为剧毒</td><td>5期：潜伏期、胃肠炎期、假愈期、脏器损伤期、恢复期</td><td>最严重的</td></tr><tr><td>日光皮炎型</td><td>胶陀螺</td><td>-</td><td>24h左右</td><td>1、开始多为颜面肌肉震颤，继而手指和脚趾疼痛，上肢和面部出现皮疹<br />2、暴露于日光部位的皮肤可出现肿胀，指甲剧痛，指甲根部出血，病人嘴唇肿胀外翻</td></tr></tbody></table><ul><li><p>预防</p><ul><li><p>加强渲染力度</p></li><li><p>不采不食用不认识蘑菇</p></li></ul></li></ul><h2 id="化学性中毒"><a href="#化学性中毒" class="headerlink" title="化学性中毒"></a>化学性中毒</h2><table><thead><tr><th>类名</th><th>来源</th><th>表现</th><th>急救处理</th><th>预防措施</th></tr></thead><tbody><tr><td>亚硝酸盐</td><td>1、新鲜叶菜大量摄入，煮熟放置过久的蔬菜<br />2、刚腌制不久的蔬菜<br />3、苦井水<br />4、腌肉制品中加入过量的硝酸盐或者亚硝酸盐<br />5、误食用亚硝酸盐</td><td>1、潜伏期：误食纯亚硝酸盐10-15min，大量摄入蔬菜或未腌透的蔬菜1-2h<br />2、头晕、无力、胸闷气短、嗜睡、心悸、消化道症状、口唇、指甲及全身皮肤发绀<br />3、严重者心率减慢，心律不齐，昏迷和惊厥，常因呼吸衰竭死亡</td><td>1、催吐、洗胃、导泻<br />2、美蓝、维C和葡萄糖三者合用<br />3、对症处理</td><td>1、吃新鲜蔬菜，短时间内不大量摄入含硝酸盐较多的蔬菜，不能暴食蔬菜<br />2、肉制品中硝酸盐和亚硝酸盐的用量符合国家相关标砖，不能多加<br />3、不喝苦井水<br />4、保管亚硝酸盐，不误食</td></tr><tr><td>砷化物中毒</td><td>食品加工原料或者添加剂砷量过高；误食</td><td>1、潜伏期十几分钟-几小时<br />2、中毒后口腔和咽喉部有烧灼感，吞咽困难，口中金属味，消化系统表现<br />3、严重者休克，昏迷和惊厥，引发中毒性心肌病和急性肾功能衰竭</td><td>1、催吐、洗胃<br />2、用特效治疗药：硫基类药物<br />3、对症治疗</td><td>1、严格报关砷化物和砷制农药<br />2、食品加工原料和添加剂不得超过国家规定<br />3、对含砷化合物要健全管理</td></tr></tbody></table><h2 id="真菌及其毒素食物中毒"><a href="#真菌及其毒素食物中毒" class="headerlink" title="真菌及其毒素食物中毒"></a>真菌及其毒素食物中毒</h2><table><thead><tr><th>类别</th><th>原因</th><th>潜伏期</th><th>表现</th><th>措施</th></tr></thead><tbody><tr><td>赤酶病麦中毒</td><td>有毒成分是赤霉病麦毒素，对热稳定</td><td>10min-5h</td><td>1、头晕、恶心、胃部不适、有烧灼感、呕吐、乏力<br />2、重症出现呼吸、脉搏、血压不稳、四肢酸软，步态不稳似醉酒</td><td>1、根据粮食中毒素的限量标准，加强粮食的食品安全管理<br />2、去除或减少病麦粒<br />3、加强田间或储存的防霉措施</td></tr><tr><td>霉变甘蔗</td><td>有毒成分是节菱孢霉产生的3-硝基丙酸，神经毒素，主要损害中枢神经</td><td>15-30min，最长达48h</td><td>1、初期头晕头痛，恶心呕吐，腹泻，部分有复视或幻觉<br />2、重者阵发性抽搐，四肢强直或屈曲，手呈鸡爪状，大小便失禁，牙关紧闭，面部发绀<br />3、严重者很快进入昏迷，体温升高，而死于呼吸衰竭<br />4、幸存者常因中枢神经损害导致终身残疾</td><td>1、甘蔗成熟后再收割<br />2、甘蔗收割、储存、运输过程中应注意防伤、防冻、防霉变<br />3、严禁销售和食用不成熟或有病菌的甘蔗</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> 营养学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 营养学 </tag>
            
            <tag> 食品安全 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>慢性病</title>
      <link href="/2019/03/18/%E8%90%A5%E5%85%BB%E5%AD%A6/%E6%85%A2%E6%80%A7%E7%97%85/"/>
      <url>/2019/03/18/%E8%90%A5%E5%85%BB%E5%AD%A6/%E6%85%A2%E6%80%A7%E7%97%85/</url>
      
        <content type="html"><![CDATA[<h2 id="肥胖"><a href="#肥胖" class="headerlink" title="肥胖"></a>肥胖</h2><h3 id="指标"><a href="#指标" class="headerlink" title="指标"></a>指标</h3><ul><li>BMI</li><li>腰围：男90，女85</li><li>腰臀比：男0.9，女0.85</li></ul><h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><ul><li>理想体重<blockquote><p>理想体重&#x3D;身高-105</p></blockquote></li><li>肥胖度<ul><li><blockquote><p>肥胖度&#x3D;（实测值-理想值）&#x2F;理想值*100%</p></blockquote></li><li>＞20% 肥胖</li><li>＞10% 超重</li><li>＞50% 重度肥胖</li></ul></li><li>总能量<blockquote><p>总能量&#x3D;理想体重*（20~25）</p></blockquote></li></ul><h2 id="血压"><a href="#血压" class="headerlink" title="血压"></a>血压</h2><ul><li>动脉（主要）、静脉、毛细血管</li><li>分类<ul><li>原发</li><li>继发</li></ul></li><li>膳食<ul><li>Na（多）</li><li>肥胖</li><li>酒精摄入多</li><li>K（低</li><li>Ca（低</li><li>Mg（与血压呈负相关</li><li>脂类（多</li><li>膳食纤维</li></ul></li></ul><h2 id="冠心病"><a href="#冠心病" class="headerlink" title="冠心病"></a>冠心病</h2><h3 id="二级预防"><a href="#二级预防" class="headerlink" title="二级预防"></a>二级预防</h3><ul><li><p>一级预防</p><ul><li><p>合理膳食，防止超重肥胖</p></li><li><p>控制和治疗高血压、血脂异常、糖尿病</p></li><li><p>生活规律，避免精神紧张，适当体育锻炼</p></li></ul></li><li><p>二级预防</p><ul><li><p>保持心态平和，避免情绪激动</p></li><li><p>戒烟戒酒</p></li><li><p>适当体力劳动</p></li><li><p>合理膳食，防止超重肥胖</p></li><li><p>适量使用药物，做好监测</p></li></ul></li></ul><h3 id="营养防治"><a href="#营养防治" class="headerlink" title="营养防治"></a>营养防治</h3><ul><li><p>禁烟酒</p></li><li><p>能量摄入要达到并维持理想体重或适宜体重</p></li><li><p>减少脂肪摄入</p></li><li><p>适量碳水，限制蔗糖和果糖摄入</p></li><li><p>适量蛋白质，适当增加大豆及其制品摄入</p></li><li><p>增加蔬果摄入</p></li><li><p>少食多餐，细嚼慢咽</p></li><li><p>防止情绪波动</p></li></ul><h2 id="痛风"><a href="#痛风" class="headerlink" title="痛风"></a>痛风</h2><h3 id="膳食影响因素"><a href="#膳食影响因素" class="headerlink" title="膳食影响因素"></a>膳食影响因素</h3><ul><li><p>肥胖</p></li><li><p>喝酒，喝水不足</p></li><li><p>高嘌呤、高脂肪</p></li><li><p>药物</p></li></ul><h3 id="诱发加重因素"><a href="#诱发加重因素" class="headerlink" title="诱发加重因素"></a>诱发加重因素</h3><ul><li><p>激烈运动</p></li><li><p>酗酒</p></li><li><p>缺氧</p></li><li><p>受凉</p></li><li><p>体重减轻过快等</p></li></ul><h3 id="营养防治-1"><a href="#营养防治-1" class="headerlink" title="营养防治"></a>营养防治</h3><ul><li><p>限制总能量，防治超重肥胖</p><ul><li>能量减少应循环渐进，防止痛风急性发作</li><li>每周减轻0.5-1kg</li></ul></li><li><p>合理的膳食结构</p><ul><li><p>蛋白质10-15%，脂肪&lt;20%，碳水50%-65%</p></li><li><p>维生素和矿物质充足</p></li></ul></li><li><p>液体摄入充足</p><p>  每天2000ml以上；夜间喝水</p></li><li><p>禁酒</p><p>  乳酸堆起，易诱发痛风</p></li><li><p>建立良好饮食习惯</p></li><li><p>选择低嘌呤食物</p><ul><li><p>痛风发作期间：低嘌呤，牛奶，蛋类，蔬果，细粮</p></li><li><p>缓解期：中低等嘌呤饮食</p></li><li><p>避免高嘌呤食物</p></li></ul></li></ul><h2 id="骨质疏松"><a href="#骨质疏松" class="headerlink" title="骨质疏松"></a>骨质疏松</h2><h3 id="膳食影响"><a href="#膳食影响" class="headerlink" title="膳食影响"></a>膳食影响</h3><ul><li><p>蛋白质不足或者过量都会导致骨质疏松</p></li><li><p>钙的摄入量直接影响骨骼存储的钙量</p></li><li><p>必要条件：钙磷比适宜 维持骨骼坚固</p></li><li><p>Mg、Zn参与骨形成，高盐饮食影响正常的骨代谢</p></li><li><p>维D促进Ca吸收，直接参与骨代谢，维K减少</p></li><li><p>维A保证骨正常生成和重建</p></li><li><p>维C促进钙吸收和增加钙储存</p></li><li><p>过多摄入膳食纤维增加Ca排出</p></li></ul><h3 id="膳食防治"><a href="#膳食防治" class="headerlink" title="膳食防治"></a>膳食防治</h3><ul><li><p>从儿童时期开始预防，增加骨峰值</p></li><li><p>加强体育锻炼，尤其是负重运动</p></li><li><p>控制能量，保持适宜体重</p></li><li><p>控制蛋白质的摄入量</p></li><li><p>按年龄段摄入充足的钙，注意其他矿物质与钙的平衡</p></li><li><p>经常摄入富含维A、C、D、K的食物</p></li><li><p>低Na饮食</p></li><li><p>忌烟酒，忌喝浓咖啡</p></li><li><p>经常晒太阳，多参加户外运动</p></li><li><p>选择适宜运动项目，防摔跤</p></li><li><p>加强宣传教育</p></li></ul><h2 id="肿瘤"><a href="#肿瘤" class="headerlink" title="肿瘤"></a>肿瘤</h2><ul><li>膳食导致<ul><li>高脂</li><li>蛋白质不足&#x2F;过多</li><li>膳食纤维</li><li>维生素（A、C、E、叶酸</li><li>硒、Fe</li></ul></li><li>食物抗肿瘤<ul><li>类黄酮</li><li>多酚类</li><li>皂苷物</li><li>有机硫化物</li></ul></li><li>加工产生致癌<ul><li>糖精</li><li>黄曲霉</li><li>亚硝胺</li><li>多环芳烃等</li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> 营养学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 营养学 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>食物卫生要求</title>
      <link href="/2019/03/18/%E8%90%A5%E5%85%BB%E5%AD%A6/%E3%80%90%E9%A3%9F%E5%93%81%E5%AE%89%E5%85%A8%E3%80%91%E9%A3%9F%E7%89%A9%E5%8D%AB%E7%94%9F%E8%A6%81%E6%B1%82/"/>
      <url>/2019/03/18/%E8%90%A5%E5%85%BB%E5%AD%A6/%E3%80%90%E9%A3%9F%E5%93%81%E5%AE%89%E5%85%A8%E3%80%91%E9%A3%9F%E7%89%A9%E5%8D%AB%E7%94%9F%E8%A6%81%E6%B1%82/</url>
      
        <content type="html"><![CDATA[<h2 id="动物性"><a href="#动物性" class="headerlink" title="动物性"></a>动物性</h2><h3 id="主要卫生问题"><a href="#主要卫生问题" class="headerlink" title="主要卫生问题"></a>主要卫生问题</h3><ul><li>腐败变质<br>  加工存储中，卫生管理过程不当</li><li>人畜共患传染病<br>  炭疽、布氏杆菌、口蹄疫等</li><li>药物残留<br>  抗生素、抗菌素、抗寄生虫药、激素及生长促进剂</li><li>死畜肉<br>  病死、中毒、外伤死亡</li><li>食用违禁饲料添加剂</li></ul><h3 id="卫生要求"><a href="#卫生要求" class="headerlink" title="卫生要求"></a>卫生要求</h3><ul><li>感官指标：是鉴定肉类是否腐败变质的重要指标之一</li><li>屠宰、污染物等应符合相关标准</li><li>建立完善的可追溯体系和召回制度</li></ul><h3 id="水产品"><a href="#水产品" class="headerlink" title="水产品"></a>水产品</h3><h4 id="主要卫生问题-1"><a href="#主要卫生问题-1" class="headerlink" title="主要卫生问题"></a>主要卫生问题</h4><ul><li>腐败变质<br>  活鱼的肉是无菌的，鱼的体表、鳃及肠道内有一定细菌</li><li>工业污水污染</li><li>寄生虫<br>  华支睾吸虫、卫氏并殖吸虫</li><li>食物中毒<br>  河豚毒素</li></ul><h4 id="卫生要求-1"><a href="#卫生要求-1" class="headerlink" title="卫生要求"></a>卫生要求</h4><pre><code>各类鲜活、冻货海鲜及其制品符合相关标准</code></pre><h3 id="蛋类"><a href="#蛋类" class="headerlink" title="蛋类"></a>蛋类</h3><h4 id="主要卫生问题-2"><a href="#主要卫生问题-2" class="headerlink" title="主要卫生问题"></a>主要卫生问题</h4><ul><li>微生物污染<br>  沙门氏菌感染（常见</li><li>化学污染<br>  汞（主要、激素、农药、抗生素等</li><li>其他<br>  异味污染、受精禽蛋发育</li></ul><h4 id="卫生要求-2"><a href="#卫生要求-2" class="headerlink" title="卫生要求"></a>卫生要求</h4><ul><li>感官要求</li><li>其他<br>  污染物、农药残留、致病菌限量符合相关标准规定</li></ul><h3 id="奶类"><a href="#奶类" class="headerlink" title="奶类"></a>奶类</h3><h4 id="主要卫生问题-3"><a href="#主要卫生问题-3" class="headerlink" title="主要卫生问题"></a>主要卫生问题</h4><ul><li>奶类中的微生物<ul><li>溶菌酶有助于抑菌，但保持时间和细菌数量及时间有关</li><li>0°可以保持48h，奶挤出后应及时冷却</li></ul></li><li>致病菌<ul><li>挤奶前动物本身的致病菌</li><li>挤奶时和挤奶后来源于手、空气、工具、容器中的致病菌</li></ul></li><li>奶及奶制品的有毒有害物质残留<ul><li>抗生素、残留农药、重金属</li><li>饲料中霉菌有毒代谢物质、放射性核素</li></ul></li><li>掺伪<br>  掺水、电解质、非电解质、胶质物、防腐剂、其他物质等</li></ul><h4 id="卫生要求-3"><a href="#卫生要求-3" class="headerlink" title="卫生要求"></a>卫生要求</h4><ul><li>乳<ul><li>生乳、巴氏杀菌乳、灭菌乳应符合相关国家规定</li><li>感官要求</li><li>理化性质<br>  脂肪≥3.1%；蛋白质≥2.9%；非脂乳固体≥8.1%；酸度12-18</li><li>污染物限量、真菌霉素限量、菌落总数等应符合国家相关标准</li></ul></li><li>各种奶制品均应符合相应的卫生标准</li></ul><h2 id="植物性"><a href="#植物性" class="headerlink" title="植物性"></a>植物性</h2><h3 id="粮豆类"><a href="#粮豆类" class="headerlink" title="粮豆类"></a>粮豆类</h3><h4 id="主要卫生问题-4"><a href="#主要卫生问题-4" class="headerlink" title="主要卫生问题"></a>主要卫生问题</h4><ul><li><p>霉菌和霉菌毒素的污染</p><p>  湿度大，温度高易发生霉变</p></li><li><p>农药残留</p><p>  农药喷洒和环境中的农药吸收</p></li><li><p>有毒有害物质污染</p><p>  工业废水和生活污水灌溉农田会导致重金属超标</p></li><li><p>仓储害虫</p><p>  适宜温度和湿度，虫卵孵化和害虫繁殖</p></li><li><p>其他</p><p>  无机夹杂物和有毒种子的污染</p></li><li><p>掺伪<br>  掩盖霉变；增白；掺假、掺杂或以低质量食物冒充高质量食物</p></li></ul><h4 id="卫生要求-4"><a href="#卫生要求-4" class="headerlink" title="卫生要求"></a>卫生要求</h4><ul><li><p>控制粮豆类水分和储存条件</p></li><li><p>搞好仓库卫生</p></li><li><p>豆制品</p><ul><li><p>清洁、防止微生物无法</p></li><li><p>注意感官变化</p></li></ul></li></ul><h3 id="蔬果"><a href="#蔬果" class="headerlink" title="蔬果"></a>蔬果</h3><h4 id="主要卫生问题-5"><a href="#主要卫生问题-5" class="headerlink" title="主要卫生问题"></a>主要卫生问题</h4><ul><li><p>微生物和寄生虫卵污染</p></li><li><p>工业废水和生活污水污染</p></li><li><p>蔬果农药残留</p></li><li><p>腐败变质</p></li><li><p>亚硝酸盐含量。生长干旱、收获后储存不当或者腌制、都会导致亚硝酸盐含量升高</p></li></ul><h4 id="卫生要求-5"><a href="#卫生要求-5" class="headerlink" title="卫生要求"></a>卫生要求</h4><ul><li><p>防止肠道致病菌及寄生虫卵污染</p></li><li><p>严格控制蔬果农药残留</p></li><li><p>适宜存放条件</p><p>  10°左右，冷藏或者速冻、辐照，保鲜剂</p></li><li><p>蔬果需要清洗消毒</p></li></ul><h2 id="冷饮"><a href="#冷饮" class="headerlink" title="冷饮"></a>冷饮</h2><h3 id="卫生问题"><a href="#卫生问题" class="headerlink" title="卫生问题"></a>卫生问题</h3><ul><li>微生物污染<ul><li>空气中杂菌的自然污染</li><li>生产环境差，消毒不彻底</li><li>使用不清洁的用具和容器</li><li>销售过程被污染</li></ul></li><li>有害化学物质<ul><li>食品添加剂使用不当</li><li>与食品接触的容器析出有害金属</li></ul></li></ul><h3 id="卫生要求-6"><a href="#卫生要求-6" class="headerlink" title="卫生要求"></a>卫生要求</h3><ul><li>管好原料<br>  符合国家标准</li><li>管好生产线</li><li>管好销售渠道</li><li>严格执行产品检验制度</li></ul><h2 id="罐头食品"><a href="#罐头食品" class="headerlink" title="罐头食品"></a>罐头食品</h2><h3 id="卫生问题-1"><a href="#卫生问题-1" class="headerlink" title="卫生问题"></a>卫生问题</h3><ul><li>生物性气胀<br>  微生物繁殖生长，产生气体</li><li>化学性气胀<br>  马口铁受侵蚀释放氢引起</li><li>物理性气胀<br>  罐装过满、排气不充分、气压变化</li></ul><h3 id="卫生要求-7"><a href="#卫生要求-7" class="headerlink" title="卫生要求"></a>卫生要求</h3><ul><li>罐头食品应参考国家标准</li><li>罐皮材料符合国家相关标准，罐皮焊接处、橡胶等不与食物直接接触</li><li>出厂前检验<ul><li>生物检验<br>  37°保温7天，胖听程度增大</li><li>化学检验<br>  胖听程度不变</li><li>物理检验<br>  胖听消失</li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> 营养学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 营养学 </tag>
            
            <tag> 食品安全 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>儿童和青春期</title>
      <link href="/2019/03/18/%E8%90%A5%E5%85%BB%E5%AD%A6/%E3%80%90%E4%BA%BA%E7%BE%A4%E8%90%A5%E5%85%BB%E3%80%91%E5%84%BF%E7%AB%A5%E5%92%8C%E9%9D%92%E6%98%A5%E6%9C%9F/"/>
      <url>/2019/03/18/%E8%90%A5%E5%85%BB%E5%AD%A6/%E3%80%90%E4%BA%BA%E7%BE%A4%E8%90%A5%E5%85%BB%E3%80%91%E5%84%BF%E7%AB%A5%E5%92%8C%E9%9D%92%E6%98%A5%E6%9C%9F/</url>
      
        <content type="html"><![CDATA[<h2 id="学龄前期儿童"><a href="#学龄前期儿童" class="headerlink" title="学龄前期儿童"></a>学龄前期儿童</h2><h3 id="营养特点"><a href="#营养特点" class="headerlink" title="营养特点"></a>营养特点</h3><ul><li>体格发育速度减慢，但仍然稳步上升<ul><li>体重&#x3D;年龄*2+7&#x2F;8</li><li>身高&#x3D;年龄*7+70</li><li>受遗传、环境、疾病等因素的影响</li></ul></li><li>3岁神经细胞分化基本完成，脑组织进一步发育，神经传导速度加快</li><li>6岁第一颗恒牙萌出，咀嚼消化能力有限</li><li>注意力分散，行为表现独立、主动性，模仿能力上升</li></ul><h3 id="营养需要"><a href="#营养需要" class="headerlink" title="营养需要"></a>营养需要</h3><p>用于生长发育、代谢、体力劳动、食物热效应需要</p><ul><li>蛋白质<ul><li>RNI：30g&#x2F;d（3-5岁），60g&#x2F;d（6岁以后，动物蛋白占50%</li><li>AMDR：8%-20%E（4-5岁</li></ul></li><li>脂类<ul><li>生长发育、免疫功能的维持，脑发育及神经髓鞘的形成</li></ul></li><li>碳水<ul><li>复杂碳水为主，限制添加糖（＜10%E</li><li>适量膳食纤维</li><li>AMDR：50%-65%</li></ul></li><li>矿物质（RNI<ul><li>Ca：<ul><li>500mg&#x2F;d（3-4岁），600mg&#x2F;d（4-6）</li><li>每日奶摄入300-500ml，每日平均Ca储留量100-500mg</li></ul></li><li>Fe<ul><li>缺铁性贫血是常见疾病，</li><li>儿童生长发育需要，内源性可利用Fe少，奶类占比大，富含Fe少</li><li>RNI：10mg&#x2F;d（3-6岁</li><li>维C可以促进Fe吸收</li></ul></li><li>Zn    <ul><li>缺乏会导致味觉降低，厌食、异食癖、面容苍白、感染性疾病</li><li>4mg&#x2F;d（3-4岁，5.5mg&#x2F;d（4-6岁</li></ul></li></ul></li><li>维生素<ul><li>维a<ul><li>生长发育，对骨骼生长有重要作用</li><li>每周一次动物肝脏摄入，每天摄入一定量蛋黄、牛奶、深色蔬菜或鱼肝油</li><li>RNI：340ugRAE&#x2F;d（3-4岁男性），330ugRAE&#x2F;d（3-4岁女性），390ugRAE（4-6岁男性），380ugRAE&#x2F;d（4-6岁女性）</li></ul></li><li>B族<ul><li>B1：影响食欲、消化</li><li>B2：口角炎、舌炎、唇炎、湿疹、缺Fe性贫血</li><li>烟酸对儿童体内代谢、促进生长发育有重要作用</li></ul></li><li>维C<ul><li>RNI：40mg&#x2F;d（3-4岁），50mg&#x2F;d（4-6岁）</li><li>亚临床缺乏</li></ul></li></ul></li></ul><h3 id="膳食指南"><a href="#膳食指南" class="headerlink" title="膳食指南"></a>膳食指南</h3><ul><li>身体总活动时间<ul><li>180min&#x2F;d+</li><li>户外120min&#x2F;d+，中等以上＞60min</li></ul></li><li>久坐持续＜1h&#x2F;d</li><li>视屏＜1h&#x2F;d</li></ul><h2 id="学龄儿童"><a href="#学龄儿童" class="headerlink" title="学龄儿童"></a>学龄儿童</h2><h3 id="营养特点-1"><a href="#营养特点-1" class="headerlink" title="营养特点"></a>营养特点</h3><ul><li>体格发育稳步上升</li><li>各器官发育有先有后，神经系统发育早，生殖系统发育晚</li><li>身体各部位生长速度不同，自下而上，自肢体远端向中心躯干的规律性变化</li></ul><h3 id="营养需要（学龄期-青春期"><a href="#营养需要（学龄期-青春期" class="headerlink" title="营养需要（学龄期+青春期"></a>营养需要（学龄期+青春期</h3><ul><li>能量<ul><li>合成代谢旺盛，所需比成人高</li><li>男女营养需要出现较大差异，能量处于正平衡状态</li></ul></li><li>蛋白质<ul><li>正氮平衡</li></ul></li><li>脂肪<ul><li>生长发育高峰期</li><li>种类：含必须脂肪酸的植物油</li><li>AMDR：20-30%，SFA（不饱和脂肪酸）的U-AMDR＜8%E</li></ul></li><li>碳水<ul><li>适量可避免脂肪摄入过多</li><li>谷薯类和蔬果含膳食纤维、低聚糖，避免摄入过多糖分</li><li>AMDR：50-60%E,糖＜10%</li></ul></li><li>矿物质<ul><li>Ca<ul><li>需要量＞成人</li></ul></li><li>Fe    <ul><li>女孩常见，注意摄入</li></ul></li><li>Zn    <ul><li>缺乏会导致食欲差，性发育不良及免疫功能受损</li></ul></li><li>I<ul><li>缺碘性甲状腺肿发病率高</li><li>避免高碘性甲状腺肿</li></ul></li></ul></li><li>维生素<ul><li>维a<ul><li>缺乏率＞成人</li></ul></li><li>B1<ul><li>精加工谷物导致</li></ul></li><li>B2<ul><li>学习生活紧张易缺乏</li></ul></li></ul></li></ul><h2 id="青春期"><a href="#青春期" class="headerlink" title="青春期"></a>青春期</h2><h3 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h3><ul><li>大脑、心理发育进入高峰期</li><li>生殖系统发育成熟，第二特征迅速发育</li><li>体格突增<ul><li>男晚女性2年</li><li>持续时间：男性＞女性</li><li>增长幅度</li></ul></li><li>生长激素：控制生长发育最重要的激素</li><li>性激素：促进蛋白质合成及骨骼、肌肉发育，骨骼增长变粗</li><li>甲状腺激素：促进骨骼发育和成熟</li></ul>]]></content>
      
      
      <categories>
          
          <category> 营养学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 营养学 </tag>
            
            <tag> 人群营养 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>婴幼儿和乳母</title>
      <link href="/2019/03/18/%E8%90%A5%E5%85%BB%E5%AD%A6/%E3%80%90%E4%BA%BA%E7%BE%A4%E8%90%A5%E5%85%BB%E3%80%91%E5%A9%B4%E5%B9%BC%E5%84%BF%E5%92%8C%E4%B9%B3%E6%AF%8D/"/>
      <url>/2019/03/18/%E8%90%A5%E5%85%BB%E5%AD%A6/%E3%80%90%E4%BA%BA%E7%BE%A4%E8%90%A5%E5%85%BB%E3%80%91%E5%A9%B4%E5%B9%BC%E5%84%BF%E5%92%8C%E4%B9%B3%E6%AF%8D/</url>
      
        <content type="html"><![CDATA[<h2 id="婴儿特点"><a href="#婴儿特点" class="headerlink" title="婴儿特点"></a>婴儿特点</h2><ul><li>体重增长最快，3月是出生时的2倍，1岁≥3倍出生体重</li><li>足月新生儿50cm，1岁增加50%，达到75cm</li><li>出生时头围＞胸围，6-12个月出现头胸围交叉</li><li>诞腺未成熟，3-4个月逐渐发育完善，唾液淀粉酶分泌增加</li><li>胃容量小，喯门括约肌松弛，胃蛋白酶活性弱，凝乳酶和脂肪酶含量少，消化能力受限，排泄少</li><li>小肠吸收分泌面积大，有利于消化</li></ul><h2 id="幼儿特点（1-4岁"><a href="#幼儿特点（1-4岁" class="headerlink" title="幼儿特点（1-4岁"></a>幼儿特点（1-4岁</h2><ul><li>1岁后体重增加减慢，2岁是出生的4倍，青春期体重增长速度加快</li><li>身高增长速度下降，3岁为100cm</li><li>1岁头围胸围相等，2岁胸围＞头围，胸围反应胸廓和胸背肌发育</li><li>上臂围：反应皮下脂肪厚度营养状况</li><li>脑发育从孕中期开始，持续出生的2-3年</li><li>1岁第一乳磨牙，1.5岁尖牙，2岁第二乳磨牙，20颗乳牙出齐不迟于2.5岁<ul><li>乳牙数&#x3D;月龄-6</li></ul></li><li>胃蛋白酶、胰蛋白酶、糜蛋白酶、羟肽酶、脂肪酶活性接近于成人，但咀嚼功能未完全</li></ul><h2 id="乳汁营养特点"><a href="#乳汁营养特点" class="headerlink" title="乳汁营养特点"></a>乳汁营养特点</h2><p>初乳-》过渡乳-》成熟乳</p><p>初乳：比成熟乳颜色淡，富含免疫因子</p><p>后乳：脂肪高，乳汁浓稠</p><h3 id="蛋白质和氨基酸"><a href="#蛋白质和氨基酸" class="headerlink" title="蛋白质和氨基酸"></a>蛋白质和氨基酸</h3><ul><li><p>蛋白质：比牛乳少，乳清蛋白占70%，易于消化</p></li><li><p>α-乳清蛋白为主，可促进乳糖合成</p></li><li><p>胱氨酸、牛磺酸为必须营养素</p></li></ul><h3 id="脂肪"><a href="#脂肪" class="headerlink" title="脂肪"></a>脂肪</h3><ul><li><p>种类和数量&gt;牛乳</p><ul><li><p>人乳脂肪处于第二位含有更多比例的棕榈酸</p></li><li><p>牛乳脂肪处于第一位和第三位，导致脂肪和ca的吸收和便秘</p></li></ul></li><li><p>必需氨基酸由母乳提供</p></li></ul><h3 id="碳水化合物"><a href="#碳水化合物" class="headerlink" title="碳水化合物"></a>碳水化合物</h3><ul><li><p>乳糖&gt;牛乳</p><ul><li>抑制大肠杆菌的生长，促进ca吸收</li></ul></li><li><p>以α-乙型乳糖为主</p></li></ul><h3 id="矿物质"><a href="#矿物质" class="headerlink" title="矿物质"></a>矿物质</h3><ul><li><p>钙磷比（2：1）恰当</p></li><li><p>Fe含量低，吸收率高</p></li><li><p>初乳Zn含量高</p></li></ul><h3 id="维生素"><a href="#维生素" class="headerlink" title="维生素"></a>维生素</h3><p>水溶性维生素和维生素A受乳母营养状况影响大</p><h3 id="免疫活性物质含量多"><a href="#免疫活性物质含量多" class="headerlink" title="免疫活性物质含量多"></a>免疫活性物质含量多</h3><ul><li><p>白细胞和淋巴细胞：存在与母乳前3-4月</p></li><li><p>抗体：初乳以分泌型免疫球蛋白SlgA为主</p></li><li><p>乳铁蛋白、溶菌酶、补体、低聚糖和共轭糖原、其他抗感染物质</p></li></ul><h3 id="激素和生长因子"><a href="#激素和生长因子" class="headerlink" title="激素和生长因子"></a>激素和生长因子</h3><ul><li><p>表皮生长因子、神经生长因子、胰岛素样生长因子、转移生长因子</p></li><li><p>甲状腺素、前列腺素、TRH等</p></li></ul><h2 id="0-6月母乳喂养"><a href="#0-6月母乳喂养" class="headerlink" title="0-6月母乳喂养"></a>0-6月母乳喂养</h2><ul><li><p>母乳是最理想的食物，坚持6个月内纯母乳喂养</p></li><li><p>出生后1h内尽早开奶，重视尽早吮吸</p><p>  第一口食物是母乳可以预防新生儿过敏，减轻新生儿黄疸、体重下降和糖尿病的发生风险</p></li><li><p>回应式喂养，建立良好的生活规律</p></li><li><p>适当补充维D，母乳喂养不需要额外补钙</p></li><li><p>需要咨询医生，若不想母乳</p></li><li><p>定期监测婴儿体格指标，保持健康成长</p></li></ul><h2 id="7-24月"><a href="#7-24月" class="headerlink" title="7-24月"></a>7-24月</h2><h3 id="营养素"><a href="#营养素" class="headerlink" title="营养素"></a>营养素</h3><ul><li><p>Na</p><p>  7-12月母乳可以达到AI</p><p>  12月+，尝试家庭食物，明显增加</p></li><li><p>I</p><p>  乳母经常食用海产品</p><p>  海产鱼虾类作为婴幼儿辅食</p></li></ul><h2 id="母乳喂养好处"><a href="#母乳喂养好处" class="headerlink" title="母乳喂养好处"></a>母乳喂养好处</h2><ul><li><p>适合婴儿消化、代谢能力，能满足婴儿全面营养需求的天然食物</p></li><li><p>确保婴儿体格健康成长，有利于婴儿脑神经功能和认知发展</p></li><li><p>有助于母婴情感交流，促进婴儿行为和心理健康</p></li><li><p>有助于肠道健康微生态环境的建立，肠道功能及免疫功能的成熟，降低感染性疾病和过敏性疾病</p></li><li><p>有助于降低婴儿远期慢性病的发生风险</p><ul><li><p>降低母亲产后出血和体重滞留风险</p></li><li><p>延长闭经时间</p></li><li><p>降低母亲乳腺癌，卵巢癌，2型糖尿病</p></li></ul></li><li><p>母乳喂养经济、安全、方便</p></li></ul><h2 id="母乳存放"><a href="#母乳存放" class="headerlink" title="母乳存放"></a>母乳存放</h2><ul><li><p>室温：20-25°存放4h</p></li><li><p>冷藏：48h</p></li><li><p>便携式保温冰盒：10°24h</p></li><li><p>冷冻：-15~-5° 3-6个月；&lt;-20°保存6-12个月</p></li></ul><h2 id="母乳分泌量判断"><a href="#母乳分泌量判断" class="headerlink" title="母乳分泌量判断"></a>母乳分泌量判断</h2><ul><li><p>婴儿每天可以得到8~12次较为满足的母乳喂养</p></li><li><p>哺乳时，婴儿有节律的吮吸，并可以听到明显吞咽声</p></li><li><p>排尿：出生后最初2天，1-2次&#x2F;d，第3天起，6-8次&#x2F;d，或者每天尿湿5-6个尿不湿</p><ul><li>若有粉红色尿酸盐结晶的尿，应在出生后第3天消失</li></ul></li><li><p>排便：出生后每24h至少3-4次，&gt;1汤勺&#x2F;次，第3天开始，软，黄便，4-10次&#x2F;d</p></li><li><p>通过称重婴儿摄乳前后体重对比</p></li><li><p>身长、体重、头围等</p></li></ul><h2 id="按需喂养"><a href="#按需喂养" class="headerlink" title="按需喂养"></a>按需喂养</h2><p>通过识别婴幼儿发出饥饿与进食的信号，在不限制哺乳次数和时长的前提下，立即、合理回应婴儿的进食需求</p><p>婴儿饥饿是按需喂养的基础</p><h2 id="回应式喂养"><a href="#回应式喂养" class="headerlink" title="回应式喂养"></a>回应式喂养</h2><p>顺式喂养，及时对婴儿发出的进食需求，迅速做出喂养回应</p><p>新生儿的按需喂养，日后逐渐形成规律的喂养方式</p><h2 id="按需喂养转为规律喂养"><a href="#按需喂养转为规律喂养" class="headerlink" title="按需喂养转为规律喂养"></a>按需喂养转为规律喂养</h2><p>新生儿胃容量小，胃排空快，需多次哺乳</p><p>随着成长，喂奶间隔从1-2h逐渐延长到3h左右</p><p>3个月后，胃容量增加，进食习惯趋于规律，夜间睡眠时间延长，夜奶次数逐渐减少</p><h2 id="营养素补充"><a href="#营养素补充" class="headerlink" title="营养素补充"></a>营养素补充</h2><h3 id="维生素D"><a href="#维生素D" class="headerlink" title="维生素D"></a>维生素D</h3><ul><li><p>出生1-2周内，母乳营养状况比较稳定，10ug&#x2F;d</p></li><li><p>人工喂养</p><p>   关注配方奶提供的维d含量，按每日700ml奶量计算，能提供10ug的维d</p><p>   可以不额外补充，也可以适量补充</p></li><li><p>阳光照射</p><ul><li><p>条件</p><p>  阳光充足，皮肤暴露范围足够，阳光暴露时间充足</p></li><li><p>维d获得难度高，不确定性大</p><ul><li><p>当地季节，纬度，环境污染等条件限制</p></li><li><p>阳光的高能蓝光对婴儿视觉产生不利影响</p></li><li><p>婴儿皮肤娇嫩，过早暴露日光照射可能会对皮肤产生伤害</p></li></ul></li></ul></li></ul><h3 id="维生素K"><a href="#维生素K" class="headerlink" title="维生素K"></a>维生素K</h3><ul><li><p>补充原因</p><ul><li><p>母乳含量低</p></li><li><p>新生儿（尤其是剖）肠道菌群不能及时建立，无法及时合成维k</p></li><li><p>大量使用抗生素的婴儿，肠道菌群可能被破坏，面临缺乏风险</p></li></ul></li><li><p>补充途径</p><ul><li><p>肌肉注射1mg；出生体重&lt;1500g的早产儿0.5mg</p></li><li><p>出生后没有注射或者母婴双方接受可能干扰维生素k代谢的相关治疗，及时咨询</p></li><li><p>配方奶喂养的婴儿，需关注配方奶配方</p></li></ul></li></ul><h3 id="Ca"><a href="#Ca" class="headerlink" title="Ca"></a>Ca</h3><ul><li><p>母乳的Ca含量是稳态调节，最重要的调节是减少尿钙的排除</p></li><li><p>母乳的钙磷比是2：1，母乳喂养的婴儿肠道内形成的不溶性化合物较少</p></li><li><p>母乳的饱和脂肪酸（棕榈酸）主要是sn-2位，减少皂钙的形成</p></li></ul><h2 id="不能母乳情况"><a href="#不能母乳情况" class="headerlink" title="不能母乳情况"></a>不能母乳情况</h2><ul><li><p>婴儿患病，包括先天和遗传性疾病</p></li><li><p>乳母患病，如传染病、精神病</p></li><li><p>母亲因各种原因摄入药物或者化学性物质</p></li><li><p>经专业人员判断乳汁人米不足</p></li></ul><h2 id="婴儿配方奶"><a href="#婴儿配方奶" class="headerlink" title="婴儿配方奶"></a>婴儿配方奶</h2><p>是母乳喂养失败的无奈选择</p><ul><li><p>经过一定配方设计和工艺加工，保证部分营养素的数量和比例接近母乳，但无法模拟母乳一整套完美独特的营养和生物活性成分体系，如低聚糖、铁蛋白和免疫球蛋白等以及很多未知的活性成分</p></li><li><p>母乳对婴儿饮食心理和接受各种天然食物有帮助，因为母乳会包含摄入食物的味道</p></li><li><p>母乳喂养和奶瓶喂养对于婴儿的心理和智力体验不同</p></li></ul><h2 id="人工喂养"><a href="#人工喂养" class="headerlink" title="人工喂养"></a>人工喂养</h2><p>不能母乳喂养时，采用牛乳、羊乳等动物乳或者其他代乳品喂养婴儿</p><h3 id="婴儿配方食品"><a href="#婴儿配方食品" class="headerlink" title="婴儿配方食品"></a>婴儿配方食品</h3><h4 id="普通配方"><a href="#普通配方" class="headerlink" title="普通配方"></a>普通配方</h4><ul><li>适用于正常婴儿食用的配方食品</li></ul><h5 id="乳基婴儿配方食品"><a href="#乳基婴儿配方食品" class="headerlink" title="乳基婴儿配方食品"></a>乳基婴儿配方食品</h5><ul><li><p>以乳类及乳蛋白制品为蛋白质的主要来源，不应含有谷蛋白</p></li><li><p>碳水以乳糖为主，不应使用果糖和蔗糖</p></li><li><p>不使用氢化工艺和辐照处理过的食品</p></li></ul><h5 id="豆基婴儿配方食品"><a href="#豆基婴儿配方食品" class="headerlink" title="豆基婴儿配方食品"></a>豆基婴儿配方食品</h5><h4 id="特殊医学用途婴儿配方食品"><a href="#特殊医学用途婴儿配方食品" class="headerlink" title="特殊医学用途婴儿配方食品"></a>特殊医学用途婴儿配方食品</h4><ul><li><p>无乳糖或低乳糖配方、乳蛋白部分水解配方、乳蛋白深度水解配方或氨基酸配方</p></li><li><p>早产&#x2F;低体重出生婴儿配方、氨基酸代谢障碍配方等</p></li></ul><h3 id="保存"><a href="#保存" class="headerlink" title="保存"></a>保存</h3><p>密封、低温冷藏</p><p>奶温接近体温</p><h2 id="辅食"><a href="#辅食" class="headerlink" title="辅食"></a>辅食</h2><h3 id="6月之后必须添加"><a href="#6月之后必须添加" class="headerlink" title="6月之后必须添加"></a>6月之后必须添加</h3><ul><li><p>纯母乳无法提供足够营养素和能量</p></li><li><p>6月时添加辅食与婴儿口气运动能力，及其对不同口味、不同质地食物的接受能力相一致</p></li><li><p>胃肠道及消化器官、消化酶发育已相对成熟</p></li><li><p>心理、认知行为能力能接受新食物</p></li></ul><h3 id="过早-晚添加"><a href="#过早-晚添加" class="headerlink" title="过早&#x2F;晚添加"></a>过早&#x2F;晚添加</h3><h4 id="过早"><a href="#过早" class="headerlink" title="过早"></a>过早</h4><ul><li><p>满4月前添加、纯母乳时间减少，增加儿童和成年期肥胖风险</p></li><li><p>喂养困难或增加感染、过敏风险</p></li><li><p>可能因为进食心情，影响长期的进食行为</p></li></ul><h4 id="过晚"><a href="#过晚" class="headerlink" title="过晚"></a>过晚</h4><ul><li><p>营养不良和缺铁性贫血等各种营养缺乏并，长期造成不可逆的影响</p></li><li><p>喂养困难，进食行为异常</p></li><li><p>食物过敏，增加过敏性疾病的风险</p></li></ul><h3 id="食物选择"><a href="#食物选择" class="headerlink" title="食物选择"></a>食物选择</h3><ul><li><p>富含能量、蛋白质、Fe、Zn、Ca、维生素A等</p></li><li><p>不添加盐、糖及其他刺激性调味品</p></li><li><p>质地适合，婴幼儿喜欢</p></li><li><p>价格合理，可负担</p></li><li><p>安全、优质、新鲜，不追求高价、稀有</p></li></ul><h3 id="含Fe丰富的食物"><a href="#含Fe丰富的食物" class="headerlink" title="含Fe丰富的食物"></a>含Fe丰富的食物</h3><ul><li><p>最佳来源：动物肝脏、瘦猪肉、牛肉、动物血含量高且吸收率高</p></li><li><p>蛋黄：有但吸收率＜肉类</p></li><li><p>婴幼儿配方奶、强化铁的米粉：吸收率低</p></li><li><p>绿叶蔬菜：维C促进Fe吸收，但草酸、植酸抑制</p></li><li><p>母乳：含铁量低，吸收率高</p></li></ul><h3 id="含维A食物"><a href="#含维A食物" class="headerlink" title="含维A食物"></a>含维A食物</h3><ul><li><p>不易通过胎盘获取，新生儿肝储存低，从食物中获取</p></li><li><p>主要来源：动物肝脏、蛋黄、鱼肝油、全脂奶及其制品</p></li><li><p>有色蔬菜：利用率低</p></li><li><p>母乳：受乳母维生素A营养状况影响，水溶性维生素受乳母膳食营养状况影响</p></li></ul><h3 id="第一口辅食"><a href="#第一口辅食" class="headerlink" title="第一口辅食"></a>第一口辅食</h3><ul><li><p>从富含铁的糊状食物开始，可以选择肉泥、蛋黄、强化铁的婴儿米粉</p></li><li><p>时间：中午或者中午前</p></li><li><p>合理安排时间，包括睡眠、进食和活动时间</p></li></ul><h3 id="蛋类引入"><a href="#蛋类引入" class="headerlink" title="蛋类引入"></a>蛋类引入</h3><ul><li><p>从蛋黄开始添加，第一天1&#x2F;8个-》第3天1&#x2F;2个-》第4天1个</p></li><li><p>逐渐混入鸡蛋白</p></li><li><p>注意观察不良反应</p></li></ul><h3 id="添加原则"><a href="#添加原则" class="headerlink" title="添加原则"></a>添加原则</h3><ul><li><p>每次只添加一种</p></li><li><p>由少到多</p></li><li><p>由稀到稠</p></li><li><p>由细到粗</p></li></ul><h3 id="多样化实现"><a href="#多样化实现" class="headerlink" title="多样化实现"></a>多样化实现</h3><ul><li><p>逐渐增加食物种类，一种到多种</p></li><li><p>泥糊状-》颗粒状-》半固体-》固体状</p></li><li><p>添加新食物后适应2-3天，密切观察是否出现呕吐、腹泻、过敏等</p></li><li><p>WHO强调，重视7-24月动物性食物的添加</p></li><li><p>没有特定顺序，按家庭或者当地饮食习惯</p></li></ul><h3 id="自主进食"><a href="#自主进食" class="headerlink" title="自主进食"></a>自主进食</h3><p>有意识结合婴幼儿感知觉、认知</p><table><thead><tr><th>月龄</th><th>原则</th></tr></thead><tbody><tr><td>7-9月</td><td>抓握玩弄餐具</td></tr><tr><td>10-12月</td><td>捡起较小物品，手眼协调熟练，尝试抓着食物自喂</td></tr><tr><td>13月</td><td>尝试小勺自喂，但大多洒落</td></tr><tr><td>18月</td><td>小勺自喂，仍有洒落</td></tr><tr><td>24月</td><td>小勺自喂，洒落较少</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> 营养学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 营养学 </tag>
            
            <tag> 人群营养 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>孕妇乳母</title>
      <link href="/2019/03/18/%E8%90%A5%E5%85%BB%E5%AD%A6/%E3%80%90%E4%BA%BA%E7%BE%A4%E8%90%A5%E5%85%BB%E3%80%91%E5%AD%95%E5%A6%87/"/>
      <url>/2019/03/18/%E8%90%A5%E5%85%BB%E5%AD%A6/%E3%80%90%E4%BA%BA%E7%BE%A4%E8%90%A5%E5%85%BB%E3%80%91%E5%AD%95%E5%A6%87/</url>
      
        <content type="html"><![CDATA[<h2 id="孕妇"><a href="#孕妇" class="headerlink" title="孕妇"></a>孕妇</h2><h3 id="营养"><a href="#营养" class="headerlink" title="营养"></a>营养</h3><ul><li><p>碳水</p><ul><li>＞130g&#x2F;d（孕早期</li><li>脑对葡萄糖的需求</li></ul></li><li><p>矿物质 </p><ul><li>Ca<ul><li>RNI：800mg&#x2F;d, UL: 2000mg&#x2F;d</li><li>不足影响：母体高血压、妊高症、先兆子癫，骨密度</li></ul></li><li>Fe<ul><li>RNI：孕中期+7mg&#x2F;d, 孕晚+11mg&#x2F;d， UL：42mg&#x2F;d</li><li>孕早期缺乏与早产和低体重出生儿有关，血红蛋白升高</li></ul></li><li>I<ul><li>RNI：230ug&#x2F;d，UL：500ug&#x2F;d</li><li>克汀病、甲低、生长发育迟缓、认知能力降低</li></ul></li><li>Zn<ul><li>RNI：10.5mg&#x2F;d（比非孕期+2</li><li>促进胎儿发育，预防先天畸形</li></ul></li></ul></li><li><p>维生素</p><ul><li>A：<ul><li>RNI：660ugRAE&#x2F;d（早），730ugRAE&#x2F;d（中晚），UL：3000ugRAE&#x2F;d</li><li>缺乏与早产、低体重出生儿、胎儿宫内发育迟缓</li></ul></li><li>D：<ul><li>RNI：10ug&#x2F;d，UL：50ug&#x2F;d</li><li>母体&#x2F;子体钙代谢紊乱、新生儿手足抽搐、低钙血症、婴儿牙釉发育不良及母体骨质软化症</li></ul></li><li>E<ul><li>AI：14mga-TE&#x2F;d</li><li>预防新生儿溶血有益，对长链脂肪酸有稳定作用</li></ul></li><li>K<ul><li><p>AI：80ug&#x2F;d</p></li><li><p>缺乏性出血症<br>  孕期服用维K抑制剂</p><p>  早产儿：不能通过胎盘，储存量少</p><p>  新生儿：初乳含量低，不能通过肠道细菌合成</p></li></ul></li><li>B1<ul><li>RNI：1.4mg&#x2F;d（中期），1.5mg&#x2F;d（晚期</li><li>加重早孕反应，新生儿出现B1缺乏症</li></ul></li><li>B2<ul><li>RNI：1.3mg&#x2F;d（中期），1.4mg&#x2F;d（晚期）</li><li>胎儿发育迟缓，缺铁性贫血</li></ul></li><li>B6<ul><li>RNI：2.2mg&#x2F;d</li><li>辅疗早孕反应，预防妊高症</li></ul></li><li>叶酸<ul><li>RNI：600ugDEF&#x2F;d</li><li>低体重出生儿，胎盘早剥、神经管畸形</li><li>孕妇巨幼红细胞性贫血、血同型半胱氨酸升高，妊娠并发症</li></ul></li></ul></li></ul><h3 id="营养不良影响"><a href="#营养不良影响" class="headerlink" title="营养不良影响"></a>营养不良影响</h3><ul><li>母体<ul><li>营养学贫血</li><li>骨质软化</li><li>维生素缺乏症</li><li>营养学不良水肿</li><li>妊高症等</li></ul></li><li>胎儿<ul><li>早产儿</li><li>低体重出生儿（成年后易糖耐量降低，高胰岛血糖</li><li>先天畸形</li><li>围生期婴儿死亡率</li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> 营养学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 营养学 </tag>
            
            <tag> 人群营养 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>营养教育</title>
      <link href="/2019/03/18/%E8%90%A5%E5%85%BB%E5%AD%A6/%E3%80%90%E8%90%A5%E5%85%BB%E5%92%A8%E8%AF%A2%E4%B8%8E%E6%95%99%E8%82%B2%E3%80%91%E8%90%A5%E5%85%BB%E6%95%99%E8%82%B2/"/>
      <url>/2019/03/18/%E8%90%A5%E5%85%BB%E5%AD%A6/%E3%80%90%E8%90%A5%E5%85%BB%E5%92%A8%E8%AF%A2%E4%B8%8E%E6%95%99%E8%82%B2%E3%80%91%E8%90%A5%E5%85%BB%E6%95%99%E8%82%B2/</url>
      
        <content type="html"><![CDATA[<h2 id="营养教育的基本方式和形式"><a href="#营养教育的基本方式和形式" class="headerlink" title="营养教育的基本方式和形式"></a>营养教育的基本方式和形式</h2><h3 id="讲座"><a href="#讲座" class="headerlink" title="讲座"></a>讲座</h3><ul><li>公众传播范畴</li><li>优点<ul><li>受众面极广，信息传播直接迅速</li><li>通过口头传播，影响人们观念，激发人们思想</li></ul></li><li>缺点<ul><li>受众通常较为被动，缺乏充分反馈，传播内容不易留存</li></ul></li></ul><h4 id="语言表达技巧"><a href="#语言表达技巧" class="headerlink" title="语言表达技巧"></a>语言表达技巧</h4><ul><li>美化法</li><li>丑化法</li><li>号召法</li><li>假借法</li><li>隐喻法</li><li>现身说法</li><li>加以倾向法</li><li>以平民自居法</li><li>其他</li></ul><h3 id="小组活动"><a href="#小组活动" class="headerlink" title="小组活动"></a>小组活动</h3><ul><li>小群体传播范畴</li><li>参与性、互动性好</li><li>易摈弃旧观念，接受新观念，易发生知信行的改变</li></ul><h3 id="个别劝导"><a href="#个别劝导" class="headerlink" title="个别劝导"></a>个别劝导</h3><ul><li>行为干预主要手段</li></ul><h3 id="培训"><a href="#培训" class="headerlink" title="培训"></a>培训</h3><ul><li>针对敢于对象的需求进行培训</li><li>交流充分，反馈及时</li><li>针对性强，目标明确，现学现用</li></ul><h3 id="咨询"><a href="#咨询" class="headerlink" title="咨询"></a>咨询</h3><ul><li>形式<ul><li>门诊咨询、随访咨询、电话咨询、书信咨询、媒介公众号咨询</li></ul></li><li>特点<ul><li>简便易行、行动灵活、比较亲切、针对性强、可以反复多次进行</li></ul></li></ul><h2 id="参与式培训"><a href="#参与式培训" class="headerlink" title="参与式培训"></a>参与式培训</h2><h3 id="大众传播技巧"><a href="#大众传播技巧" class="headerlink" title="大众传播技巧"></a>大众传播技巧</h3><ul><li>特点<ul><li>传播者是职业性的传播机构人员，并需要借助特定的传播手段</li><li>信息是公开公共的，面向社会人群</li><li>信息扩散非常迅速且广泛</li><li>传播对象从总体来说是大体确定的</li><li>传播是单向的，信息反馈速度缓慢且缺乏自发性</li></ul></li><li>媒介<ul><li>电子：电视、广播</li><li>印刷媒体：杂志、报纸、宣传栏</li></ul></li><li>媒介选择原则<ul><li>保证效果、针对性、速度型、可达性、经济性</li></ul></li><li>营养信息传播策略<ul><li>无知阶段：宣传发送，使其知晓</li><li>知晓阶段：提供知识，进行劝服</li><li>劝服阶段：提供方法，鼓励尝试</li><li>决策与采纳阶段：支持鼓励，加以强化</li></ul></li><li>信息表达形式设计<ul><li>活动形式、时限、地点、内容、工作计划表、责任单位、传播载体设计</li></ul></li></ul><h3 id="参与式培训-1"><a href="#参与式培训-1" class="headerlink" title="参与式培训"></a>参与式培训</h3><ul><li>让每个培训对象都投入群体活动众，与其他成员合作学习</li><li>可实现双向交流</li><li>参与培训式有很多种形式，分组讨论、案例分析、模拟等</li></ul><h2 id="食品容器和包装材料污染"><a href="#食品容器和包装材料污染" class="headerlink" title="食品容器和包装材料污染"></a>食品容器和包装材料污染</h2><h3 id="主要卫生问题"><a href="#主要卫生问题" class="headerlink" title="主要卫生问题"></a>主要卫生问题</h3><ul><li>竹、木、纸、布等传统材料<ul><li>特点<ul><li>表面不光洁，质地疏松，渗水性强</li></ul></li><li>问题<ul><li>易吸水和被微生物污染，保藏期短</li><li>印刷油墨、颜料、荧光增白剂和劣质石蜡等污染</li></ul></li></ul></li><li>金属、搪瓷、陶瓷、玻璃<ul><li>特点<ul><li>表面光洁、质地坚硬，不渗水</li></ul></li><li>问题<ul><li>有害金属析出</li></ul></li><li>不宜长时间存放酸性物质</li></ul></li><li>高分子化合物<ul><li>塑料、合成橡胶、化纤、涂料等</li><li>不宜存放酒精、油脂等物质</li><li>问题<ul><li>未聚合的游离单体和聚合不充分的低聚物</li><li>添加剂或加工助剂残留、低分子降解产物</li></ul></li></ul></li></ul><h3 id="影响污染因素"><a href="#影响污染因素" class="headerlink" title="影响污染因素"></a>影响污染因素</h3><ul><li>食品本身性质</li><li>温度</li><li>时间</li><li>食品容器和包装材料的理化性质和完整性</li></ul><h2 id="科普文章的编写"><a href="#科普文章的编写" class="headerlink" title="科普文章的编写"></a>科普文章的编写</h2><h3 id="基本要求"><a href="#基本要求" class="headerlink" title="基本要求"></a>基本要求</h3><ul><li>科学性<ul><li>真实</li><li>成熟</li><li>准确<ul><li>概念要准</li><li>数据要准</li><li>事实要准</li><li>语言要准</li></ul></li><li>全面</li><li>先进</li></ul></li><li>思想性<ul><li>作品反映的是迷信还是科学</li><li>作品能否体现为读者健康服务</li><li>作品能否体现为社会发展服务</li><li>要有积极向上的形式</li><li>要适合读者对象阅读</li></ul></li><li>艺术性<ul><li>通俗性<ul><li>内容通俗易懂</li><li>注意写作方法</li><li>避免使用术语</li><li>化抽象为具体</li></ul></li><li>实用性<ul><li>针对性</li><li>多样性</li><li>从细节入手</li></ul></li><li>趣味性</li></ul></li></ul><h3 id="素材来源"><a href="#素材来源" class="headerlink" title="素材来源"></a>素材来源</h3><ul><li>日常生活</li><li>工作实践</li><li>医学、营养学新成果、新成就</li><li>疾病流行信息和规律</li><li>营养相关慢性病变化</li><li>来信来访</li></ul><h3 id="主题提炼"><a href="#主题提炼" class="headerlink" title="主题提炼"></a>主题提炼</h3><ul><li>小：选材角度小</li><li>尖：针对性</li><li>新：新颖</li></ul><h3 id="载体和形式"><a href="#载体和形式" class="headerlink" title="载体和形式"></a>载体和形式</h3><ul><li>传播渠道&#x2F;体裁&#x2F;广播稿类</li><li>表现形式：议论文、故事、顺口溜、诗歌</li></ul><h2 id="产品宣传资料的编写"><a href="#产品宣传资料的编写" class="headerlink" title="产品宣传资料的编写"></a>产品宣传资料的编写</h2><h3 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h3><ul><li>设计和制作与国际惯例一致</li><li>树立牢固的形象意识，时刻宣传和维护自己的形象</li><li>宣传资料的实用性</li></ul><h3 id="宣传资料种类"><a href="#宣传资料种类" class="headerlink" title="宣传资料种类"></a>宣传资料种类</h3><ul><li>印刷宣传品</li><li>视听资料</li><li>实物资料</li><li>新媒体传播材料</li></ul><h3 id="产品目标消费群体定位"><a href="#产品目标消费群体定位" class="headerlink" title="产品目标消费群体定位"></a>产品目标消费群体定位</h3><p>产品宣传效果的决定性因素</p><h3 id="基本要求和格式"><a href="#基本要求和格式" class="headerlink" title="基本要求和格式"></a>基本要求和格式</h3><ul><li>目的明确</li><li>针对性强</li><li>形式新颖</li><li>美观大方</li><li>有创意</li></ul><h3 id="工作程序"><a href="#工作程序" class="headerlink" title="工作程序"></a>工作程序</h3><ul><li>研究有关资料，形成初步的设计和想法</li><li>确定目标消费群体</li><li>确定宣传资料种类</li><li>针对食品特点确定重点宣传内容</li><li>编写宣传材料</li></ul><h2 id="市场需求调查及调查表设计"><a href="#市场需求调查及调查表设计" class="headerlink" title="市场需求调查及调查表设计"></a>市场需求调查及调查表设计</h2><h3 id="调查目标和范围的确定"><a href="#调查目标和范围的确定" class="headerlink" title="调查目标和范围的确定"></a>调查目标和范围的确定</h3><ul><li>调查目标<ul><li>总体目标</li><li>具体目标</li></ul></li><li>范围确定<ul><li>与产品销售范围相一致</li></ul></li></ul><h3 id="调查问卷设计程序"><a href="#调查问卷设计程序" class="headerlink" title="调查问卷设计程序"></a>调查问卷设计程序</h3><ul><li>根据调查目的，确定所需的信息资料</li><li>确定问题的顺序</li><li>问卷的测试与修改</li></ul><h3 id="设计调查问卷的注意事项"><a href="#设计调查问卷的注意事项" class="headerlink" title="设计调查问卷的注意事项"></a>设计调查问卷的注意事项</h3><ul><li>设计要与调查主题密切相关，重点突出，避免可有可无的问题</li><li>问题要容易让调查对象接受，避免出现调查对象不愿意回答或令调查对象难堪的问题</li><li>问题次序要条理清晰，顺利成章，符合逻辑顺序</li><li>内容要简明，尽量使用简单、直接、无偏见的词汇</li></ul><h3 id="工作程序-1"><a href="#工作程序-1" class="headerlink" title="工作程序"></a>工作程序</h3><ul><li>拟定问题</li><li>设计关于调查对象基本信息的问题</li><li>关键信息问题设计</li><li>测试问卷</li><li>修改</li><li>设计版式</li></ul><h2 id="专项调查表编制"><a href="#专项调查表编制" class="headerlink" title="专项调查表编制"></a>专项调查表编制</h2><h3 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h3><ul><li>信息单一</li><li>内容简单</li><li>目的性强</li></ul><h3 id="基本原则"><a href="#基本原则" class="headerlink" title="基本原则"></a>基本原则</h3><ul><li>相关性</li><li>客观性</li><li>适宜性</li><li>可比性</li><li>合理性</li></ul><h3 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h3><ul><li>一览表<ul><li>将许多调查单位同时列在一张表上</li><li>用于调查项目较少的调查</li></ul></li><li>单一表<ul><li>每一调查单位一份调查表</li><li>可容纳较多的调查项目</li><li>优点：便于整理。错误少，是最常用的调查表</li></ul></li></ul><h3 id="修改"><a href="#修改" class="headerlink" title="修改"></a>修改</h3><p>修改和试用后才能用于正式调查</p><h3 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h3><ul><li>调查表名称</li><li>封面信<ul><li>200-300字最好，不宜过长</li><li>作用：向被调查者介绍和说明调查者的身份、调查内容、目的和意义等</li><li>调查对象的选取方式和对调查结果的保密措施</li></ul></li><li>指导语<ul><li>说明填表的方法、需求、注意事项</li></ul></li><li>调查对象基本情况</li><li>主体问题（形式<ul><li>开放式问题<ul><li>优点：可以让对象自由发挥</li><li>对回答者要求较高、费时</li><li>回答率低和统计分析困难</li></ul></li><li>封闭式问题<ul><li><p>要求：<br>  1、表述问题应语言简洁、通俗易懂</p><p>  2、问题内容具体、清晰、含义单一，避免双重或多重问题</p><p>  3、设计者应立场中立，客观谨慎，避免暗示效应</p></li><li><p>排列原则<br>  1、 一般简单的问题放在前面，复杂难答的问题放在后面</p><p>  2、 同类问题和相关联的问题放在一起</p><p>  3、引起被调查者兴趣的问题放在前面</p><p>  4、先问行为方面问题，再问态度、意见和看法问题</p><p>  5、开放式问题放在调查表的最后</p></li></ul></li><li>量表应答式</li></ul></li><li>答案<ul><li>穷尽性：答案之间包括所有可能的情况</li><li>互斥性：答案相互之间不能交叉重叠或相包含</li><li>格式<ul><li>填空式</li><li>二项选择式</li><li>多项选择</li><li>排序</li><li>尺度</li></ul></li></ul></li><li>编码、作业证明记载等</li></ul><h3 id="工作程序-2"><a href="#工作程序-2" class="headerlink" title="工作程序"></a>工作程序</h3><ul><li>表头（调查表名称）设计</li><li>封面信设计</li><li>调查表初稿设计</li><li>调查表初稿检验<ul><li>客观检验法<ul><li>回收率：＜60%说明问卷设计有较大问题</li><li>有效回收率</li><li>填写错误：填写内容&#x2F;方式错误</li><li>填答不全</li></ul></li><li>主观评价法</li></ul></li><li>编码和设计小样</li><li>检查并印制</li><li>注意事项<ul><li>问卷中问题的文字要简单、直接、明确并且容易被理解</li><li>避免双重问题或问题要求太多</li><li>避免问题带有诱导性或带有个人主观倾向</li><li>注意对敏感性和私人问题的提问方式</li><li>问答应提供合适的参考时点</li></ul></li></ul><h2 id="综合信息调查表编制"><a href="#综合信息调查表编制" class="headerlink" title="综合信息调查表编制"></a>综合信息调查表编制</h2><h3 id="信息收集方法"><a href="#信息收集方法" class="headerlink" title="信息收集方法"></a>信息收集方法</h3><ul><li>二手资料法</li><li>访问法</li><li>实验法</li></ul><h3 id="个体综合信息内容"><a href="#个体综合信息内容" class="headerlink" title="个体综合信息内容"></a>个体综合信息内容</h3><ul><li>基本情况</li><li>健康状况</li><li>疾病史</li><li>家族健康史</li><li>个人膳食习惯</li><li>相关行为和运动量等</li></ul><h3 id="行为信息"><a href="#行为信息" class="headerlink" title="行为信息"></a>行为信息</h3><ul><li>不健康生活方式</li><li>促进健康行为<ul><li>日常健康行为：<ul><li>合理营养</li><li>充足睡眠</li><li>适量运动</li><li>讲究卫生等</li></ul></li><li>保健行为<ul><li>定期体检</li><li>预防接种</li><li>有病主动求医</li><li>积极配合医疗护理</li><li>遵循医嘱</li></ul></li><li>预防性行为<ul><li>采取安全防范措施或行为，如系安全带等</li></ul></li><li>改变危害健康行为<ul><li>戒烟</li><li>戒酒</li><li>戒毒等</li></ul></li></ul></li><li>行为调查表原则设计<ul><li>调查表所列项目的含义、定义、标准必须明确</li><li>所列项目内容在资料统计分析时既能定性又能定量</li><li>所列项目的用词简明扼要，调查对象易于理解，易于回答</li><li>提出的问题应可能确切，针对性强</li><li>避免带有诱导性的提问或强制性提问</li></ul></li></ul><h3 id="健康状况信息"><a href="#健康状况信息" class="headerlink" title="健康状况信息"></a>健康状况信息</h3><ul><li>个人疾病史</li><li>家族疾病史</li><li>近期体检信息</li><li>生化指标</li></ul>]]></content>
      
      
      <categories>
          
          <category> 营养学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 营养学 </tag>
            
            <tag> 营养咨询与教育 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>身体活动水平</title>
      <link href="/2019/03/18/%E8%90%A5%E5%85%BB%E5%AD%A6/%E3%80%90%E8%90%A5%E5%85%BB%E5%92%A8%E8%AF%A2%E4%B8%8E%E6%95%99%E8%82%B2%E3%80%91%E8%BA%AB%E4%BD%93%E6%B4%BB%E5%8A%A8%E6%B0%B4%E5%B9%B3/"/>
      <url>/2019/03/18/%E8%90%A5%E5%85%BB%E5%AD%A6/%E3%80%90%E8%90%A5%E5%85%BB%E5%92%A8%E8%AF%A2%E4%B8%8E%E6%95%99%E8%82%B2%E3%80%91%E8%BA%AB%E4%BD%93%E6%B4%BB%E5%8A%A8%E6%B0%B4%E5%B9%B3/</url>
      
        <content type="html"><![CDATA[<h2 id="身体活动"><a href="#身体活动" class="headerlink" title="身体活动"></a>身体活动</h2><h3 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h3><p>通过骨骼肌收缩引起身体额外能量消耗的任何活动</p><h3 id="身体活动四要素"><a href="#身体活动四要素" class="headerlink" title="身体活动四要素"></a>身体活动四要素</h3><h4 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h4><h5 id="按日常活动分"><a href="#按日常活动分" class="headerlink" title="按日常活动分"></a>按日常活动分</h5><ul><li><p>交通</p></li><li><p>职业</p></li><li><p>家务</p></li><li><p>休闲时的自主活动</p></li></ul><h5 id="按能量代谢"><a href="#按能量代谢" class="headerlink" title="按能量代谢"></a>按能量代谢</h5><h6 id="有氧代谢"><a href="#有氧代谢" class="headerlink" title="有氧代谢"></a>有氧代谢</h6><ul><li><p>大肌群，较长时间持续运动，有氧代谢供能</p></li><li><p>增强心肺功能，提高最大摄氧量，减少脂肪堆积，控制不健康体重增加</p></li><li><p>步行、骑车、游泳等</p></li></ul><h6 id="无氧代谢"><a href="#无氧代谢" class="headerlink" title="无氧代谢"></a>无氧代谢</h6><ul><li><p>无氧代谢功能</p></li><li><p>保持或增加瘦体重，延缓运动型功能衰老，预防和控制多种慢性疾病</p></li><li><p>举重、跳跃、弹力带、哑铃、冲刺跑</p></li></ul><h5 id="按生理功能和活动方式"><a href="#按生理功能和活动方式" class="headerlink" title="按生理功能和活动方式"></a>按生理功能和活动方式</h5><ul><li><p>关节柔韧活动</p></li><li><p>抗阻力运动</p></li><li><p>身体平衡</p></li><li><p>协调性活动</p></li></ul><h4 id="运动强度"><a href="#运动强度" class="headerlink" title="运动强度"></a>运动强度</h4><ul><li>绝对强度</li></ul><p>梅托</p><ul><li><p>相对强度</p><ul><li><p>最大心率百分比</p></li><li><p>最大耗氧量百分比</p></li><li><p>自觉运动强度（RPE</p></li></ul></li></ul><h4 id="运动时间"><a href="#运动时间" class="headerlink" title="运动时间"></a>运动时间</h4><p>每次活动持续的时间和活动量有关， 进行一次某种活动持续的时间，以min为单位</p><h4 id="运动频率"><a href="#运动频率" class="headerlink" title="运动频率"></a>运动频率</h4><p>一段时间内运动的次数，以周为单位</p><h2 id="身体活动水平"><a href="#身体活动水平" class="headerlink" title="身体活动水平"></a>身体活动水平</h2><p>将人的日常身体活动进行量化的一种表达形式，用于估计人体总能量消耗水平</p><p>身体活动水平高低：取决于身体活动量和基础代谢率</p><h2 id="测量方法"><a href="#测量方法" class="headerlink" title="测量方法"></a>测量方法</h2><ul><li>主观<ul><li>行为观察</li><li>问卷调查（回顾性问卷、日记、日志）</li><li>面访调查</li></ul></li><li>客观<ul><li>双标水发</li><li>间接热量测定法</li><li>心率测定法</li><li>采用运动传感器等</li></ul></li></ul><h2 id="评价"><a href="#评价" class="headerlink" title="评价"></a>评价</h2><h3 id="以每天平均步行判断"><a href="#以每天平均步行判断" class="headerlink" title="以每天平均步行判断"></a>以每天平均步行判断</h3><ul><li>＜5000步 静态</li><li>5000-7499 低</li><li>7500-9999 中</li><li>10000-12500 较高</li><li>＞12500 高</li></ul><h3 id="以每天平均运动时间和强度判断"><a href="#以每天平均运动时间和强度判断" class="headerlink" title="以每天平均运动时间和强度判断"></a>以每天平均运动时间和强度判断</h3><ul><li>低：＜30min中等强度</li><li>中：30-60min中等强度</li><li>高：60+min中等强度或30+min高等强度</li></ul><h3 id="以每周平均运动量和运动频率判断"><a href="#以每周平均运动量和运动频率判断" class="headerlink" title="以每周平均运动量和运动频率判断"></a>以每周平均运动量和运动频率判断</h3><ul><li>低：<ul><li>不属于中、高任意一种情况</li></ul></li><li>中等：（以下任意一种情况<ul><li>每天至少20min高强度运动，≥3d&#x2F;周</li><li>每天至少步行30min或中等强度运动，≥5d&#x2F;周</li><li>每天至少步行30min，≥7d&#x2F;周</li><li>每天步行和中等强度或高等强度，≥5d&#x2F;周</li><li>总的运动量达到600MET-min&#x2F;周</li></ul></li><li>高（达到任意一种情况<ul><li>高强度运动&#x2F;身体活动≥3d&#x2F;周，总运动量达到1500MET-min&#x2F;周</li><li>每天步行和中等强度或高强度运动，7d&#x2F;周。总运动量至少达到3000MET-min&#x2F;周</li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> 营养学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 营养学 </tag>
            
            <tag> 营养咨询与教育 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>食谱编制</title>
      <link href="/2019/03/18/%E8%90%A5%E5%85%BB%E5%AD%A6/%E3%80%90%E8%90%A5%E5%85%BB%E5%92%A8%E8%AF%A2%E4%B8%8E%E6%95%99%E8%82%B2%E3%80%91%E9%A3%9F%E8%B0%B1%E7%BC%96%E5%88%B6/"/>
      <url>/2019/03/18/%E8%90%A5%E5%85%BB%E5%AD%A6/%E3%80%90%E8%90%A5%E5%85%BB%E5%92%A8%E8%AF%A2%E4%B8%8E%E6%95%99%E8%82%B2%E3%80%91%E9%A3%9F%E8%B0%B1%E7%BC%96%E5%88%B6/</url>
      
        <content type="html"><![CDATA[<h2 id="食谱编制"><a href="#食谱编制" class="headerlink" title="食谱编制"></a>食谱编制</h2><h3 id="产能营养素需要量"><a href="#产能营养素需要量" class="headerlink" title="产能营养素需要量"></a>产能营养素需要量</h3><ul><li>蛋白质需要量（g）&#x3D;总能量*蛋白质供能比&#x2F;4</li><li>脂肪需要量&#x3D;总能量*脂肪供能比&#x2F;9</li><li>碳水需要量&#x3D;总能量*碳水供能比&#x2F;4</li></ul><h3 id="主食用量"><a href="#主食用量" class="headerlink" title="主食用量"></a>主食用量</h3><ul><li>主食用量&#x3D;碳水重量&#x2F;100g食物中碳水含量</li></ul><h3 id="肉类和大豆类用量"><a href="#肉类和大豆类用量" class="headerlink" title="肉类和大豆类用量"></a>肉类和大豆类用量</h3><ul><li>计算主食中含有的蛋白质数量</li><li>副食提供的蛋白质数量&#x3D;全天蛋白质数量-主食提供的蛋白质数量</li><li>动物性食物（或豆制品）&#x3D;副食中提供的蛋白质数量&#x2F;食物中所含有的蛋白质百分数</li></ul><h3 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h3><ul><li>碳水化合物进食：蔬菜、水果、动物性食物</li><li>脂肪总量&#x3D;食物中的脂肪+烹调油的脂肪</li><li>蔬菜：主要增加维生素、矿物质、膳食纤维、根据营养需要来确定</li><li>不必要求每天食谱和各类营养素均与膳食目标保持一致</li><li>每天的能量，三大产能物质的量出入不应该很大，其他营养素以一周为单位来进行计算，允许±10%浮动</li><li>注意配餐的口味、风味调配问题</li></ul><h2 id="个体食谱编制"><a href="#个体食谱编制" class="headerlink" title="个体食谱编制"></a>个体食谱编制</h2><h3 id="膳食营养目标"><a href="#膳食营养目标" class="headerlink" title="膳食营养目标"></a>膳食营养目标</h3><ul><li>健康个体<ul><li>RNI&#x2F;AI：营养目标</li><li>UL：控制目标</li></ul></li><li>非健康个体<ul><li>DRIs、指南等</li></ul></li></ul><h3 id="学龄前儿童"><a href="#学龄前儿童" class="headerlink" title="学龄前儿童"></a>学龄前儿童</h3><h4 id="饮食特点"><a href="#饮食特点" class="headerlink" title="饮食特点"></a>饮食特点</h4><ul><li>饮食逐渐接近成人食物，完成从以奶类为主到主要以谷类为主的过度</li><li>胃容量小，需要营养丰富，容量小，密度高的食物</li><li>尽量避免纯热能食物，饮用清单饮料</li><li>适量进食动物内脏、鱼、禽、肉、奶和豆制品</li><li>尽量食用新鲜食材，不适合烧烤煎炸、腌制烟熏、刺多的食物</li></ul><h4 id="食品选择原则"><a href="#食品选择原则" class="headerlink" title="食品选择原则"></a>食品选择原则</h4><ul><li>膳食组成多样化</li><li>荤素搭配，粗细交替</li><li>食物软硬适中，温度适宜</li><li>与消化能力相适应</li></ul><h4 id="食物选择特点和注意事项"><a href="#食物选择特点和注意事项" class="headerlink" title="食物选择特点和注意事项"></a>食物选择特点和注意事项</h4><ul><li>主食：粗细搭配，避免高脂高糖小吃点心</li><li>适量的鱼禽蛋肉等动物性食物；交替使用</li><li>奶及奶制品可提供优质、易消化的蛋白质、维生素A及丰富的Ca</li><li>大豆：贫困农村蛋白质营养问题</li><li>多选择深色蔬菜，水果种类不限制</li><li>烹调油选择植物油</li></ul><h4 id="营养需要特点"><a href="#营养需要特点" class="headerlink" title="营养需要特点"></a>营养需要特点</h4><ul><li>一日“三餐两点”制为宜，各餐营养素和能量适宜分配</li><li>保证蛋白质摄入，应注意选择优质蛋白质和摄入足够多的能量</li><li>需要充足的矿物质、维生素，尤其是Ca、Zn和维A</li></ul><h4 id="食谱编制原则和方法"><a href="#食谱编制原则和方法" class="headerlink" title="食谱编制原则和方法"></a>食谱编制原则和方法</h4><ul><li>满足儿童膳食需要：能量、各种营养素</li><li>各营养素之间的比例要适宜：能量营养素供能比、餐次比、矿物质配比合适</li><li>食物搭配要合理：主副食搭配，粗细搭配，荤素搭配；多样化，营养素互补</li><li>三餐分配合理：三餐两点制，30%：40%：30%</li><li>注意制作和烹调方法：蒸煮炖；尽量减少调味品和食盐使用</li></ul><h2 id="食谱分析与评价"><a href="#食谱分析与评价" class="headerlink" title="食谱分析与评价"></a>食谱分析与评价</h2><h3 id="食谱综合评价内容"><a href="#食谱综合评价内容" class="headerlink" title="食谱综合评价内容"></a>食谱综合评价内容</h3><ul><li>食物能量和营养素含量评价</li><li>食物种类和比例：品种、数量、多样化</li><li>三种产能营养素的供能比是否适宜，动物脂肪是否过量</li><li>蛋白质来源分布，其他主要微量营养素来源</li><li>三餐能量摄入分配是否合理</li><li>烹饪方法是否合适</li></ul><h3 id="烹饪与营养素损伤相关知识"><a href="#烹饪与营养素损伤相关知识" class="headerlink" title="烹饪与营养素损伤相关知识"></a>烹饪与营养素损伤相关知识</h3><h4 id="重量保留因子"><a href="#重量保留因子" class="headerlink" title="重量保留因子"></a>重量保留因子</h4><ul><li>反映了烹调过程中食物总质量的变化（水分、蛋白、碳水、脂肪等</li><li>重量保留因子（WRF%&#x3D;烹调后食物质量&#x2F;烹调前食物质量</li></ul><h4 id="营养素损伤率"><a href="#营养素损伤率" class="headerlink" title="营养素损伤率"></a>营养素损伤率</h4><ul><li>直接反映了烹调过程中食物中维生素、矿物质等营养素含量的变化情况</li><li>AR（表观保留率）&#x3D;食物烹调后某种营养素含量（干重）&#x2F; 食物原料中该种营养素含量（干重）* 100%</li><li>TR（真实保留率）&#x3D; （食物烹调后某营养素含量*食物烹调后的重量）&#x2F; （食物原料某营养素含量 * 食物烹调前重量）* 100%</li></ul><h2 id="个体食谱调整"><a href="#个体食谱调整" class="headerlink" title="个体食谱调整"></a>个体食谱调整</h2><h3 id="食谱餐次比分析和修改"><a href="#食谱餐次比分析和修改" class="headerlink" title="食谱餐次比分析和修改"></a>食谱餐次比分析和修改</h3><ul><li>餐次能量比例<ul><li>早餐25-30%，午餐30-40%，晚餐30-35%</li></ul></li><li>特殊问题<ul><li>学龄前儿童：餐次比和能量不是绝对的</li><li>青少年：培养合理饮食习惯和方式</li><li>感冒、腹泻、康复期病人，根据实际情况调整</li></ul></li></ul><h3 id="膳食种蛋白质和脂肪调整"><a href="#膳食种蛋白质和脂肪调整" class="headerlink" title="膳食种蛋白质和脂肪调整"></a>膳食种蛋白质和脂肪调整</h3><ul><li>蛋白质<ul><li>含量较高：动物性、大豆及其制品、坚果、谷类</li><li>含量极少：一般是能量较低，水分、膳食纤维含量较高的食物</li></ul></li><li>脂肪<ul><li>低脂肪食物：淀粉、谷类、水果、蔬菜、菌藻类食物脂肪含量几乎没有或比较低</li><li>高脂肪食物：油（第一位，动物性食物、坚果</li></ul></li><li>烹饪方法<ul><li>米类：减少淘洗次数，不用理搓洗，不用热水烫洗</li><li>面食：蒸制营养素损失少，捞面条损伤多，炸制几乎全部被破坏</li><li>蔬菜：流水冲洗，先洗后切，炒前不用水泡，开汤下菜，现做现吃</li><li>挂浆上糊可以减少维生素损失</li><li>烧烤食物适可而止</li></ul></li></ul><h2 id="群体膳食营养素目标设计"><a href="#群体膳食营养素目标设计" class="headerlink" title="群体膳食营养素目标设计"></a>群体膳食营养素目标设计</h2><h3 id="群体分类"><a href="#群体分类" class="headerlink" title="群体分类"></a>群体分类</h3><ul><li>均匀性群体<ul><li>年龄分布均匀、健康状态、知识水平、身体活动或劳动强度、职业等</li></ul></li><li>非均匀性群体<ul><li>简单营养素密度法、靶营养素密度分布法</li></ul></li></ul><h3 id="营养配餐原则和方法"><a href="#营养配餐原则和方法" class="headerlink" title="营养配餐原则和方法"></a>营养配餐原则和方法</h3><ul><li>膳食目标设置原则<ul><li>＞95%：满足营养需要</li><li>2-3%：摄入不足和过量</li></ul></li><li>膳食目标设置方法<ul><li>需要量一致  EAR切点法</li><li>需要量分散：概率法</li></ul></li><li>兼顾经济条件</li></ul><h2 id="幼儿园食谱编制"><a href="#幼儿园食谱编制" class="headerlink" title="幼儿园食谱编制"></a>幼儿园食谱编制</h2><h3 id="营养素目标设置"><a href="#营养素目标设置" class="headerlink" title="营养素目标设置"></a>营养素目标设置</h3><p>均匀性群体</p><h3 id="编制原则"><a href="#编制原则" class="headerlink" title="编制原则"></a>编制原则</h3><ul><li>按照年龄均值，以DRIs确定营养目标</li><li>按周编制食谱<ul><li>一周食谱不重复，并在上一周周末公布</li><li>幼儿园膳食和家庭膳食互补</li></ul></li><li>三餐两点制或三餐三点制</li><li>合理搭配各种食物<ul><li>品种宜丰富多样化</li><li>粗细搭配，粗粮细筛，荤素搭配，色彩搭配，清淡少盐</li><li>每周安排1-2次海产品，以补充I</li><li>每周补充一次动物肝脏（约25g&#x2F;人），以补充维生素A和Fe</li></ul></li></ul><h4 id="食谱编制（同个体"><a href="#食谱编制（同个体" class="headerlink" title="食谱编制（同个体"></a>食谱编制（同个体</h4><ul><li>食品品种和数量的确定：采购时注意人数</li><li>根据饮食习惯、市场供应等因素，同类食物更换品种和烹调方法，制备一周食物</li></ul><h2 id="学生餐食设计"><a href="#学生餐食设计" class="headerlink" title="学生餐食设计"></a>学生餐食设计</h2><h3 id="制定原则"><a href="#制定原则" class="headerlink" title="制定原则"></a>制定原则</h3><ul><li>遵循“营养、卫生、科学、合理”的原则</li><li>结合饮食习惯、考虑季节、地区特点和经济负担能力，因地制宜</li><li>主食粗细搭配，粗粮细做，副食荤素搭配</li><li>确保优质蛋白质占膳食总蛋白的一半以上，蔬菜一半以上为有色蔬菜</li><li>尽量多提供富含钙的食物，≥400mg&#x2F;d，控制食盐摄入＜3g</li><li>每周食谱不重样，尽量选用富含维A、B2、Fe、Ca和I的食物</li><li>考虑操作车间的加工能力，保证食谱的切实可行</li><li>合理烹调，减少食物种营养成分的损失</li><li>注意学生的营养状况和身体生长发育状况，掌握学生的健康状态，消除营养不良</li><li>用餐场所卫生、环境整洁</li></ul><h3 id="食物选购特点和参考"><a href="#食物选购特点和参考" class="headerlink" title="食物选购特点和参考"></a>食物选购特点和参考</h3><ul><li>主食力求多样化</li><li>合理选择副食<ul><li>动物性食物：品种多样，优先水产类和禽类，以瘦肉为主，每周一次25g动物肝脏</li><li>豆制品交替使用</li><li>植物油用量随年龄逐渐增多</li><li>注意Ca的摄入</li><li>有条件者可以吃适量水果</li><li>注意色香味形质的合理搭配，价美物廉，营养丰富</li></ul></li><li>合理烹调，减少食物种营养成分的损伤<ul><li>不选用易变质海鲜、带刺鱼类，刺激性强，气味大的食物</li><li>不选用油炸烧烤食物</li></ul></li></ul><h2 id="大学生食堂食谱编制"><a href="#大学生食堂食谱编制" class="headerlink" title="大学生食堂食谱编制"></a>大学生食堂食谱编制</h2><h3 id="食物选择特点"><a href="#食物选择特点" class="headerlink" title="食物选择特点"></a>食物选择特点</h3><ul><li>饮食成人化</li><li>选餐制</li><li>适当加餐</li></ul><h3 id="食谱编制原则和方法-1"><a href="#食谱编制原则和方法-1" class="headerlink" title="食谱编制原则和方法"></a>食谱编制原则和方法</h3><ul><li>食物原料符合食品卫生标准的要求，不得采用有毒有害、变质食物</li><li>三餐食物要丰富，可供选择的食物足够多</li><li>确保优质蛋白供应，荤素搭配，蔬菜其中一半维有色蔬菜</li><li>控制食盐、油的用量，饱和脂肪酸不超过1&#x2F;3</li><li>考虑当地饮食状况和学生经济负担能力</li></ul><h3 id="大学生饮食问题"><a href="#大学生饮食问题" class="headerlink" title="大学生饮食问题"></a>大学生饮食问题</h3><ul><li>饮食结构不合理，存在不良饮食习惯</li><li>《学生食品安全与营养健康管理规定》</li></ul><h3 id="食谱编制-1"><a href="#食谱编制-1" class="headerlink" title="食谱编制"></a>食谱编制</h3><ul><li>一日食物原料总用量：总人日数计算</li></ul><h3 id="注意事项-1"><a href="#注意事项-1" class="headerlink" title="注意事项"></a>注意事项</h3><ul><li>注意价格和营养的关系，尽量用低价位、高营养食谱</li><li>能量充足是重要的，注意三大营养素平衡，注意盐的用量</li><li>注意学生体重和体质变化，适时调整食谱</li></ul><h2 id="群体食谱调整和评价"><a href="#群体食谱调整和评价" class="headerlink" title="群体食谱调整和评价"></a>群体食谱调整和评价</h2><ul><li>集体供餐要求<ul><li>营养、价格、质量要求</li><li>卫生要求</li></ul></li><li>非均匀性群体营养素估算<ul><li>可以用最脆弱的亚组能量相对最高的人群作为目标</li><li>不可能把最高需要作为目标的时候，可以用简单的营养素密度法</li><li>日常营养素摄入分布中值&#x2F;平均能量需要量</li></ul></li><li>膳食营养评价<ul><li>能量目标<ul><li>膳食评价应根据膳食调查实际摄入和体重变化来确定</li></ul></li><li>宏量营养素目标<ul><li>蛋白质10-15%</li><li>脂肪 20-30%</li><li>碳水 50-65%</li></ul></li><li>其他营养素<ul><li>根据具体情况采取概率法或切点法</li><li>EAR评价摄入不足的个体，UL评价过量的个体</li><li>营养素仅有AI数值，则用此AI数值评</li></ul></li><li>DRIs使用及注意事项<ul><li>不是每天的膳食营养素数值都要等于RAI或AI值</li><li>能量EAR&#x3D;能量RNI</li><li>EAR不能用来计划个体膳食</li></ul></li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> 营养学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 营养学 </tag>
            
            <tag> 营养咨询与教育 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>食品营养成分</title>
      <link href="/2019/03/18/%E8%90%A5%E5%85%BB%E5%AD%A6/%E3%80%90%E8%90%A5%E5%85%BB%E5%92%A8%E8%AF%A2%E4%B8%8E%E6%95%99%E8%82%B2%E3%80%91%E9%A3%9F%E5%93%81%E8%90%A5%E5%85%BB%E6%88%90%E5%88%86/"/>
      <url>/2019/03/18/%E8%90%A5%E5%85%BB%E5%AD%A6/%E3%80%90%E8%90%A5%E5%85%BB%E5%92%A8%E8%AF%A2%E4%B8%8E%E6%95%99%E8%82%B2%E3%80%91%E9%A3%9F%E5%93%81%E8%90%A5%E5%85%BB%E6%88%90%E5%88%86/</url>
      
        <content type="html"><![CDATA[<h2 id="产品分析计划的制定"><a href="#产品分析计划的制定" class="headerlink" title="产品分析计划的制定"></a>产品分析计划的制定</h2><ul><li>谷类制品原辅料的营养特点<ul><li>高筋小麦粉蛋白质含量（干基）≥12.2%</li><li>低筋小麦粉蛋白质含量（干基）≤10%</li></ul></li><li>常见焙烤类食品类型和加工方法<ul><li>面包制作方法：直接法、中种法、育种法</li><li>饼干成型：挤压法、切割法、印花法、复合法</li></ul></li><li>产品质量控制<ul><li>原料和辅料的起始控制</li><li>加工过程中间控制</li><li>最终产品控制  <ul><li>检验指标、营养成分、成品率、合格率等</li></ul></li></ul></li><li>产品分析计划<ul><li>感官分析和评价、卫生学检验（微生物和污染物</li><li>营养成分分析</li><li>添加剂、强化剂</li><li>功效成分等</li></ul></li></ul><h2 id="食品营养成分计算"><a href="#食品营养成分计算" class="headerlink" title="食品营养成分计算"></a>食品营养成分计算</h2><ul><li>能量<ul><li>食品中供能物质在人体代谢中产生的能量</li><li>能量&#x3D;4 * 蛋白质+9 * 脂肪 + 4 * 碳水 + 3 * 有机酸 + 9 * 酒精 + 2 * 膳食纤维</li></ul></li><li>蛋白质<ul><li>总氮量*氮折算系数</li><li>食品中各氨基酸含量的总和</li></ul></li><li>脂肪<ul><li>粗脂肪：甘油三酯、磷脂、固醇和色素</li><li>总脂肪：各个脂肪酸甘油酸酯总和</li></ul></li><li>碳水<ul><li>糖、寡糖、多糖的总称</li><li>减法：100-蛋白质-脂肪-灰分-水分</li><li>加法：淀粉+糖，仅用于普通食物</li></ul></li><li>膳食纤维<ul><li>根据国标或AOAC规定的测定方法获得</li></ul></li></ul><h2 id="预包装食品营养标签通则"><a href="#预包装食品营养标签通则" class="headerlink" title="预包装食品营养标签通则"></a>预包装食品营养标签通则</h2><ul><li>基本构成<ul><li>预包装食品标签上向消费者提供食品营养信息和特性的说明</li><li>包括营养成分表、营养声称和营养成分功能声称</li><li>营养成分表是最基本的信息</li></ul></li><li>营养成分表<ul><li>强制标识内容<ul><li>能量含量值</li><li>核心营养素含量值（蛋白质、脂肪、碳水、Na</li><li>营养素参考值（NRV）的百分比</li><li>营养素强化剂，氧化和&#x2F;或部分氢化油脂</li></ul></li><li>NRV%&#x3D;某营养素含量&#x2F;该营养素的营养素参考值*100%</li></ul></li><li>营养声称<ul><li>以文字形式对食品的营养特性做出的描述、建议或暗示</li><li>含量声称<ul><li>描述食物中能量或营养素含量水平的声称</li><li>来源、含有、提供、高、富含、低、不含、无、零</li></ul></li><li>比较声称<ul><li>与消费者熟知的同类食品的营养成分含量或能量进行比较以后的声称</li><li>减少、少于、增加、加、大于</li></ul></li></ul></li><li>营养成分功能声称<ul><li>某营养成分可以维持人体正常生长、发育和生理功能等作用的声称</li></ul></li><li>健康声称<ul><li>食物或食物成分与人体健康关系的建议、暗示或说明</li><li>我国：属于保健食品管理，涉及27各功能声称</li></ul></li></ul><h2 id="预包装食品标签通则"><a href="#预包装食品标签通则" class="headerlink" title="预包装食品标签通则"></a>预包装食品标签通则</h2><h3 id="直接向消费者提供的预包装食品标签标示"><a href="#直接向消费者提供的预包装食品标签标示" class="headerlink" title="直接向消费者提供的预包装食品标签标示"></a>直接向消费者提供的预包装食品标签标示</h3><ul><li>食品名称</li><li>配料表<ul><li>配料表应以”配料“或”配料表“为引导词</li><li>各种配料应按制造或加工食品时加入量的递减顺序一一排列，加入量不超过2%的配料可以不按照递减顺序排列</li><li>复合配料（不包括符合食品添加剂）：应标识复合配料的名称，原始配料在括号内按加入量的递减顺序标示</li><li>某种复合配料已有国家标准、行业标准或地方标准，且其加入量小于食品总量25%时，不需要标示复合配料的原始配料</li></ul></li><li>净含量和规格</li><li>营养标签</li><li>生产者和&#x2F;或经销商的名称、地址、联系方式</li><li>生产日期、保质期、储藏条件</li><li>产品标准代号、食品生产许可证编号</li><li>其他标示内容：辐照食品、转基因食品、质量等级等</li></ul><h3 id="基本要求"><a href="#基本要求" class="headerlink" title="基本要求"></a>基本要求</h3><ul><li>符合法律的规定，并符合相应食品安全标准的规定</li><li>应清晰、持久，使消费者购买时易于辨认和识读</li><li>应通俗易懂、有科学依据，不得标示封建迷信、色情、贬低其他食品或违背营养科学常识的内容</li><li>应真实、准确，不得以虚假、夸大，使消费者误解或具有欺骗性的文字、图形等方式介绍食品，也不得利用字号大小或色差误导消费者</li><li>不应直接或以暗示性的语言、图形、符号，误导消费者将购买的食品或食品的某一性质与另一产品混淆</li><li>不应标注或暗示具有预防、治疗疾病作用的内容，非保健食品不得明示或暗示具有保健作用</li><li>不应与食品或其包装物（容器）分离</li><li>应使用规范的汉字（商标除外<ul><li>具有装饰作用的各种艺术字应书写正确，易于辨认</li><li>可以同时使用拼音或少数民族文字，拼音不得大于相应汉字</li><li>可以同时使用外文，但应与中文有对应关联，所有外文不得大于相应的汉字</li></ul></li><li>预包装食品包装物或包装容器最大表面积≥35cm2时，强制标示内容的文字、符号、数字高度不得＜1.8mm</li><li>一个销售单位的包装中含有不同品种、多个独立包装可以单独销售的食品，每件独立包装的食品标示应当分别标注</li><li>若外包装易于开启或透过外包装能清晰识别内包装上的所有&#x2F;部分强制标示内容，可不在外包装物上重复标示相应内容；否则外包装需按照要求标示所有强制标示内容</li></ul><h3 id="标签内容豁免"><a href="#标签内容豁免" class="headerlink" title="标签内容豁免"></a>标签内容豁免</h3><ul><li>免除标示保质期：<ul><li>酒精度数≥10%的饮料酒</li><li>食醋</li><li>食用盐</li><li>固态食糖类</li><li>味精</li></ul></li><li>当预包装食品包装物或包装容量的最大表面面积＜10cm2时，可以只标示<ul><li>产品名称</li><li>净含量</li><li>生产者&#x2F;经销商的名称和地址</li></ul></li></ul><h3 id="推荐标示内容"><a href="#推荐标示内容" class="headerlink" title="推荐标示内容"></a>推荐标示内容</h3><ul><li>批号</li><li>使用方法</li><li>致敏物质</li></ul><h3 id="食品标签作用"><a href="#食品标签作用" class="headerlink" title="食品标签作用"></a>食品标签作用</h3><ul><li>引导和指导消费者购买食品</li><li>向消费者做出承诺</li><li>向监督机构提供必要信息</li><li>维护生产经营者合法权益</li><li>促进销售</li></ul><h2 id="餐饮食品营养标识"><a href="#餐饮食品营养标识" class="headerlink" title="餐饮食品营养标识"></a>餐饮食品营养标识</h2><h3 id="基本标识内容"><a href="#基本标识内容" class="headerlink" title="基本标识内容"></a>基本标识内容</h3><ul><li>能量</li><li>脂肪</li><li>Na含量和相当于Na的食盐量</li><li>1mgNa相当于2.5mg食盐</li></ul><h3 id="选择标识内容"><a href="#选择标识内容" class="headerlink" title="选择标识内容"></a>选择标识内容</h3><ul><li>蛋白质</li><li>碳水</li><li>糖</li><li>维生素</li><li>矿物质等</li><li>鼓励标示占营养素参考值（NRV）的百分比</li><li>鼓励在菜单上声明”成年人每次能量需要量为2000kcal“，”成年人每日食盐摄入量不超过5g（相当于Na摄入量不超过2000mg）“</li></ul><h3 id="脂肪标示"><a href="#脂肪标示" class="headerlink" title="脂肪标示"></a>脂肪标示</h3><ul><li>包括来自食品原料中的脂肪和烹调过程中加入的脂肪</li><li>以g为单位，标示每份和&#x2F;或每百克和&#x2F;或每百毫升餐饮食品中的脂肪含量</li></ul><h3 id="Na和食盐量标示"><a href="#Na和食盐量标示" class="headerlink" title="Na和食盐量标示"></a>Na和食盐量标示</h3><ul><li>包括食品原料、食盐及调味品用量的Na含量</li><li>Na：以mg为单位，标示每份和&#x2F;或每百克和&#x2F;或每百毫升餐饮食品中Na的含量</li><li>食盐：以g为单位，标示每份和&#x2F;或每百克和&#x2F;或每百毫升餐饮食品中食盐的含量</li></ul><h2 id="营养质量指数评价方法"><a href="#营养质量指数评价方法" class="headerlink" title="营养质量指数评价方法"></a>营养质量指数评价方法</h2><h3 id="能量密度计算"><a href="#能量密度计算" class="headerlink" title="能量密度计算"></a>能量密度计算</h3><ul><li>能量密度&#x3D;一定量食物提供的能量值&#x2F;能量推荐摄入量</li></ul><p>对营养需求不同的人群，同一种食物可能有不同的能量&#x2F;营养素密度值</p><h3 id="营养质量指数计算"><a href="#营养质量指数计算" class="headerlink" title="营养质量指数计算"></a>营养质量指数计算</h3><ul><li>INQ可以直观反映食物和营养素供给之间的情况，可以比较不同食物提供同一营养素的能力</li><li>营养素密度&#x3D;一定量食物提供的营养素&#x2F;相应营养素推荐摄入量</li><li>食物营养质量指数INQ&#x3D;营养素密度&#x2F;能量密度</li><li>评价标准<ul><li>INQ＞1，提供营养素能力＞提供能量能力，为“质量合格食物”</li><li>INQ＜1，提供营养素能力＜提供能量能力，为某营养素价值低食物</li><li>INQ&#x3D;1，提供营养素能力和能量能力相当</li></ul></li></ul><h3 id="INQ评价步骤"><a href="#INQ评价步骤" class="headerlink" title="INQ评价步骤"></a>INQ评价步骤</h3><ul><li>观察食品能量和营养素数值</li><li>根据消费者特征查找DRIs中的参考摄入量</li><li>计算能量密度</li><li>计算营养质量指数</li><li>进行食物营养评价</li></ul>]]></content>
      
      
      <categories>
          
          <category> 营养学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 营养学 </tag>
            
            <tag> 营养咨询与教育 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>食品污染</title>
      <link href="/2019/03/18/%E8%90%A5%E5%85%BB%E5%AD%A6/%E3%80%90%E9%A3%9F%E5%93%81%E5%AE%89%E5%85%A8%E3%80%91%E9%A3%9F%E5%93%81%E6%B1%A1%E6%9F%93/"/>
      <url>/2019/03/18/%E8%90%A5%E5%85%BB%E5%AD%A6/%E3%80%90%E9%A3%9F%E5%93%81%E5%AE%89%E5%85%A8%E3%80%91%E9%A3%9F%E5%93%81%E6%B1%A1%E6%9F%93/</url>
      
        <content type="html"><![CDATA[<h2 id="原因及分类"><a href="#原因及分类" class="headerlink" title="原因及分类"></a>原因及分类</h2><h3 id="原因"><a href="#原因" class="headerlink" title="原因"></a>原因</h3><p>坏环境、产储运输等过程中发生污染</p><h3 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h3><ul><li>生物</li><li>物理</li><li>化学</li></ul><h2 id="腐败变性"><a href="#腐败变性" class="headerlink" title="腐败变性"></a>腐败变性</h2><h3 id="原因-1"><a href="#原因-1" class="headerlink" title="原因"></a>原因</h3><ul><li>微生物（主要</li><li>食物组成及性质；</li><li>环境；</li></ul><h3 id="化学过程"><a href="#化学过程" class="headerlink" title="化学过程"></a>化学过程</h3><ul><li>蛋白质分解产生脱羟基等</li><li>脂肪酸败：不饱和程度、过氧化值上升（早期）、酸钾上升（后期</li><li>碳水分解：酶、酸度</li></ul><h3 id="鉴定"><a href="#鉴定" class="headerlink" title="鉴定"></a>鉴定</h3><ul><li>感官（最敏感</li><li>物理：浸出液电导度，折光率，冰点下降，黏度上升及PH</li><li>化学：挥发性碱基，二甲胺和三甲胺，K值、过氧化值酸价、酸度</li><li>微生物：细菌总数、大肠杆菌</li></ul><h2 id="细菌性污染"><a href="#细菌性污染" class="headerlink" title="细菌性污染"></a>细菌性污染</h2><h3 id="菌属"><a href="#菌属" class="headerlink" title="菌属"></a>菌属</h3><ul><li>致病菌</li><li>条件致病菌</li><li>非条件致病菌</li></ul><h3 id="污染指标"><a href="#污染指标" class="headerlink" title="污染指标"></a>污染指标</h3><ul><li>菌落总数</li><li>大肠杆菌</li><li>肠球杆菌</li></ul><h2 id="黄曲霉菌"><a href="#黄曲霉菌" class="headerlink" title="黄曲霉菌"></a>黄曲霉菌</h2><h3 id="化学结构及特性"><a href="#化学结构及特性" class="headerlink" title="化学结构及特性"></a>化学结构及特性</h3><ul><li><p>黄曲霉菌B1最常见，毒性与致癌性也最强</p></li><li><p>溶解于氯仿、甲醇及乙醇等，不溶于水、己烷、乙醚和石油醚</p></li><li><p>耐热，一般烹调加工不被破坏，加碱可被破坏</p></li></ul><h3 id="易污染食品"><a href="#易污染食品" class="headerlink" title="易污染食品"></a>易污染食品</h3><ul><li>花生，花生油最严重</li><li>大米、面粉、小麦污染较轻</li><li>大豆几乎不污染</li></ul><h3 id="危害"><a href="#危害" class="headerlink" title="危害"></a>危害</h3><ul><li><p>急性中毒，肝脏毒</p></li><li><p>慢性中毒</p></li><li><p>致癌</p></li></ul><h2 id="展青霉素"><a href="#展青霉素" class="headerlink" title="展青霉素"></a>展青霉素</h2><h3 id="化学性质"><a href="#化学性质" class="headerlink" title="化学性质"></a>化学性质</h3><ul><li><p>溶于水和乙醇</p></li><li><p>耐酸不耐碱</p></li></ul><h3 id="易污染食物"><a href="#易污染食物" class="headerlink" title="易污染食物"></a>易污染食物</h3><ul><li><p>霉变面包，香肠</p></li><li><p>水果：香蕉、梨等</p></li><li><p>苹果汁、苹果酒等</p></li></ul><h3 id="措施"><a href="#措施" class="headerlink" title="措施"></a>措施</h3><ul><li><p>首要措施：防霉</p></li><li><p>制定食品限量标准</p></li></ul><h2 id="多环芳烃化合物"><a href="#多环芳烃化合物" class="headerlink" title="多环芳烃化合物"></a>多环芳烃化合物</h2><h3 id="来源"><a href="#来源" class="headerlink" title="来源"></a>来源</h3><ul><li>熏烤</li><li>油墨</li><li>沥青</li><li>石蜡油</li><li>环境污染</li></ul><h3 id="危害-1"><a href="#危害-1" class="headerlink" title="危害"></a>危害</h3><p>三致</p><h2 id="杂环胺类化合物"><a href="#杂环胺类化合物" class="headerlink" title="杂环胺类化合物"></a>杂环胺类化合物</h2><h3 id="来源-1"><a href="#来源-1" class="headerlink" title="来源"></a>来源</h3><ul><li>烹调：温度升高，时间过长，水分越少，产生越多</li><li>蛋白质多的产生多</li></ul><h3 id="危害-2"><a href="#危害-2" class="headerlink" title="危害"></a>危害</h3><ul><li>致突变癌</li></ul><h2 id="二噁英类化合物"><a href="#二噁英类化合物" class="headerlink" title="二噁英类化合物"></a>二噁英类化合物</h2><h3 id="来源-2"><a href="#来源-2" class="headerlink" title="来源"></a>来源</h3><ul><li>环境（垃圾焚烧，农药、氧气漂白、燃电</li><li>包装材料</li></ul><h3 id="危害-3"><a href="#危害-3" class="headerlink" title="危害"></a>危害</h3><ul><li>急性相当于氰化钾的1000倍，具有不可逆的三致作用</li></ul><h2 id="农药污染"><a href="#农药污染" class="headerlink" title="农药污染"></a>农药污染</h2><h3 id="分类-1"><a href="#分类-1" class="headerlink" title="分类"></a>分类</h3><ul><li>直接</li><li>间接</li><li>生物富集作用与生物链</li></ul><h3 id="有机氯农药"><a href="#有机氯农药" class="headerlink" title="有机氯农药"></a>有机氯农药</h3><ul><li>六六六、DDT</li><li>主要在脂肪</li><li>急性：神经毒</li><li>慢性：侵害肝肾和神经</li><li>致癌、致畸、突变</li></ul><h3 id="有机磷农药"><a href="#有机磷农药" class="headerlink" title="有机磷农药"></a>有机磷农药</h3><ul><li>敌敌畏、敌百虫、乐果等</li><li>急性：神经毒<ul><li>抑制血液和组织中胆碱酶活性，引起胆碱神经功能紊乱</li></ul></li></ul><h3 id="拟除虫菊脂类"><a href="#拟除虫菊脂类" class="headerlink" title="拟除虫菊脂类"></a>拟除虫菊脂类</h3><ul><li>高效、低毒、低残留、用量少</li><li>慢性少见，急性多发于误服</li></ul><h3 id="氨基甲酸酯类"><a href="#氨基甲酸酯类" class="headerlink" title="氨基甲酸酯类"></a>氨基甲酸酯类</h3><ul><li>药效快</li><li>选择性高</li><li>对温血、鱼、人毒性低</li></ul><h2 id="有毒金属"><a href="#有毒金属" class="headerlink" title="有毒金属"></a>有毒金属</h2><h3 id="来源-3"><a href="#来源-3" class="headerlink" title="来源"></a>来源</h3><ul><li>工业三废</li><li>加工过程</li><li>添加剂</li><li>农药</li><li>自然环境</li></ul><p>汞麻镉痛铅味（有机＞无机毒） 砷脚（无机＞有机</p><h3 id="汞"><a href="#汞" class="headerlink" title="汞"></a>汞</h3><ul><li>无机<ul><li>植物性为主，吸收率低，不易透过胎盘屏障</li><li>多引起急性</li></ul></li><li>有机<ul><li>水产品为主</li><li>甲基汞脂溶性高</li><li>多慢性</li><li>水侯病</li></ul></li></ul><h3 id="镉"><a href="#镉" class="headerlink" title="镉"></a>镉</h3><ul><li>来源<ul><li>工业废水</li><li>海产品、动物＞植物</li></ul></li><li>损害肾脏、骨骼、消化系统</li><li>低蛋白、低钠、低Fe、</li><li>维D有利于Ca吸收</li></ul><h3 id="铅"><a href="#铅" class="headerlink" title="铅"></a>铅</h3><ul><li>损害肾脏、造血、神经系统</li><li>受蛋白质、Ca、植酸影响</li></ul><h3 id="砷"><a href="#砷" class="headerlink" title="砷"></a>砷</h3><ul><li>三价＞五价</li><li>无机砷＞有机砷毒性</li><li>原浆毒，对蛋白质亲和力强</li></ul><h2 id="N-亚硝基化合物"><a href="#N-亚硝基化合物" class="headerlink" title="N-亚硝基化合物"></a>N-亚硝基化合物</h2><p>化学污染</p><h3 id="结构与分类"><a href="#结构与分类" class="headerlink" title="结构与分类"></a>结构与分类</h3><ul><li><p>亚硝胺</p><p>  前致癌物</p></li><li><p>亚硝酰胺</p><p>  终末致癌物</p></li></ul><h3 id="前体物质"><a href="#前体物质" class="headerlink" title="前体物质"></a>前体物质</h3><h4 id="N-亚硝化剂"><a href="#N-亚硝化剂" class="headerlink" title="N-亚硝化剂"></a>N-亚硝化剂</h4><ul><li><p>硝酸盐和亚硝酸盐及其他氮氧化物，与卤素离子或硫氰胺酸盐产生的复合物</p></li><li><p>硝酸盐-》亚硝酸盐</p></li></ul><h4 id="可亚硝化剂的含氮有机化合物"><a href="#可亚硝化剂的含氮有机化合物" class="headerlink" title="可亚硝化剂的含氮有机化合物"></a>可亚硝化剂的含氮有机化合物</h4><ul><li><p>胺、酰胺、氨基酸、多肽、脲、脲烷、呱啶</p></li><li><p>胺和酰胺在食物中广泛存在</p></li></ul><h3 id="影响合成因素"><a href="#影响合成因素" class="headerlink" title="影响合成因素"></a>影响合成因素</h3><ul><li><p>反应浓度</p></li><li><p>氯离子浓度</p></li><li><p>胺的种类与亚硝基程度</p></li><li><p>硫氯酸盐</p></li><li><p>微生物作用</p></li><li><p>肠道硝酸盐还原菌</p></li><li><p>某些霉菌（黄曲霉、黑曲霉菌等</p></li></ul><h3 id="污染来源"><a href="#污染来源" class="headerlink" title="污染来源"></a>污染来源</h3><ul><li><p>施用硝酸盐化肥</p></li><li><p>蔬菜腌渍时，时间、盐分不够</p></li><li><p>食物烹调、烟熏、制罐可使仲胺含量升高</p></li><li><p>硝酸盐作为防腐剂、发色剂</p></li></ul><h3 id="危害-4"><a href="#危害-4" class="headerlink" title="危害"></a>危害</h3><ul><li><p>致癌</p></li><li><p>致畸</p></li><li><p>动物</p></li></ul><h3 id="防治措施"><a href="#防治措施" class="headerlink" title="防治措施"></a>防治措施</h3><ul><li><p>制定食品中硫酸盐、亚硫酸盐食用量及残留标准</p></li><li><p>防止微生物污染和霉变</p></li><li><p>阻断亚硫胺合成：维C、E，大蒜及大蒜素</p></li><li><p>使用钼肥</p></li></ul><h2 id="单端孢酶烯族化合物"><a href="#单端孢酶烯族化合物" class="headerlink" title="单端孢酶烯族化合物"></a>单端孢酶烯族化合物</h2><h3 id="共同特点"><a href="#共同特点" class="headerlink" title="共同特点"></a>共同特点</h3><ul><li><p>较强细胞毒性、免疫抑制作用、致畸</p></li><li><p>较弱致癌</p></li></ul><h3 id="种类"><a href="#种类" class="headerlink" title="种类"></a>种类</h3><ul><li><p>T-2霉素</p><p>  三线镰刀菌和拟枝抱镰刀菌产生的代谢产物</p><p>  毒性作用导致的淋巴细胞组织受损最为严重</p></li><li><p>致呕毒素（DON</p><p>  禾谷镰刀菌、黄色镰刀菌和雪腐镰刀菌产生</p><p>  赤霉病麦中毒的主要病原物质</p></li><li><p>二醋酸麓草镰刀烯醇（DAS、雪腐镰刀烯醇（NIV、镰刀菌烯醇-X</p></li></ul><h3 id="预防措施"><a href="#预防措施" class="headerlink" title="预防措施"></a>预防措施</h3><ul><li><p>防霉去菌</p></li><li><p>加强监测及制定食品限量标准</p></li></ul><h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><h3 id="玉米赤酶烯酮"><a href="#玉米赤酶烯酮" class="headerlink" title="玉米赤酶烯酮"></a>玉米赤酶烯酮</h3><p>主要污染玉米，其次小麦、大麦和大米等</p><h3 id="伏马霉素"><a href="#伏马霉素" class="headerlink" title="伏马霉素"></a>伏马霉素</h3><p>以伏马霉菌B1污染为主，主要污染玉米及其制品</p><h3 id="2-硝基丙酸"><a href="#2-硝基丙酸" class="headerlink" title="2-硝基丙酸"></a>2-硝基丙酸</h3><p>由节菱孢素产生，主要污染甘蔗</p>]]></content>
      
      
      <categories>
          
          <category> 营养学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 营养学 </tag>
            
            <tag> 食品安全 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>错题内容</title>
      <link href="/2019/03/18/%E8%90%A5%E5%85%BB%E5%AD%A6/%E9%94%99%E9%A2%98%E5%86%85%E5%AE%B9/"/>
      <url>/2019/03/18/%E8%90%A5%E5%85%BB%E5%AD%A6/%E9%94%99%E9%A2%98%E5%86%85%E5%AE%B9/</url>
      
        <content type="html"><![CDATA[<h2 id="第一轮"><a href="#第一轮" class="headerlink" title="第一轮"></a>第一轮</h2><h3 id="食物营养与食品加工"><a href="#食物营养与食品加工" class="headerlink" title="食物营养与食品加工"></a>食物营养与食品加工</h3><ul><li><strong>罐头</strong>灭菌包括常压、高压、超高压灭菌法<ul><li>常压用于蔬菜、水果等酸性</li><li>高压用于禽肉、水产品及部分蔬菜等低酸性</li><li>超高压用于液体</li></ul></li><li>谷类蛋白中<strong>赖氨酸</strong>含量低，所以谷类蛋白质生物学价值低于动物性蛋白质，蛋白质生物学价值<strong>最高</strong>的是<strong>鸡蛋</strong></li><li>谷类矿物质主要在谷皮和糊粉层，但其吸收率会受到植酸和膳食纤维等因素的影响，胚芽具有蛋白质、脂类、矿物质、维生素</li><li>谷类加工越细，蛋白质、脂肪、维生素、膳食纤维及矿物质都会损失</li><li>水果中的有机酸能刺激人体消化腺的分泌，促进Ca吸收、保护维C稳定性，有利于食物消化</li><li>保健食品常见功效成分<ul><li>蛋白质和氨基酸类</li><li>功能性碳水类</li><li>功能性脂类和脂肪酸</li><li>微量营养素</li><li>其他活性成分：植物化学剂、益生菌、其他：药食同源</li></ul></li><li>食品保藏：物理和化学<ul><li>物理：冷冻（冷却、冻结）、辐照、高压保藏</li><li>化学：腌渍（盐糖）、烟熏（冷、热、液熏法）</li></ul></li><li>大豆生物活性物质：大豆异黄酮、大豆低聚糖、大豆多肽、低聚肽、植物固醇、大豆磷脂、大豆皂苷等</li><li>大豆抗营养因子：蛋白酶抑制剂（彻底加热可以去除）、植酸、红细胞凝集素、胀气因子（棉子糖、水苏糖</li><li>Fe的良好来源：动物肝脏、动物全血、畜禽肉、鱼类，牛奶贫铁食物、蛋黄中Fe吸收率低，肌肉的血红素铁含量不高</li><li>加醋可以减少盐使用，使原料中的Ca溶解多-》促进Ca吸收、保护维生素</li><li>肉类中蛋白质含量10-20%，生物学价值高，含人体各种必需氨基酸、构成模式与合成人体蛋白质模式相近</li><li>豆类是蛋白质良好来源原因包括蛋白质含量高、赖氨酸含量高，但由于蛋氨酸含量低，所以蛋白质利用率不高；与谷类相比，豆类胡萝卜素（深色种皮）和维生素E含量高，但B1低，豆类的Ca、K、Na高于谷类，但微量元素略低于谷类</li><li>食品安全毒理性试验<ul><li>急性中毒：经口急性毒性、联合急性毒性、一次性最大耐受量实验</li><li>遗传毒性：30天喂养、传统致畸</li><li>亚慢性中毒：90天喂养、繁殖试验、代谢试验</li><li>慢性中毒：致癌试验</li></ul></li><li>微波加热特性：<ul><li>加热速度快</li><li>低温灭菌、保持营养</li><li>加热均匀性好</li><li>加热易于瞬时控制</li><li>节能高效</li></ul></li><li>食品生物技术：发酵、酶、细胞和基因工程</li><li>肉类在冷冻时会发生变色、蛋白质变性、脂肪氧化（水解酸败和氧化酸败</li><li>屠宰后禽肉从新鲜到腐败变质会经历僵直、后熟、自溶和腐败四个过程</li><li>谷类中含量较高的蛋白质包括谷蛋白、醇溶蛋白，球蛋白、白蛋白和酪蛋白主要在动物性食物中</li><li>化学保鲜包括防腐剂和抗氧化剂，果蜡涂膜、食用膜、纤维素膜属于涂膜保鲜技术</li><li>冷冻干燥过程：物料水分预冻结、冻结物料进行升华干燥、物料升温加热</li></ul><h3 id="膳食营养指导"><a href="#膳食营养指导" class="headerlink" title="膳食营养指导"></a>膳食营养指导</h3><ul><li>在计划膳食时，用<strong>RNI</strong>作为营养状况适宜目标</li><li>平衡膳食宝塔<ul><li>粮谷类：200-300g（全谷物和杂豆50-150g，薯类50-100g</li><li>蔬果类：蔬菜300-500g，深色1&#x2F;2，水果200-330g</li><li>鱼禽肉：120-200g（畜禽肉40-75g，水产品40-75g，蛋类50g</li><li>奶类坚果：奶类300-500ml，坚果25-35g</li><li>油25-30g，盐不超过5g</li></ul></li><li>大豆氨基酸平衡，脂肪含量不算高15%</li><li>建议适量摄入鱼、禽、蛋和瘦肉途径<ul><li>控制总量，分散食用</li><li>在外就餐，多选择鱼和豆制品</li><li>小分量，量化有效</li></ul></li><li>高能量：400+，高盐：800mg+，高糖：饮料中11.5g+，高油高脂：20g+</li><li>营养素密度&#x3D;一定量食物提供的营养素含量&#x2F;相应营养素的推荐摄入量&#x3D;食物中某营养素含量&#x2F;该食物能量*1000</li><li>《中国居民膳食指南》核心：提倡<strong>平衡膳食和合理营养</strong>以达到<strong>促进健康</strong>的目的</li><li>在制定膳食计划时，应设定能量和营养素的摄入目标维<ul><li>在安全范围内</li><li>达到RNI&#x2F;AI，小于UL</li><li>能量RNI&#x3D;EAR，因此用EAR作为唯一参考值</li><li>根据体重情况适时调整能量目标</li><li>考虑膳食构成，使能量来源分配合理</li></ul></li><li>三餐分配合理<ul><li>早餐25-30%，午餐30-40%，晚餐30-35%</li><li>依据职业、劳动强度等调整</li><li>中高身体活动水平应比低活动水平每天多摄入300、800kcal</li></ul></li><li>当人群平均摄入量或中位摄入量等于或大于该人群的营养素适宜摄入量时，可以认为该人群发生摄入不足的概率很低</li><li>当平均摄入量或中位摄入量在AI以下时，则不可能判断群体摄入不足的程度</li><li>日常摄入量低于EAR的个体在人群中的比例&#x3D;该人群摄入不足个体的比例</li><li>AI与EAR没有肯定的关系，不能相互推算</li><li>特定人群膳食指南：婴幼儿、青少年、老年人、孕妇、乳母、素食人群</li><li>2022中国居民膳食指南由一般人群膳食指南、特定人群膳食指南和平衡膳食模式及膳食指南编写说明三部分组成</li><li>一般人群膳食指南有8条，适用于2岁以上人群，特定人群膳食指南在此8条基础上进行增补</li><li>粗细搭配通常指的是主食做到粗细搭配、注意增加全谷物和杂豆类食物</li><li>乳糖在肠道中被乳酸菌利用后产生乳酸，乳酸在肠道内可以抑制大肠杆菌的生长，同时也可以促进Ca的吸收，调节胃酸，促进肠胃蠕动，促进消化液分泌</li><li>会烹会选、会看标签<ul><li>在生命各个阶段都应该做好健康膳食规划</li><li>认识食物，选择新鲜、营养素密度高的食物</li><li>学会阅读食品标签，合理选择预包装食品</li><li>学习烹饪，传承传统饮食，享受食物</li><li>在外就餐，不忘适量与平衡</li></ul></li><li>乳糖不耐<ul><li>喝酸奶、奶酪</li><li>喝奶时与固体食物搭配，饭后1-2h喝，少量多次</li></ul></li></ul><h3 id="人群营养"><a href="#人群营养" class="headerlink" title="人群营养"></a>人群营养</h3><ul><li>孕期30-34周，对Fe需要量达到最高峰，28-32周血容量达到最高峰</li><li>乳母膳食摄入量对乳汁中的乳糖影响不明显</li><li>维生素D和Fe不能通过乳腺进入乳汁</li><li>维生素A的含量与乳母膳食关系密切，维生素B1、B2、尼克酸、维C等在乳汁中的含量直接受乳母膳食影响</li><li>乳母膳食中Ca含量不足时会首先动用母体的Ca，以维持乳汁中的Ca稳定；乳母膳食中长期缺钙，会导致乳汁中Ca含量降低</li><li>乳汁中的Zn、Cn、I含量与乳母膳食密切相关</li><li>正常足月婴儿在出生头3月，体重月增600-1000g，3月时体重是出生的2倍，1岁达到或超过出生的3倍（＞9kg，2岁体重达到12kg</li><li>婴儿0-6月体重&#x3D;出生体重+月龄*0.7（前3月增加0.6-1kg，后6月增加0.3kg</li><li>婴儿7-12月体重&#x3D;6+月龄*0.25</li><li>乳牙&#x3D;月龄-6（最迟2.5岁，1岁上下左右第一乳磨牙，1.5岁尖牙，2岁第二乳牙。2.5岁乳牙不齐与克汀病、佝偻病、营养不良等有关</li><li>身长反映骨骼系统生长指标，足月新生儿平均身长50cm，在1岁时增长越50%，2岁达到出生的2倍（100cm，学龄前儿童平均增长5cm</li><li>出生头围平均34cm，比胸围略大1-2cm，出生时胸围＜头围，但胸围增长速度快，6个月-1岁时，头胸维基本相等，<strong>1岁头胸围大致相等</strong>。未达到考虑<strong>营养不良</strong>，不算骨骼发育不全</li><li>婴儿期是一生中生长发育最快的时期，</li><li>脂肪膳食参考摄入量：48%（0-6月）、40%E（0.5岁），35%E(1-3岁)</li><li>幼儿蛋白质未制定，脂肪35%</li><li>学龄前儿童预防维A缺乏：每周摄入一次富含维A的动物肝脏，每天摄入一定量的蛋黄、牛奶，或在医生指导下补充鱼肝油，也可以每天摄入一定量的深绿色或黄红色蔬菜补充维A原（胡萝卜素</li><li>新生儿消化器官发育未成熟，功能不健全。唾液腺欠成熟，唾液分泌少，唾液中的唾液淀粉酶含量低，不利于消化淀粉，3-4月唾液腺发育完全，淀粉酶逐渐增加，6月起唾液作用增强。胃蛋白酶活性弱，凝乳酶和脂肪酶含量少，因此消化能力弱，胃排空延迟。消化道可以分泌消化酶，蛋活力相对差，特别是淀粉酶。胰淀粉酶要到4月后才能达到成人水平。胰腺脂肪酶活力也低，肝脏分泌的胆盐较少，因此对脂肪的消化吸收能力较差</li><li>青春期女性9-11，男性11-13，停止女性17左右，男性22左右</li><li>初乳：分娩后7&#x2F;1-5天的乳汁淡黄色，质地粘稠，脂肪少，蛋白质多，尤其是抗体、白细胞、溶菌酶及抗菌因子分泌型免疫球蛋白和乳铁蛋白等，长链多不饱和脂肪酸多于成熟乳</li><li>过渡乳：产后7-15&#x2F;5-10天，随后是成熟乳：脂肪含量增加，蛋白质含量减少</li><li>妊娠成功基础：合理摄入能量</li><li>孕妇能量消化包括母体生殖器官及胎儿的生长发育，母体用于产后泌乳的脂肪储备、基础代谢、食物热效应、体力活动 </li><li>婴儿碳水摄入过多会导致腹泻（在场内经过细菌发酵、产酸、产气并刺激肠蠕动产生腹泻</li><li>幼儿能量需要包括基础代谢（48%）、生长发育、体力活动、食物热效应、能量储存及排泄耗能</li><li>青少年生长发育占20-30%</li><li>老年人胆固醇的摄入量<strong>没有限制</strong></li><li>50岁以上女性首要死因是冠心病</li><li>绝经后：雌激素水平降低；冠心病发病率上升；容易骨折和骨质疏松；血脂、糖代谢异常升高；心血管患病率上升</li><li>乳汁中含有免疫活性因子，白细胞、淋巴细胞、抗体、乳铁蛋白、溶菌酶、补体、低聚糖和共轭糖原等。低聚糖和共轭糖原可以抵抗细菌，促进直肠中乳酸杆菌生长，抑制致病性革兰氏阴性菌生长</li><li>0-6月：适当补充维D，母乳喂养不需要额外补钙；回应式喂养</li><li>7-24月幼儿喂养指南：回应式喂养，继续母乳，添加辅食，从富含铁泥糊状开始，辅食不加调味料，注重饮食卫生和进食安全，顶级监测体格指标</li><li>补充叶酸从围孕期开始，是孕早期的营养要点，神经管畸形与孕早期叶酸不足有关</li><li>新生儿低出生体重与糖耐量减少、胰岛素抵抗、高胰岛素血症、高血压有关，体重＜2250g，冠心病发病率增加</li><li>低出生体重儿原因：孕前母体体重和身高不够、母体孕期蛋白质-能量营养不良，孕期增重不够，孕期血浆总蛋白和白蛋白水平低下、孕期贫血、孕期吸烟或酗酒等</li><li>孕妇缺钙：母体骨密度降低、骨质软化、骨质疏松，胎儿先天性佝偻病、低钙血症</li><li>孕妇Fe用于：基本的铁损伤、胎儿成长增加的Fe储备、胎盘和脐带中铁储备量、随循环血量及红细胞量的增加血红蛋白中蓄积的铁量。孕中晚期，fe的吸收率从10到20%</li><li>维D和Fe不能通过乳汁</li><li>婴儿必需但易缺乏的矿物质主要有：钙、铁、锌、碘（内陆甚至部分沿海地区</li><li>对老年人来说，预防高同型半胱氨酸血症：B12、B6、叶酸</li><li>新生儿维K缺乏原因：母乳中含量低，肠胃功能不全，大量使用抗生素肠道菌群被破坏</li><li>维E缺乏导致早产儿、低出生体重儿，引起溶血性贫血、血小板增加和硬肿症</li><li>青春期骨骼发育完全，第二性征迅速发育，性发育逐渐成熟</li><li>婴儿在4-6月需要补铁，除Ca、Fe、Zn、I外，母乳喂养不易缺乏其他矿物质元素</li><li>婴儿配方奶粉以牛奶为基础，在脂肪方面：脱去部分或全部富含饱和脂肪的奶油，代之以富含多不饱和脂肪的植物油；调配脂肪酸的构成和比例，添加长链多不饱和脂肪酸</li><li>可以添加辅食：体重达到出生时的2倍；吃完250ml奶后不到4h饿了；可以坐立起来；24h内吃完1000ml奶；月龄＞6</li><li>学龄前儿童缺铁性贫血：需要量大；内源可利用少；进食含fe的食物少</li><li>缺I：胎儿期克汀病；儿童期引起亚临床克汀病、侏儒症</li><li>回应式喂养：也称为顺应喂养，新生儿的按需喂养和日后逐渐形成的规律喂养方式。强调喂养的时长和频次由婴儿进食意愿和需求决定</li><li>按需喂养：婴儿饥饿是其基础，哭闹是最晚表现。通过识别婴幼儿发出饥饿与进食的信号，不限制哺乳次数和时间的前提下</li><li>回应式喂养，鼓励但不强迫进食：父母与婴幼儿有充分交流；耐心喂养，鼓励进食，不强迫；鼓励并协助自主进食，不玩玩具，每次进餐时间＜20min；父母保持良好进食习惯，称为榜样</li><li>学龄前儿童进行身体活动，限制久坐和视屏时间：有助于维D合成、骨骼增长、促进儿童身体、动作、认知、社会性、情绪情感发簪，促进身心健康；<ul><li>每天身体活动180min+，户外活动120min+，中等以上60min+</li><li>久坐时间＜1h，累计视屏时间＜1h</li><li>睡眠10-13h，包括午睡1-2h</li></ul></li><li>老年人运动心率：170-年龄</li><li>老年人营养风险筛查包括：体重下降、进食减少、体重指数（营养状况受损评分，疾病严重程度，年龄</li><li>老年人进食量＜80%时，在医生建议下可以合理使用特医食品</li></ul><h3 id="公共基础知识"><a href="#公共基础知识" class="headerlink" title="公共基础知识"></a>公共基础知识</h3><ul><li>知信行模式：<ul><li>建立积极、正确的<strong>信念与态度</strong>，进而改变健康相关行为的基础</li><li><strong>信念和态度</strong>是行为改变的动力</li><li>只有了解了有关的健康知识，建立起积极、正确的信念与态度，才有可能主动形成有益于健康的行为，改变危害健康的行为</li></ul></li><li>健康信念模式<ul><li>御用<strong>社会学心理法</strong>解释健康相关行为的理论模型</li><li>强调感知在决策中的重要性</li><li>是否采纳因素：感知疾病威胁、健康行为的益处与障碍、自我效能（效能期待）、社会人口学和提示因素</li><li>首先对疾病的威胁进行判断，然后对预防疾病的价值、采纳健康行为对改善健康状况的期望和克服行动障碍的能力做出判断，最后才会做出是否采纳健康行为的决定</li><li>缺点：模式的效度和可信度检验较困难</li></ul></li><li>产生和提高自我效能途径<ul><li>自己成功完成过某行为</li><li>他人间接经验</li><li>口头劝说</li><li>情感激发</li></ul></li><li>健康教育目的是帮助人们形成有益于健康的行为和生活方式，进而预防疾病、增加健康、提高生活质量</li><li>营养教育<ul><li>目标：改善人们营养状况</li><li>通过营养科学的信息交流，帮助个体和群体获得食物与营养知识，形成科学合理饮食习惯的教育活动和过程，是健康教育的<strong>重要组成部分</strong></li></ul></li><li>信息传播活动<br>  国际上以<strong>信息传播维</strong>主要干预手段的健康教育及作为采用综合策略的健康促进项目的一个部分而开展的传播活动<ul><li>通过应用传播策略来告知、影响、激励公众、社区、组织机构人士、专业人员及领导，促使相关个人及组织掌握知识和信息转变态度、做出决定并采纳有利于健康的行为活动</li></ul></li><li>完善的营养教育项目（6步<ul><li>了解教育对象：充分认识教育对象特别需要的营养健康信息</li><li>制定营养教育计划：确定干预目标，预先制定评价计划和经费预算</li><li>确定营养教育的途径和资料：明确教育目标和教育对象，选择适宜的交流途径和制作有效的教育资料<ul><li>确认是否有现成可选用的营养教育材料，如小册子、挂图、传单等</li><li>确定对教育对象进行营养教育的<strong>最佳途径</strong>：个体传播、面对面交流、讲课、大众传播等</li><li>确定营养教育<strong>最适合的宣讲方式</strong>：发放小册子、放映ppt或录像、讲课、广播等</li></ul></li><li>做好营养教育的前期准备</li><li>实施教育计划：确定宣传材料和活动时间表</li><li>教育效果评价：通过近期（目标人群的知识、态度、信息、服务变化）、中期（行为和相关危险因素变化）、远期的效果评价（人们营养健康状况和生活质量的变化）</li></ul></li><li>教育对象<ul><li>个体</li><li>各类组织机构：包括学习、部队、企业</li><li>社区</li><li>政府和媒体，大众传播媒介</li></ul></li><li>社区营养管理工作程序（5<ul><li>现状调查</li><li>确定项目目标</li><li>制定计划</li><li>执行计划</li><li>评价计划</li></ul></li><li>收集社区居民营养与健康资料途径<ul><li>现有的统计资料（政府行政部门、卫生服务机构（医院、疾病控制中心、妇幼保健院等）、科研学术部门及其他部门现有的相应统计报表</li><li>访谈：对象包括领导者、社区居民、医务人员及专家等</li><li>专题讨论：对象可以是本社区的居民代表、行政管理人员、卫生人员</li><li>调查问卷：现场调查、信函、电话</li></ul></li><li>社区营养工作<ul><li>基本场所：社区</li><li>社区主要动员对象：社区的基层组织（居委会或村委会</li><li>基本细胞：家庭</li><li>具体执行者：基层社区卫生人员</li><li>主要工作：了解社区人群营养和健康状况及其营养因素；社区营养监测、干预和评价；社区营养改善</li></ul></li><li>传播：<ul><li>通过：符号和媒介</li><li>特点：社会学、普遍、互动、共享、符号、目的性</li></ul></li><li>社区是一个有代表性的区域，主要指城市里的街道、居委会或农村的乡&#x2F;镇、村。社区一般具有共同的地理环境和文化，也有共同的利益、问题和需要</li><li>制定项目计划的要求<ul><li>针对性</li><li>可行性</li><li>易于确定靶目标：高危人群产生效果</li><li>低经费开支</li><li>易于评价</li></ul></li><li>评价营养改善措施<ul><li>投入：开展项目投入的资源和服务方劳动力、后勤等</li><li>产出：与投入有关的结果，也是对项目执行系统的评价</li><li>效果：各种改善措施对营养健康状况的改善，以及产生行为和生理变化的效果</li><li>效益：改善措施增进人体健康而可能带来的社会效益和经济效益</li></ul></li><li>营养改善项目的营养分析：考虑特定目标人群的营养不良程度、人群分布；哪些人患有营养不良或慢性病及产生原因；存在何种营养不良和营养慢性病</li><li>制定计划内容：对项目背景描述；经费预算</li><li>确定项目目标：对实施可行性的评估</li><li>大众传播特点：<ul><li>传播者是职业的传播机构和人员</li><li>信息扩散距离原，覆盖区域广泛，速度快</li><li>信息公开公共，面向全社会人群</li><li>传播对象虽然多，分散广泛，互不联系，但总体来说是大致确定的</li><li>传播是单向的，信息反馈速度缓慢而且缺乏自发性</li></ul></li><li>人际交流反馈形式：语言、体语和书面反馈</li><li>营养教育对象：个体；各类组织机构；社区；政府部门</li><li>营养教育的主要工作领域<ul><li>有计划对餐饮行业、农业、商业、轻工、医疗卫生、疾病控制计划等部门的有关人员进行营养知识培训</li><li>将营养知识纳入中小学教育内容</li><li>将营养工作内容纳入初级卫生保健服务</li><li>利用各种宣传媒体，，广泛开展群众性营养宣传活动，倡导合理。。。。</li></ul></li><li>运用多且比较成熟的行为理论<ul><li>知信行</li><li>健康信念模式</li><li>计划行为理论</li></ul></li><li>政府部门可以参与到社区的工作包括：计划生育、社区保健、预防接种；不包括：发放资料、信息收集</li><li>社区居民的健康资料包括：不同年龄人群身高体重及其他体格而是资料，与营养有关的疾病发生率、死亡率及死亡原因</li><li>访谈对象包括：领导者、社区居民、医务人员及专家，不包括派出所民警</li><li>慢性病：缺铁性贫血、夜盲症、糖尿病、肥胖、肿瘤、骨质疏松等</li><li>卫生事业发展的战略措施：健康教育和健康促进</li><li>为了确保某项营养教育活动有依据、有针对性、有目标地进行，必须根据实际情况质地营养教育计划<ul><li>根据知信行关系的密切程度、行为可改变性、外部调节、危害性及受累人群数量，确定优先项目</li><li>在此基础上，确定营养干预目标，包括总体和具体目标</li><li>制定传播、教育策略及实施计划，包括确定与分析目标人群、实施机构和人员、教育内容及活动日程等</li><li>营养教育评价计划也应当预先制定，包括评价方法、评价指标，实施评价的机构和人员，实施评价的实际及结果使用等</li><li>经费预算</li></ul></li></ul><h3 id="食品卫生基础"><a href="#食品卫生基础" class="headerlink" title="食品卫生基础"></a>食品卫生基础</h3><ul><li>食用油脂可能存在：黄曲霉、多环芳烃（B(a)P）、高温加热形成的多聚体。<ul><li>天然存在的有害物质：棉酚、芥子油苷、芥酸</li></ul></li><li>酒类发酵会产生杂醇油，不会在油脂中出现</li><li>b族维生素不会影响食物腐败变质的条件，影响条件包括：酶类、环境（湿度、温度、紫外线、氧等），微生物作用</li><li>食品污染分为<ul><li>生物性：微生物、寄生虫、昆虫污染</li><li>化学性：来源复杂，包括工业三废、农药、食品容器、</li><li>物理性：生产、储存、运输、销售过程的杂物污染，以及放射性物质开采、冶炼、生产，在生活中的应用与排放，核爆炸，核废物污染</li></ul></li><li>黄曲霉素：溶于甲醇乙醇等，不溶于水、己烷等，紫外线下产生<strong>荧光</strong>。<strong>耐热不耐碱性处理足够情况</strong><ul><li>在体内代谢途径：脱甲基、环氧化、羟化</li></ul></li><li>苦杏仁：细胞原浆毒，氰苷在酶或酸的作用下水解放出氢氰酸，属于细胞原浆毒</li><li>肉毒梭菌、河豚毒素、有机磷：神经毒素</li><li>河豚毒素发病迅速，初期胃肠道，很快出现神经系统症状，言语不清、瞳孔放大，血压体温下降</li><li>有机磷中毒：通过消化道、呼吸道和皮肤进入体内，毒性作用主要是与生物体内胆碱酯酶结合，引起胆碱能神经高度兴奋，轻者头晕恶心、视力模糊，重者出现瞳孔缩小、呼吸困难</li><li>瘦肉精中毒：头晕心慌、心悸、心动过度，肌肉震颤，代谢紊乱，低血钾，外周血白细胞降低等</li><li>毒蔁中毒包括胃肠炎、神经精神、溶血性、脏器损伤型（毒性最强，毒肽类和毒伞肽类，肝肾心脑损伤）、日光皮炎型，无消化道型</li><li>亚硝酸盐中毒：出现<strong>紫绀</strong>（肠源性紫绀）、全身组织缺氧表现，化学中毒<ul><li>来源：腌制、制罐动植物、发色剂防腐剂、啤酒、硝酸盐施肥、食物霉变、发酵食品、酱油、油煎咸肉</li><li>升高：植物生长干旱；不恰当环境储存；腌制；微生物污染</li></ul></li><li>N-亚硝基化合物：通过呼吸道、消化道、皮下或肌肉注射或皮肤接触诱发肿瘤，常见肝癌<ul><li>前体物：N-亚硝化剂（硝酸盐、亚硝酸盐及其他氮氧化物，卤素离子或硫氰酸盐产生的复合物）和可亚硝化的含氮有机化合物（胺、氨基酸、多肽、月尿，月尿烷、呱啶、酰胺等）</li><li>阻断亚硝胺合成：维C、A、E、大蒜及大蒜素、茶叶、猕猴桃、沙棘果汁</li><li>硝铵在酸性环境下不稳定，容易乙醇</li></ul></li><li>屠宰后的肉经过“后熟产酸”处理可以杀死口蹄疫病毒，经过僵直和后熟的肉算新鲜肉</li><li>变形杆菌属：潜伏期5-18h，急性腹泻、恶心呕吐头痛发热，体温38-39°，病程1-3d，中毒食物以动物性为主，其次为豆制品和凉拌菜</li><li>酸价：植物油≤3，动物有≤2.5，食用油脂制品≤1，植物油煎炸过程中≤5</li><li>K值：≤20新鲜，≥40腐败，还可以用挥发性碱基总氮、二甲胺与三甲胺(干鱼虾类)判断鱼肉类腐败变质的化学指标</li><li>物理指标：食品浸出物量、浸出液电导度、折光率、冰点下降、黏度上升及PH</li><li>细菌污染指标：菌落总数、大肠杆菌、肠球菌。霉菌菌相评价霉菌污染指标</li><li>菌落总数卫生学意义：判断食品清洁状态和预测食品耐保藏性的标志</li><li>可以通过生物富集作用使水生动物体内毒性成分增加的：六六六、DDT（有机氯农药）；甲基汞（有机汞，神经毒素，毒性急亚慢性，致畸、胚胎毒性）</li><li>有机磷农药：敌敌畏、敌百虫、乐果、马拉硫磷等</li><li>夏秋食物中毒多发：沙门菌、葡萄球肠菌</li><li>春季：河豚</li><li>冬春多发：肉毒梭菌</li><li>真菌毒素中毒：赤酶病麦、霉变甘蔗</li><li>食物中毒：副溶血弧菌</li><li>食物腐败变质指标：感官、物理、化学、微生物</li><li>人畜共传染：囊虫病、炭疽、鼻疽、旋毛虫病、口蹄疫、布氏杆菌。有些牲畜病例如猪瘟、猪出血性败血症不感染，但是牲畜感染伴有沙门氏菌继发感染，食入引起沙门氏中毒</li><li>猪肉常见寄生虫：旋毛虫、囊虫、猪带涤虫</li><li>粮豆类主要卫生问题：霉菌和霉菌毒素；农药；有毒有害物质（工业废水等）；仓储害虫；无机夹杂物和有毒种子污染（麦角、毒麦、槐子、卖仙翁子、苍耳子、毛果洋茉莉子、曼陀罗子）；掺伪</li><li>蛋白质、维C、含硫氨基酸、Fe减少铅、Zn减少铬对金属毒物的吸收和毒性有影响</li><li>我国食用最多的农药：除草剂、杀虫剂、杀菌剂</li><li>单端孢霉烯族类化合物共同特点：有较强细胞毒性、免疫抑制作用、致畸作用，部分有致癌作用</li><li>食盐分类<ul><li>生产：精制盐、粉碎洗涤盐、日晒盐</li><li>用途：加碘盐、多品种盐</li><li>资源：海盐、湖、井矿盐</li><li>硒、锌、铁、钙强化盐</li></ul></li><li>酱油分类 <ul><li>食用方法：烹调酱油、餐桌酱油</li><li>生产工艺：酿造、配制酱油</li></ul></li><li>食醋不应存放在金属、不耐酸的塑料、搪瓷、陶瓷容器</li><li>鲜鸡蛋存放：1-5°，85-90%湿度</li></ul><h3 id="膳食调查与评价"><a href="#膳食调查与评价" class="headerlink" title="膳食调查与评价"></a>膳食调查与评价</h3><ul><li>膳食调查常用方法：称重、24h、记账、化学分析、询问法、食物频次法<ul><li>膳食调查方法选择依据调查目的、人群、对结果的精确性要求、经费以及研究时间长短缺点</li></ul></li><li>24h回顾法是通过<strong>访谈</strong>的形式收集膳食信息的一种<strong>回顾性</strong>膳食调查方法，最常用的一种方法。<ul><li><strong>大型和小型</strong>都可以用，<strong>个体</strong>也可能用24h</li><li>面对面询问，使用开放式表格或事先编制好的调查表通过电话、录音机等进行询问</li></ul></li><li>记账法的基础是膳食账目，需要要求伙食账目完整，数据可靠，适用于幼儿园、中小学或部队等集体单位。对于家庭，一般没有食物消费账目可查，但也可以用<ul><li>缺点：难以分析个体膳食摄入情况</li><li>单纯记账一般<strong>不包括</strong>调味料，和<strong>称重</strong>一起记录，称重记账也不能用于个体分析</li></ul></li><li>膳食史法<ul><li>优点：可以进行具有<strong>代表性</strong>的膳食模式调查，<strong>样本量大、费用低、使用人力少</strong>，<strong>不影响</strong>调查对象的膳食习惯和进餐方式</li><li><strong>抽象</strong>的方法，需要专家指导，调查员要求更高</li></ul></li><li>膳食调查目的：了解一定时期内的人群膳食摄入情况及人们的膳食结构和饮食习惯</li><li>全国性营养调查：1959，1982，2002，2010-2013，2015-2017，共计6次，使用<strong>称重记账法</strong></li><li>膳食报告主体内容<ul><li>居民摄入食物情况</li><li>居民膳食能量和主要营养素摄入情况</li><li>居民能量、蛋白质、脂肪来源</li><li>居民膳食结构状况和膳食指南相比–膳食评价</li></ul></li><li>膳食结构评价依据：平衡膳食宝塔<ul><li>将24h膳食调查结果将食物按<strong>9类</strong>分类</li></ul></li><li>能量食物来源（6类<ul><li>谷类及其制品</li><li>豆类</li><li>薯类</li><li>动物类</li><li>纯热能（植物油、动物油、酒类、淀粉、糖</li><li>其他</li></ul></li><li>膳食营养素摄入量评价：中国居民膳食营养素参考摄入值</li><li>标准人：18-29岁65kg，轻体力劳动成年男</li><li>数据库结构：<ul><li>原始数据：用户加工对象</li><li>概念数据层:数据库整体逻辑表示，指出了每个数据的逻辑定义及数据的逻辑联系，存储数据的集合。所涉及的是数据库所有对象的逻辑关系，而不是物理情况模式数据库管理员概念下的数据库</li><li>逻辑数据层：用户看到，表示一个或一些特定用户使用的数据集合，<strong>逻辑记录的集合</strong></li></ul></li><li>数据库特点<ul><li>数据共享</li><li>减少数据冗余度</li><li>数据独立性</li><li>集中控制</li><li>一致性和可维护性：安全控制、完整性控制、并发控制、故障的发现与恢复</li></ul></li><li>数据库作用<ul><li>便于档案管理</li><li>进一步膳食分析</li></ul></li><li>数据库变量（5个<ul><li>调查对象编码：ID，至少2位</li><li>食物编码：D1，6位</li><li>食物质量：D2，3位</li><li>进餐时间：D3，1位</li><li>进餐地点：D4，1位</li></ul></li><li>食物编码：6位<ul><li>前2位：<strong>类别</strong>编码</li><li>第3位：<strong>亚类</strong>编码</li><li>后3位：在亚类中的<strong>排列序号</strong></li></ul></li><li>标准人日&#x3D;标准人系数 * 人日数</li></ul><h3 id="人体营养状况与测定"><a href="#人体营养状况与测定" class="headerlink" title="人体营养状况与测定"></a>人体营养状况与测定</h3><ul><li>标准量床测定<strong>3</strong>岁以下，2岁以下身长，2岁以上身高</li><li>体重误差＜身长测量误差，身长受遗传因素控制，后天因素影响需要有一个长期过程才能体现</li><li>上臂：上肢从肩关节到肘关节，上臂肌肉前群（肱二头肌、橼肱肌、肱肌）和后群（肱三头肌</li><li>皮褶厚度测量：肩胛下角、肱三头肌、脐旁  <ul><li>意义：衡量个体营养状况和肥胖程度的较好指标；反映人体皮下脂肪含量和分布情况，与全身脂肪有一定线性关系；</li></ul></li><li>肥胖：男：10<del>40，女性：20</del>50</li><li>纵向测量指标反映：疾病、长期营养、不良环境因素</li><li>头围坐位或仰卧位，胸围仰卧位</li><li>检查粪便的致病菌时应尽快送检：10min以内<ul><li>收集应在干净的广口容器中；有蜡纸外包装和紧密封口的250ml纸盒；有盖的塑料、玻璃容器；棉签和</li></ul></li><li>粪便保存措施：（固寄 冷盖 培病 硫氮 矿冻<ul><li>标记物：粪便标记物（如卡红等</li><li>固定保存：寄生虫及虫卵</li><li>冷藏保存：有盖玻璃容器</li><li>运送培养基保存：致病菌</li><li>0.05mlo&#x2F;L硫酸：氮平衡实验</li><li>冷冻：矿物质代谢</li></ul></li><li>血清和血浆区别：<strong>血浆有纤维蛋白原</strong>，血清没有</li><li>血液抗凝剂：草酸盐、枸橼酸盐、EDTA钠盐、肝素</li><li>营养状况调查：收集3天20g粪便</li><li>收集24h尿液：500ml收集瓶；承装2L以上容器；冰箱和防腐剂</li><li>尿液标本<strong>及时送检</strong>，否则细菌繁殖、蛋白质变形、细胞溶解等</li></ul><h3 id="营养咨询与教育"><a href="#营养咨询与教育" class="headerlink" title="营养咨询与教育"></a>营养咨询与教育</h3><ul><li>60°以上算热处理，但常用热处理的温度是100°，也是习惯认为食物生熟的界限温度。100-121°属于高温杀菌</li><li>煎炸炒相比，炒比较好，红烧、清炖也会导致水溶性维生素和矿物质溶于汤内</li><li>冷藏0°左右，鲜鱼和鲜奶可以保存1-2d，蛋保存数月，鲜肉1-2周</li><li>加热能预防：沙门氏、副溶血、四季豆</li><li>加热不能预防：葡萄球菌肠毒素（葡萄球菌不耐热，但是肠毒素耐热）</li><li>身体活动水平取决于：身体活动量，<strong>基础代谢</strong><ul><li>身体活动量：个体活动强度、时间、频率、该活动在计划历时长度</li></ul></li><li>燕麦、大麦、水果和某些豆类含可溶性膳食纤维</li><li>大肠菌群：37°发酵乳糖产酸产气、需氧或兼性厌氧、革兰氏阴性的无芽孢杆菌，包括：阔埃希菌属、柠檬酸杆菌属、肠杆菌属、克雷伯菌属</li><li>铅中毒对机体造血、神经、肾脏损伤尤为明显<ul><li>主要是慢性毒性，贫血、神经衰弱，神经炎和消化道系统症状，肌无力、肌关节疼痛，口有金属味。慢性铅中毒还会导致凝血过程变长，并可能损害免疫系统。儿童对铅敏感，过量会影响生长发育，导致智力低下</li></ul></li><li>医学科普文章基本要求<ul><li>五个：科学、思想（文章反映科学、适合读者对象阅读；体现位读者健康服务；积极向上；体现位社会发展服务）、艺术、通俗、实用</li><li>三个基本：科学、思想、艺术（必须坚持的</li></ul></li><li>细菌性中毒预防措施<ul><li>防止污染</li><li>控制繁殖，低温</li><li>食用前彻底加热</li></ul></li><li>抽样误差大小主要取决于<ul><li>抽样量：抽样量越大，误差越小</li><li>随机性：越随机，误差越小</li><li>均一性：均一性越好，误差越小</li></ul></li><li>影响食品被容器和包装材料污染的因素：食品性质、温度、时间、包装材料的理化性质和完整性</li><li>非语言传播：时间、空间、时空、动态、类语言</li><li>鉴别油脂和高含脂肪食品腐败：酸价、过氧化物值</li><li>塑料、合成橡胶、化纤等食品容器的安全性来源<ul><li>未聚合的游离单体和聚合不充分的低聚合物</li><li>添加剂或加工助剂残留</li><li>低分子降解产物</li></ul></li><li>食品的大肠菌数最近似数可作为被粪便污染的程度，并可作为肠道致病菌污染食品的指示菌</li></ul><h3 id="膳食指导合评价"><a href="#膳食指导合评价" class="headerlink" title="膳食指导合评价"></a>膳食指导合评价</h3><ul><li>学龄前儿童碳水特点：不宜食用过多糖和甜食；以复杂碳水谷类为主；适量膳食纤维；过量容易胀气<ul><li>膳食纤维来源：谷类、豆类、蔬果</li></ul></li><li>青少年生长发育所占总能量的20-30%</li><li>饱和脂肪酸不超过总脂肪的<strong>1&#x2F;3</strong><ul><li>n-6：n-3&#x3D;（4-6）：1</li><li>饱和：单不饱和：多不饱和&#x3D;1：1：1</li></ul></li><li>老年人、儿童期：三餐两点<ul><li>午后点心应该低能量，以避免影响晚饭</li></ul></li><li>儿童食谱制定中，<strong>蛋白质和脂肪过高</strong>是最易产生的问题</li><li>生长发育期的儿童应注意优质蛋白质的摄入和足够的能量来保证蛋白质在体内被有效利用，<strong>Ca、Zn和维A</strong>对生长发育很重要，多吃奶、海产品和肝脏</li><li>农村儿童植物食物多，动物食物缺乏，易发生缺铁性贫血、维A缺乏、Zn缺乏</li><li>营养配餐中需要注意：<ul><li>保证营养平衡</li><li>食物多样，新鲜卫生</li><li>三餐分配合理</li><li>注意饭菜适口性</li><li>兼顾经济条件，权衡食物营养鱼价格</li><li>不需要考虑温度和天气</li></ul></li><li>维C的典型缺乏症已经不常见，但是亚临床缺乏常见，其会导致免疫力降低，患慢性病的概率增加</li><li>Ca良好来源：奶和奶制品、酸奶、小鱼小虾及一些坚果类，绿色蔬菜、豆类</li><li>B1主要存在：动物内脏、肉类、豆类、粗加工粮谷类</li><li>B2：动物性、动物内脏；蛋类、奶类；大豆和绿叶蔬菜</li><li>11-24岁男学生比成人轻体力需要更多：Ca、Fe、蛋白质、能量</li><li>食谱营养评价目的<ul><li>是否满足其营养需求</li><li>发现某些营养素的缺乏</li><li>及时进行调整与纠正</li></ul></li><li>食谱营养评价内容：参照食物成分表初步核酸食谱提供能量和各种营养素的含量，进行餐次分析、能量来源分析、食物来源分析等内容</li></ul><h3 id="食品营养评价"><a href="#食品营养评价" class="headerlink" title="食品营养评价"></a>食品营养评价</h3><ul><li>高筋小麦粉：蛋白质（干基）≥12.2%，低筋≤10%</li><li>脂肪可以用<strong>粗脂肪和总脂肪</strong>表示，在营养标签上都可标示为脂肪<ul><li>粗脂肪：一大类不溶于水而溶于有机溶剂的化合物总称，包括<strong>甘油三酯、磷脂、固醇、色素</strong>等</li><li>总脂肪：可以通过测定<strong>脂肪酸</strong>并折算脂肪酸甘油三酯的总和来获得脂肪总量</li></ul></li><li>牛奶中乳糖&#x2F;碳水含量：4.5-5.5，蛋白质和脂肪2.5-3.5，钙110mg<ul><li>全脂乳脂肪≥3.1，蛋白质≥2.9，非脂乳固体≥8.1</li></ul></li><li>灭菌乳质量检验项目包括：蛋白质和脂肪、非脂乳固体、酸度和杂质、硝酸盐和亚硝酸盐、微生物和黄曲霉素、食品添加剂和营养强化剂、</li><li>不同类型的产品标准要求项目不同，大致包括：感官、微生物、卫生指标和营养指标</li><li>营养声称：一个食物营养特性的建议、暗示或说明<ul><li>含量声称</li><li>比较声称</li></ul></li><li>减少声称：<ul><li>减少能量：25%</li></ul></li><li>低能量：液体≤80，固体≤170</li><li>低脂肪：≤1</li><li>用于计算营养标签标示值的数据，至少有<strong>6-12</strong>次不同批次送检结果才比较稳定有说服力。且在不断送检过程中，所有检测数据要全部纳入到本企业产品营养成分数据库中，以便于观察产品质量变化或调整标签数据</li><li>GI：碳水<strong>质量</strong>对血糖影响<ul><li>蛋白质和脂肪降低，GI升高</li><li>进食50g可利用碳水化合物</li><li>标准参考物：葡萄糖、白面包</li></ul></li><li>GL：碳水<strong>数量</strong>对血糖的影响</li><li>与其他营养素不同，<strong>脂肪酸比例</strong>更适用于评价<strong>一天</strong>膳食结构中而非一种食物脂肪中的营养价值</li><li>食物营养价值：食物中所含能量和营养素满足人体需要的程度<ul><li>营养素种类是否齐全</li><li>营养素数量和比例是否合理</li><li>是否易于被人体消化吸收和利用</li></ul></li><li>食品产品分析：感官、评价、卫生学检验（微生物和污染物）、营养成分分析、功效成分分析、添加剂分析</li><li>食品营养价值分析：感官、评价和营养成分分析</li><li>INQ（营养质量指数）最大的特点是可以按照不同人群的营养需要分别进行计算，同一个食物，对一组人群可能是合格的，而对另一人群可能就是不合格的</li><li>蛋白质营养评价：氨基酸评分、氨基酸评分模式、蛋白质功效比、生物价、净利用率、PDCASS对氨基酸数量及比例及蛋白质的营养价值评价质量评价<ul><li>评价蛋白质利用率：蛋白质功效比、生物价、净利用率、其他（相对蛋白质值、净蛋白质比值、氮平衡指数</li></ul></li><li>蛋白质分类<ul><li>化学组成：单纯、组合</li><li>形状：纤维类、球状等</li><li>氨基酸比例：完全、不完全、半完全蛋白质</li></ul></li><li>碳水的消化吸收会影响胰岛素、大肠发酵、便秘、血糖、肠道健康等，不影响脑垂体分泌</li><li>植物油必须脂肪酸含量较高，禽类高于畜类，内脏高于肌肉，瘦肉高于肥肉</li><li><strong>不饱和脂肪和短链</strong>脂肪含量高的脂肪熔点<strong>越低</strong>，越容易<strong>消化</strong></li><li>脂肪酸比例适宜包括<ul><li>饱和脂肪酸、单不饱和脂肪、多不饱和脂肪酸比例适宜，1：1：1</li><li>n-6：n-3多不饱和脂肪酸比例</li></ul></li><li>反式脂肪酸的键角＜顺式脂肪酸，熔点高于顺式</li><li>熔点低于体温消化率97-98%，高于的消化率90%</li><li>评价脂肪或油脂优劣，包括风味、提供必需氨基酸、胆固醇、植物固醇、反式脂肪酸、维E含量等</li><li>资料按载体形式分为：印刷品（纸质）、录像带、光盘、PPT四类<ul><li>纸质优点：编制容易，成本低，制作周期短，发行快；阅读容易，适用面光；复制容易，易于借鉴，接受者携带方便；传播容易，形象固体；灵活多样</li><li>纸质缺点：缺乏动感，缺少新鲜感；过于普遍，得不到重视；宣传人员携带不便</li><li>录像带劣势：制作成本高、使用受限、文字资料少、艺术性较强，需要专业人员</li><li>光盘优点：内容丰富，信息量多；可操作性强；复制容易，携带方便；形象生动。制作不复杂</li></ul></li><li>市场需求调查作用<ul><li>为市场预测提供客观且具体的资料依据</li><li>为企业管理部门提供决策依据</li><li>有助于吸收国内外先进技术和经验</li><li>增强企业竞争力和生存能力</li><li>加速产品更新换代，提高产品质量，提高人员技术水平</li></ul></li><li>市场调查报告：标题、目录、概述、正文、结论与建议、附录等<ul><li>概述部门简明说明调查目的，介绍调查对象和调查内容、简要介绍研究方法、写明对原始资料进行选择、评价等原则</li></ul></li></ul><h3 id="社区营养管理与干预"><a href="#社区营养管理与干预" class="headerlink" title="社区营养管理与干预"></a>社区营养管理与干预</h3><ul><li>调查表编制基本原则：相关、客观、适宜、全面、设计合理性、可比性</li><li>信息收集方法：二手资料、实验、访问法</li><li>社区健康调查资料分为：数值变量、分类变量、等级资料</li><li>调查具体方法：观察法、访谈法、自填问卷、专题小组讨论</li><li>发病率：一定时期内某特定人群中某种疾病<strong>新出现</strong>频率</li><li>患病率：一定使其内<strong>新旧病例</strong>数占的比例</li><li>病死率：一定时期内某病<strong>全部患者</strong>因该病死亡的比例</li><li>罹患率：<strong>新病例</strong>发生频率</li><li>个人健康问题记录：<ul><li>以问题为中心：基本资料、问题目录、问题描述、病情流程</li><li>以预防为导向：格式化的健康体检表针对不同年龄、性别进行的周期性健康检查的结果记录</li></ul></li><li>个人健康档案基本资料<ul><li>包括：人口学（年龄、性别等）、健康行为（运动、精神、膳食等）、生物学资料、临床资料</li></ul></li><li>健康数据收集：利用现存资料（得到大量信息）、经常性工作记录（发现规律，有一定局限性）、社区调查（大规模的可以得到较为全面和可靠的信息）、健康筛查（采取必要防治对策和措施）</li><li>问题描述即 将问题表中的每一问题依照序号顺序逐一一SOAP（主观、客观、评估、计划）</li><li>资料存放：14-24°，湿度45-60%</li><li>项目评价是贯穿于干预始终，目的通过评价监测干预活动的进展情况和效果，进行信息反馈，以及及时调整计划，达到预期目标。</li><li>在设计营养干预方案时，应该包括项目评价方法和指标的设计</li><li>营养干预<ul><li>实验类型：随机对照、类实验</li><li>策略：政策环境、营养教育、行为、食物营养干预、控油限盐干预</li></ul></li><li>营养强化：是营养干预、营养宣教、预防全民某些营养缺乏吧的主要措施之一</li><li>营养强化剂常为必需氨基酸、维生素、矿物质类，常用载体为谷类及其制品、奶制品、饮料、豆制品、调味品和儿童食品</li><li>营养补充剂：以补充维生素、矿物质等营养物质保健功能而不是以提高能力为目的的产品<ul><li>目的：补充膳食供给不足；预防营养缺乏；降低某些慢性病退行性疾病的危险性</li></ul></li><li>直条图用于比较统计指标数值的大小和对比关系，各等宽直条间隔排布，直条高度标示统计指标的数值大小，例如表示不同性别高血压患病率</li><li>封闭式基本格式包括：填空、二项选择、排序、尺度、多项选择</li><li>玉米中色氨酸低</li><li>水的来源和排除每日维持2000ml，每日喝水1200ml，内生水300ml，食物1000ml</li><li>营养咨询与营养教育共同点：营养信息交流、知识提高、行为改变、态度改变、沟通技巧</li></ul><h3 id="模拟"><a href="#模拟" class="headerlink" title="模拟"></a>模拟</h3><ul><li>国际和我国通用的能量单位是J，营养学上使用的能量单位是kcal或卡</li><li>矿物质和维生素主要集中在谷皮和糊粉层，维E主要集中在胚芽。粮食精细加工还会导致Ca、Fe、Zn的大量丢失，但不会导致维A、维B12丢失，因为维A主要在动物性食物<ul><li>糊粉层的蛋白质、B族维生素、矿物质含量、脂肪比胚乳多</li></ul></li><li>豆类B12少，但是发酵过后增加</li><li>婴幼儿缺乏维D会导致佝偻病、以钙磷代谢障碍和骨样组织钙化为特征，成人缺乏维D会使成熟骨矿化不全，表现为骨质疏松</li><li>《新馆肺炎疫情防护指导手册》发布“实行分餐制”：是用公筷公勺、提倡自助餐或分餐、减少点菜，厉行节约</li><li>2024全名营养周主体：奶豆添营养，少油更健康</li><li>人日数：被调查者用餐的天数，1个人24h为一个人日，习惯上只吃两餐或由于特殊情况每日多于或少于三餐也是一个人日。在膳食调查中不一定能收集到整个调查期间全部进餐次数，应该根据餐次比折算</li><li>疲倦、食欲不振、便秘、工作能力下降、指、趾有麻木感，肌肉酸痛、腓肠肌压痛明显，腱反射亢进：B1缺乏，孕妇缺乏导致婴儿脚气病<ul><li>引起需要量增加或消耗过多：长期发烧、高温作业、甲亢、妊娠哺乳、甲状腺功能亢进、重体力劳动等导致需要量增加；糖尿病、尿崩症及使用利尿剂导致排出增大</li></ul></li><li>潜伏期最短2h，最长11.5h，发病很快停止，恶心呕吐3-4次，最多达诗词，部分腹痛，2人轻度腹泻，不发烧或有低烧：葡萄球菌肠毒素食物中毒<ul><li>起病急，潜伏期短，多发夏秋</li><li>主要为乳类及其制品，蛋类，熟肉制品；乳制品的冷冻，个别也含有淀粉类</li></ul></li><li>肉毒梭菌毒素：家庭自制的发酵豆、谷类制品；肉类和罐头</li><li>O157:H7大肠杆菌中毒：肉及肉制品，汉堡包、生牛奶、奶制品、蔬菜、鲜榨果汁、喝水等<ul><li>传播途径通过污染食物经过粪口途径感染较为多见，直接传播较为罕见</li></ul></li><li>副溶血弧菌：主要海产品；咸菜，熟肉类，禽肉类，蛋类<ul><li>不耐热，</li></ul></li><li>副溶血性弧菌：嗜盐性，革兰阴性，兼性厌氧。沿海地区常见中毒<ul><li>恶心、呕吐、腹泻水样便，黏液便和黏血便、发热、头痛、多汗、口渴，失水过多引起虚脱伴有血压下降</li></ul></li><li>沙门氏菌：动物性多见</li><li>细菌性中毒全年皆可发生，夏秋较多，主要是动物性食品，病程短，恢复快，愈后良好</li><li>条件致病菌：变形杆菌、葡萄球菌、链球菌、韦氏梭菌、蜡样芽孢杆菌等</li><li>生化指标  <ul><li>红细胞转酮醇酶活力系数：维B1，亚硫酸会破坏</li><li>全血谷胱甘肽还原酶活力系数：B2营养状况指标</li><li>红细胞转氨酶活力：维B6（作为辅酶在氨基酸代谢起重要作用，不足会导致色氨酸代谢受干扰，尿中黄尿酸、全尿酸等排除增加。<ul><li>酪氨酸、组氨酸及色氨酸等脱羟基作用，中枢神经中谷氨酸转化为γ-氨基丁酸，半胱氨酸转为牛磺酸，色氨酸代谢为烟酸都需要B6参与</li><li>动物性、豆类富含；其次蛋类、蔬果；乳类含量低</li></ul></li><li>红细胞溶血实验：<strong>维E</strong>（保持细胞膜完整性，缺乏会导致溶血性贫血</li></ul></li><li>消化腺：分泌消化液的器官，属于外分泌腺，主要有唾液腺、胰、肝及消化管壁内的小腺体（胃腺、肠腺等）等<ul><li>最大的消化腺是肝脏，肝脏基本单位是肝小叶</li></ul></li><li>乳母蛋白质摄入量+25g，碘UL500ug</li><li>孕中期蛋白质+15；孕晚期蛋白质+30，钙摄入量800</li><li>与非孕相比，孕期的能量消耗包括母体及生殖器官及胎儿的生长发育，以及母体用于产后泌乳的脂肪储备。孕中期能量摄入+250，孕晚期+400kcal</li><li>乳母能量摄入很低时，泌乳量会降低正常的40-50%</li><li>I：RNI:18+120ug，孕期230ug；UL：600ug。孕期500ug</li><li>K：AI：2000mg，PI-NCD：3600mg</li><li>维A：UL3000mgRAE&#x2F;d</li><li>膳食纤维：25-30g</li><li>优质蛋白质占膳食蛋白质的30-50%</li><li>亚硫酸盐多用于蜜饯、干果等食品和处理保藏水果原料及其半成品，不适用于肉、鱼等动物性食品，因为其残留气味会掩盖鱼、肉腐败变质的气味并且会破坏<strong>维B1</strong><ul><li>亚硫酸盐处理蔬果可以产生防腐、抑酶、减少褐变</li></ul></li><li>硫熏作用：使果片表面细胞破坏、促进干燥；破坏酶活性阻止氧化作用；使果脯保持较好色泽；保护维C；防止单宁氧化，防止褐变</li><li>亚硫酸盐摄入过多，会导致血液中正常的血红蛋白变为<strong>高铁</strong>血红蛋白，而<strong>失去携氧</strong>能力，导致<strong>缺氧</strong></li><li>膳食宝塔：水产每周至少两次，每天1个鸡蛋，动物性食物一天120-200g，大豆坚果合计25-35</li><li>25°下，牛奶抑菌（溶菌酶）最多保持6h；0°保持48h</li><li>全鸡鸡蛋蛋白质12%，蛋黄胆固醇很高<ul><li>蛋清中含卵清蛋白、卵伴清蛋白、卵黏蛋白、卵胶粘蛋白、卵类粘蛋白、卵球蛋白等</li><li>蛋黄蛋白质通常指鱼脂类相结合的脂蛋白脂，主要有低密度脂蛋白65%，高密度脂蛋白16%，卵黄高磷脂蛋白，卵黄球蛋白，蛋黄酥维生素B2结合蛋白。蛋黄中的脂肪几乎全部以蛋白质结合的良好乳化形式存在，因而消化率高。蛋黄脂肪30-33%，中性占62%-65%，磷脂占30-33%，固醇占4-5%。卵磷脂可以降低血胆固醇的作用</li></ul></li><li>膳食纤维主要作用：吸水、黏滞作用、阳离子交换（在胃内结合无机盐等形成膳食纤维复合物，影响其吸收）、细菌发酵、结合有机化合物（结合胆酸合成胆固醇）</li><li>毒蔁中毒：胃肠炎（不是肠胃炎）、神经精神、日光皮炎、脏器损伤、溶血性</li><li>混合系数&#x3D;全家<strong>标准人日数</strong>&#x2F;全家<strong>总人日数</strong></li><li>油脂<ul><li>饱和脂肪酸：猪肉、棕榈油、椰子油等</li><li>单不饱和脂肪酸：橄榄油、茶油、菜籽油</li><li>多不饱和脂肪酸：亚麻籽油、核桃油、葡萄籽油、葵花子油、玉米油、鱼油</li></ul></li><li>碳水包括：单糖（葡萄糖、半乳糖、果糖等）、寡糖（水苏糖、棉子糖、低聚糖、麦芽糊精等）、多糖（淀粉、非淀粉多糖）</li><li>维A：<ul><li>功能：视觉；上皮细胞组织健康；维持骨骼正在生长发育；促进生长发育；其他（视黄醇类物质有延缓或组织癌前病变，防止化学致癌剂作用；机体免疫功能</li><li>吸收影响因素：胆汁、膳食脂肪、抗氧化剂（维E和卵磷脂等）；矿物油和肠道寄生虫不利于吸收</li><li>来源：动物肝脏、鱼肝油、全奶、蛋黄等；植物性来源有色蔬菜</li></ul></li><li>维C酸性稳定，但在生物类黄酮的水果中较为稳定（刺梨、枣）<ul><li>作用：参与羟化反应（促进神经递质合成；促进类固醇羟化）；还原作用（抗体形成；促进Fe吸收、促进四氢叶酸形成、维持疏基酶活性）；其他（解毒、预防癌症、清除自由基</li></ul></li><li>维C缺乏症状：面无头发脱落、关节肿胀。面色苍白、倦怠、<strong>食欲下降、抑郁</strong>等；儿童<strong>易激惹</strong>，体重不增，伴有低热、呕吐腹泻；皮<strong>肤瘀点</strong>，毛囊<strong>周围角化和出血，齿龈常肿胀出血，消化道内出血</strong>、血尿、关节腔出血甚至颅内出血；长期出血＋维C摄入不足导致Fe吸收下降导致贫血；婴儿早期四肢疼痛呈蛙状，<strong>肋骨串珠</strong>、软骨交界处串珠，坏血病串珠（与佝偻病不同，坏血病串珠部位可出现尖锐突起，内侧可扪及凹陷）；水肿、黄疸、发热等；泪腺、唾液腺、汗腺等分泌功能减退甚至丧失；伤口<strong>愈合不良</strong>，<strong>免疫功能受损，易发生感染</strong></li><li>B2常见缺乏症状：虚弱、疲惫、口痛、触痛、眼部发烧、眼痒、<strong>视力模糊</strong>，<strong>唇炎、口角炎、舌炎、脂溢性皮炎</strong>，<strong>阴囊炎、阴唇炎</strong>。角膜血管增生、<strong>贫血和脑功能失调</strong>，影响生长发育。妊娠期缺乏导致胎儿骨骼畸形</li><li>B2判断：个人史（摄入不足、吸收利用障碍、其他代谢疾病或消化疾病、服用影响吸收的药物）；临床（眼球结膜充血、喉咙疼痛、咽口腔粘膜水肿充血、口角炎、舌炎、唇炎、脂溢性皮炎、贫血）；食物史（摄入不足、喂养不当、节食或偏食）；实验室检查（红细胞核黄素＜270,，尿核黄素测定24h排出量＜320</li><li>合理的膳食模式：地中海、日本、东方健康膳食模式</li><li>菌落总数卫生学意义：食品清洁状态（大肠杆菌）；预测食品鲜度、保藏性、致病性</li><li>食谱制定常用方法：食物交换、(营养)计算法</li><li>长期酗酒导致：维A、B1、B2、C缺乏，不会导致蛋白质缺乏</li><li>食物成分表中没有的食物，得到其营养物的方法：实际测定；相似食物替代；找相关文献报道或国外食物成分；预包装食品查看营养标签</li><li>肱三头肌皮褶提起点：肩峰与尺骨鹰嘴链接中点上方2cm，皮褶计是在中点下方1cm，连续3次</li><li>肱二头肌皮褶提起点：肱二头肌肌腹中点（肩峰与尺骨鹰嘴链接中点上方1cm）</li><li>营养教育是有计划、有组织、有系统和有评价的干预活动，需要各级政府、有关部门及全社会共同参与</li><li>营养教育项目：先了解教育对象，了解需要的营养健康信息；对教育目标人群进行调查和评估，了解分析主要营养和健康问题、需求；了解相关疾病；</li><li>营养教育活动对象：个体、政府和传媒、组织机构、社区</li><li>学龄前儿童：3-4脂肪35%，4+20-30%；3-4蛋白质8-20%，4+蛋白质10-20%，65+15-20%</li><li>学龄前每天至少15-20g大豆制品，提供约6-10g优质蛋白</li><li>调查问题设计要点：相关性、客观、适宜、设计合理、全面、可比；问题应该通俗易懂，语言简洁，问题内容具体清晰、含义单一，避免双重或多重含义；在正式调查前需要经过测试和修订（预调查；不要求问题简单，有针对性和未知问题</li><li>上消化道：口腔、咽、食管、胃、十二指肠（小肠部分）</li><li>下消化道：空肠、回肠（小肠部门）、大肠（盲肠、结肠、直肠</li><li>1ug视黄醇当量&#x3D;1ug视黄醇&#x2F;6ugβ-胡萝卜素</li><li>1ug维A&#x3D;0.3g视黄醇</li><li>1ug胡萝卜素&#x3D;0.167ug视黄醇&#x3D;0.556维A</li><li>1视黄醇活性当量&#x3D;1ug全反式视黄醇&#x3D;2ug溶于油剂的纯品全反式β-胡萝卜素&#x3D;12ug膳食全反式β-胡萝卜素&#x3D;24ug其他膳食维A原类胡萝卜素</li><li>赤霉病麦：加热不被破坏，重度步态不稳，似醉酒，也称醉谷病<ul><li>小麦、大麦、燕麦等、玉米、稻谷</li><li>脱氧雪腐镰刀菌烯醇，又称呕吐毒素，主要由谷禾镰刀菌、黄色镰刀菌和雪腐镰刀菌产生，是赤霉病麦的主要病原物质</li></ul></li><li>膳食不平衡是慢性病发生的主要危险因素之一，表现为：高油高盐、含糖饮料；全谷物、深色蔬菜、水果、奶类、鱼虾类和大豆摄入不足；喝酒</li><li>常量元素（Ca、Mg、Na、K、S、氯、P）；必须微量元素（Fe、I、Zn、硒、Cu、钴、铬、钼）；可能必须微量（锰、圭、镍、硼、钒）</li><li>铬：加强胰岛素作用，预防动脉粥样硬化，促进蛋白质代谢和生长发育</li><li>钴：组成B12成分，B12也叫钴胺素</li><li>大豆富含<strong>不饱和脂肪酸</strong>，是高血压、动脉粥样硬化的理想食物</li><li>硒：良好来源包括海洋食物和动物肝肾及肉，谷类依据土壤<ul><li>缺乏：大骨节病、克山病。（不会生长迟缓、腹泻</li></ul></li><li>碘功能：能量代谢；促进代谢和体格生长发育；促进神经系统发育；垂体激素作用<ul><li>缺乏：甲状腺肿、少数克汀病；更多亚临床克汀病、儿童智力低下</li></ul></li><li>妊娠期体重范围增长<ul><li>孕期BMI≤18.5，增加11-16kg；18.5 - 23.9：增加8-14kg；26-27.9：7-11kg；≥28：5-9kg</li></ul></li><li>炭疽病处理措施：6h内采取，2m挖坑深埋，加生石灰，不能屠宰和解体，不能放血；同群牲畜立即隔离，并进行疫苗和免疫血清注射；屠宰过程中发现立马停下，可疑部位送检，确认后立即火化；人员衣服、饲养间、屠宰间消毒</li><li>佝偻病患者：血清钙磷乘积＞30，血清25-（OH）D3几乎为零或下降；碱性磷酸酶＞28</li><li>1g糖原合成需要0.6nmol钾离子，1g氮合成蛋白质需要3nmol钾离子</li><li>优质酱油：总氮1.3+，多在1.3-1.8中。氨基酸态氮≥0.7%，谷氨酸含量最高，其次天冬氨酸，这两个有鲜味</li><li>胎儿期的Fe储存一般可以满足4-6个月的胎儿需要</li><li>保健功能的功效成分分类：<ul><li>蛋白质氨基酸：牛磺酸、大豆多肽、超氧化物歧化酶等</li><li>油脂：磷脂、功能性脂肪酸、植物缁醇、二十八烷醇、角鲨烷等</li><li>碳水：膳食纤维、低聚糖、植物多糖和动物多糖等</li><li>具有保健功能的微量营养素：硒、维E、Ca、Zn、其他二价金属元素等</li><li>功能性植物化学物：膳食纤维、植物多糖、植物缁醇、酚类化合物、有机硫化物等</li><li>活性物质：益生菌等</li></ul></li><li>学龄前儿童维A补充：动物肝脏、牛奶、蛋黄、医生指导下补充鱼肝油、黄绿色和深绿色蔬菜</li><li>学龄前常见营养问题：缺铁性贫血、维A缺乏，佝偻病是婴幼儿期容易出现</li><li>食品分析计划制定<ul><li>工作准备：了解分析目的和目标；查询配方和原料档案；选择适合的产品标准和营养成分分析检测标准；确定检查项目和方法；预算产品营养成分</li><li>工作程序：根据面包卫生标准，决定感官和理化标准；确定营养检测项目；确定送检数量；落实实验室；撰写分析计划（产品名称、目的、数量、批次、采购地点、分析实验室资质、采用的分析方法、经费核算及完成时间）和实施方案</li></ul></li><li>24h回顾法时，估计食物重量可以用食物模型、家用量具或食物图谱进行计算<ul><li>调查表内容：食物名称、原料名称、原料编码、质量、进餐时间地点</li></ul></li><li>社区调查方法：观察法、访谈法、小组讨论、自填问卷法</li><li>成年人基础代谢占45-70%，体力活动25-50%，食物特殊动力占10%</li><li>大脑主要能量物质：碳水，碳水也是维持神经系统和心脏正常供能、增强耐力、提高工作效率有意义</li><li>3-硝基丙酸：甘蔗霉变的节菱孢霉产生</li><li>含淀粉最少的是大豆，在34%左右，其他的例如绿豆、豌豆、赤小豆等在60%</li><li>孕妇生理学贫血主要是因为红细胞的数量增加速度＜血容量曾</li><li>血浆（近期C摄入情况）和白细胞（维C储存水平）可以测定维C含量</li><li>胃步消化吸收蛋白质等大分子物质，主要功能<ul><li>储存食物，食物进行机械性消化，大变小，与胃液混合形成食糜</li><li>胃液是胃腺各种细胞分泌的混合物，其可消化食物</li><li>胃蛋白酶从无活性变为有活性，其水解蛋白质，产物是多肽和氨基酸</li></ul></li><li>Ca摄入过多: 奶碱综合症（包括高钙血症、碱中毒和肾功能障碍）；肾结石；干扰其他物质吸收和利用（Fe、Zn、Mg、P等相互作用）</li><li>钙缺乏主要影响骨骼的发育和结构，表现为婴幼儿手足抽搐和成人的骨质疏松</li><li>Ca丰富食物：奶和奶制品，豆类、坚果、绿色菜、瓜子、虾皮、海带、发菜、芝麻酱等。鸡蛋和肉不是<ul><li>促进吸收：适量维D、赖色精氨基酸、乳糖、适量钙磷比</li><li>不利于：草酸、过多膳食纤维、脂肪、碱性磷酸盐、酗酒；抗酸药、四环素、肝素</li></ul></li><li>Mg缺乏会导致骨质疏松</li><li>Mg：腹泻是评价Mg毒性的敏感指标。<ul><li>过量：血清Mg在1.5-2.5nmol&#x2F;L，恶心，胃肠痉挛；2.5-3.5时，嗜睡、肌无力、膝腱反射弱，肌麻痹；5nmol&#x2F;L时，深腱反射小时；5-7.5：随意肌或呼吸肌麻痹；7.5+发生心脏完全传导阻滞或心博停止</li></ul></li><li>磷的缺乏只有在一些特殊情况下出现，比如早产儿喝母乳，人乳含量低，不能满足早产儿需求，会发生磷缺乏，造成佝偻样骨骼异常</li><li>脱水<ul><li>高渗：水流少，轻度（2-4%）口渴、尿少、尿比重增加及工作效率降低；中度（4-8%）皮肤干燥、口舌干裂，声音嘶哑及全身软弱；重度（＞8%）高热、烦躁、精神恍惚；脱水10%以上，危及生命</li><li>低渗：电解质流失，循环血量下降，血浆蛋白质浓度升高，细胞外液低渗，可引起脑细胞水肿，肌肉细胞内水过多导致肌肉痉挛，早期多尿，晚期少甚至闭尿，尿比重降低</li><li>等渗：渗透压不变，细胞外液减少，内液一般不减少，口渴和尿少表现</li></ul></li><li>D3：25-（OH）D3在血液主要形式；活性形式1，25-（OH）2D3</li><li>评价婴幼儿食品蛋白质质量指标：蛋白质功效比</li><li>婴幼儿体重主要反映骨骼、肌肉、内脏、体质和水分等情况，体重测量1岁以下取卧位，1-3岁取坐位</li><li>可以依据实际情况进行餐次和能量比例调整人群：3-6岁，生病和康复期病人等</li><li>测量头围可以用坐位或仰卧位，胸围取坐位</li><li>正式调查前：<ul><li>设计调查表，确定调查变量等</li><li>试用或者预调查</li><li>调查表检验：客观检验法和主观评价法</li><li>入户调查前，提前告知等</li></ul></li><li>客观检验法：降问卷初稿打印若干份，在正式调查总体中抽取一个小样本，用这些问卷初稿进行调查，最后进行检查和分析试调查结果，需要注意：回收了吧；有效回收情况；填写错误；填答不全</li><li>社会主义职业道德：<strong>原则</strong>是<em><strong>集体主义</strong></em>，核心是为人民服务</li><li>n-3系列的α-亚麻酸，EPA（二十碳五烯酸），DHA（二十二碳六烯酸）</li><li>维D：直接或间接参与骨内进行的所有过程，骨细胞的增生、分化、骨基质的形成成熟和钙化，骨质重吸收等<ul><li>婴幼儿时期缺乏导致佝偻病，成人缺乏导致骨软化症</li><li>佝偻病-维D缺乏判断：多汗、夜惊；乒乓头、方颅、肋串珠、鸡胸、手足镯、O型腿、典型肋软沟；烦躁不安、枕秃、方颅、肋软沟；血液钙磷乘积＜30，次要30-40；碱性磷酸酶主要＞28，次要20-28；胸骨X射线（干髌端）：毛刺状、杯口状，钙化预备线模糊</li></ul></li><li>哺乳对健康的影响：子宫收缩，减少子宫出血，促进子宫恢复；促进体重恢复，降低体重滞留风险，延长闭经时间；降低母亲2型糖尿病、乳腺癌和卵巢癌发病风险</li><li>K：细胞内中，心肌细胞内外的K浓度对心肌的自律性、传导性和兴奋性有密切关系。<ul><li>K缺乏：心肌兴奋性增高</li><li>K过多：使得心肌自律性、传导性和兴奋性收到抑制。因此K过多过少都会引起心律失常</li></ul></li><li>成人体内水分含量：体重的65%</li><li>膳食脂肪：0-6月：48%E，7-12月：40%E，1-3岁35%E，4岁以上30%<ul><li>饱和脂肪酸：4-17岁＜8%，成人＜10%</li><li>n6多不饱和脂肪酸2.5-9%，n3多不饱和脂肪酸0.5-2%E</li></ul></li><li>社区调查目的：掌握社区人群健康或疾病状况分布特征及变化趋势；探索健康的影响因素；明确和推测社区人群中现在和将来要出现的健康问题；促进健康、控制疾病，提高社区健康水平</li><li>与谷类相比，豆类蛋白质、脂肪含量高。大豆类碳水组成较为复杂，多为纤维素和低聚糖，其他豆类碳水主要以淀粉形式存在，比大豆类多；谷类碳水最丰富的，集中在胚乳，碳水主要存在形式是淀粉</li><li>绝经后：雌激素下降；骨代谢发生明显变化，骨吸收作用增强，但是骨吸收超过骨形成，导致骨密度下降，造成骨质疏松和骨折，绝经后10年骨丢失速度最快，骨密度下降10-15%；雌激素下降导致血脂异常、糖代谢异常，冠心病发病率升高</li><li>低能：液体≤80，固体≤170KJ</li><li>低蛋白：来自蛋白质的能量≤5%</li><li>低脂肪：液体≤1.5，固体≤3</li><li>低胆固醇：液体≤10，固体≤20</li><li>强力味精：主要由呈鲜味特强的肌苷酸钠或鸟苷酸钠与普通味觉混合而成</li><li>高脂饮食会导致：增加肥胖风险，饱和脂肪酸摄入过多或供能占比过高会增加心血管疾病发病和死亡风险，以多不饱和脂肪酸替代部分饱和脂肪酸摄入可以降低冠心病的发病风险；反式脂肪酸摄入过多会增加心血管疾病风险。脂肪摄入过多不会增加胃癌发病风险</li><li>输入过多必需氨基酸，会导致体内氧化物、过氧化物等增加，对机体产生不利影响</li><li>氨基酸按照化学机构式分为：脂肪族氨基酸、芳香族、杂环族氨基酸</li><li>应用平衡膳食宝塔时需要依据个人年龄、性别、劳动强度选择适宜的参考摄入量</li><li>标准体重&#x3D;<strong>身高-105</strong></li><li>营养学评价包括客观和主观指标，客观包括体格检查、人体测量和实验室检查所得结果；主观包括通过病史、主诉的询问获得（膳食史属于询问法的一种</li><li>碳水化合物质量百分比&#x3D;食物可利用碳水&#x2F;混合膳食可利用碳水总和<ul><li>可利用碳水&#x3D;碳水-膳食纤维</li></ul></li><li>GL&#x3D;食物碳水质量百分比 * GI</li><li>糖尿病：随机血糖≥11.1；或空腹血糖≥7；或OGTT 2h血糖≥11.1,；或HbA1c≥6.5</li><li>半完全蛋白：麦胶蛋白；不完全蛋白：玉米胶蛋白；胶质蛋白；豆球蛋白</li><li>不消化的碳水被称为益生元，包括低聚果糖、菊粉、非淀粉多糖、抗性淀粉等</li><li>骨骼和牙齿的重要成分：钙、磷、Mg、氟</li><li>胃中不含有任何能水解碳水的酶，胃酸对碳水只可能有微少或极局限的水解</li><li>碳水主要在小肠消化，小肠内消化可分为肠腔消化和小肠粘膜上皮细胞表面上的消化，极少部分非淀粉多糖可在结肠内通过发酵消化<ul><li>小肠内不被消化吸收的碳水到达结肠后，被结肠菌群分解，产生氢气、甲烷气、二氧化碳和短链脂肪酸等（发酵过程，也是消化的一种方式）。产生的其他经过体内循环转运，经呼吸和直肠排出体外，其他产物例如短链脂肪酸被肠壁吸收代谢</li><li>糖吸收主要是小肠的空肠。单糖首先进入肠粘膜上皮细胞，再进入小肠壁的毛细血管，并回合与门静脉而进入肝脏，最后进入大循环，运送到全身各个器官，在吸收过程中可能有少量单糖经过淋巴系统而进入大循环。<strong>单糖的吸收是耗能的主动转运</strong></li></ul></li><li>小细胞贫血：维B6，Fe</li><li>巨幼红细胞性贫血：B12、叶酸、Fe</li><li>发生贫血时，可能缺乏的营养素：蛋白质、维C、Fe、维B6、维B12、叶酸</li><li>缺铁性贫血判断：获得相关信息；一般检查身高体重等；观察体型；观察外貌、表情、活动、精神状态等；检查口唇、甲床、黏膜是否苍白；做运动，如蹲站，是否出现头晕心慌等；实验室检查；询问病史；膳食调整建议</li><li>叶酸丰富食物：动物肝肾、鸡蛋、酵母、豆类、绿色菜、水果坚果（菌菇不丰富</li><li>促进非血红铁素（Fe）吸收：维C、某些单糖、有机酸及动物肉类（肉因子）</li><li>脂肪：甘油三酯（脂肪）和类脂（固醇、类固醇、磷脂）</li><li>缺乏出现皮肤损害：维A、B2、烟酸</li><li>水生理功能：构成细胞和体液重要成分；参与新陈代谢；调节人体体温；润滑。（不会保持酶活性</li><li>发酵就能量主要来源：乙醇、糖、氨基酸（发酵酒中含氨基酸和短肽多，蒸馏酒几乎不含</li><li>高温防止食物腐败变质原理：杀灭微生物、破坏酶活性</li><li>总胆固醇高的可能膳食因素：饱和脂肪酸摄入过多、反式脂肪酸摄入过多、高糖饮食</li><li>食品放射性污染：以天然放射性核素为主，主要是低剂量长期内照射引起的随机性生物学效应<ul><li>主要表现：对免疫生殖系统损伤、致癌致畸致突变</li></ul></li><li>缺氧症状的食物中毒包括：木薯、苦井水、硝酸盐中毒。（神经中毒例如有机P农药、河豚鱼不会导致缺氧</li><li>食物中毒共同特点：发病爆发、潜伏期短、短时间内多人发病；有相似的临床表现（急性肠胃炎症状）；发病与食物有关；无传染性</li><li>辅酶形式参与能量代谢：B1、B2（FMN、FAD）、烟酸</li><li>营养标识：<ul><li>基本标识内容：能量、脂肪、Na含量和相当于Na的食盐量</li><li>可选标识内容：蛋白质、碳水、糖、维生素和矿物质</li><li>鼓励标识：NRV，成年每日能量需要量2000，食盐不超过5g（相当于Na不超过2000mg</li></ul></li><li>预包装营养标签强制标识：能量、蛋白质、脂肪、碳水、Na含量、NRV、氢化氧化油脂</li><li>问题目录记录问题：过去影响过、现在正在影响或将来还要影响人体健康的异常情况，可以是明确或不明确的诊断，可以是无法解释的症状、体征或实验室检查结果，或者社会、经济、心理、行为问题（如失业、丧偶等）</li><li>主要问题：慢性问题和长期未解决问题；暂时性问题：急性问题</li></ul><h2 id="二轮"><a href="#二轮" class="headerlink" title="二轮"></a>二轮</h2><h3 id="职业道德"><a href="#职业道德" class="headerlink" title="职业道德"></a>职业道德</h3><ul><li>公共营养师职业道德：遵纪守法、爱岗敬业、团结协作；诚实守信、忠于职守、钻研业务；认真负责、平等待人、服务于民；科学求实、精益求精、开拓创新<ul><li>不包括：学习文化</li><li>基本职能：调节职能，通过规范从业者行为、协调从业者内部关系，同时可规范本职业与社会对象之间的关系</li><li>作用：协调职业关系；促进行业发展；提高全社会道德水平</li></ul></li><li>公共营养师职业守则要求：职业品德、纪律、责任、义务、专业技术胜任能力及与同行、社会关系</li><li>职业是只从业人员为了获取主要生活来源而从事的社会学工作类别</li><li>集体主义做到：正确处理义利关系、局部与整体关系、处理职业关系</li><li>义无他；责任茶（差异性）都（独立性）强（强制性）；心内自时（内隐自育时代性）；纪一强特；荣阶多激；幸广阶层</li></ul><h3 id="医学基础"><a href="#医学基础" class="headerlink" title="医学基础"></a>医学基础</h3><ul><li>口腔进行机械性消化，伴随少量化学性消化。</li><li>食物进胃后暂时性储存，在此期间受到胃液的化学性消化和胃壁肌肉的机械性消化。胃主要吸收水和酒精</li><li>食糜进入小肠后，在小肠内停留时间较长，一般是3-8h，基本完成食物消化和吸收。食物吸收的<strong>主要部位是小肠上端的十二指肠和空肠</strong>。</li><li>大肠是消化管的末端，大肠没有重要的笑话内容，主要吸收水和盐分</li><li>胃壁内因子不足时，B12吸收不良，影响红细胞生成，造成巨幼红细胞贫血</li><li>免疫系统：免疫器官（中枢：胸腺和骨髓，外周：脾脏和分布全身脏器、皮肤、黏膜的淋巴和弥散性淋巴组织）、免疫细胞和免疫分子</li><li>正常血浆ph：7.35-7.45</li><li>胃酸可维持胃内PH值，使钙、Fe处于<strong>游离</strong>状态，便于吸收</li><li>肝是人体最大的腺体，而不是最大的消化道</li><li>胰液作用：中和胃酸，调节PH；消化三大产能营养素（通过胰蛋白酶、胰淀粉酶、胰脂肪酶和糜蛋白酶原）。不包括刺激胆汁分泌</li></ul><h3 id="营养学基础"><a href="#营养学基础" class="headerlink" title="营养学基础"></a>营养学基础</h3><ul><li>膳食纤维不能被人体消化吸收，寡糖的棉子糖和水苏糖由于缺乏对应的水解酶，因此他们不经消化吸收直接到大肠内，可被双歧杆菌利用</li><li>硒总量2-3g，肾中最高，肝脏次之，血液相对低一些，脂肪中含量最低</li><li>维A推荐量：男770ugRAE，女ug660RAE</li><li>维D：10g，维C100g</li><li>维D缺乏病（如佝偻病和骨软化症）常见原因：维D和钙磷的原发性缺乏和代谢异常；日光照射不足；维D和钙磷摄入不足或吸收利用障碍；其他（如肝肾疾病会影响维D的正常合成代谢</li><li>评价蛋白质营养价值指标：蛋白质含量、利用率（生物价、功效比、氨基酸评分）、消化率、氨基酸评分</li><li>氨基酸评分反映食物蛋白质氨基酸构成和利用率的指标，可以判断限制氨基酸</li><li>反映食物消化吸收后，被机体利用程度的指标：功效比、生物价、氨基酸评分</li><li>影响蛋白质消化率：酶、多酚类物质、蛋白质性质、蛋白质来源、膳食纤维</li><li>脂肪水解，胆汁将脂肪乳化，胰腺和小肠分泌的脂肪酶将甘油三酯水解为游离脂肪酸和甘油单酯。<ul><li>脂肪水解后的小分子（甘油、短中链脂肪酸）容易被小肠细胞吸收直接进入血液</li><li>甘油单酯和长链脂肪酸被吸收后先在小肠重新合成甘油三酯，并于蛋白质、磷脂和胆固醇形成乳糜微粒，通过淋巴系统进入血液。</li></ul></li><li>脂肪功能：共给能量；维持正常体温，保护脏器；增加饱腹感；提高膳食感官性状</li><li>膳食纤维功能：有利于食物消化；降低血清胆固醇；预防胆结石形成；维护结肠功能；防止能量过剩和肥胖；防止习惯性便秘，预防食道裂孔疝、痔疮；维持血糖平衡，防治糖尿病</li><li>I缺乏会导致甲状腺肿和少数克汀病，亚临床克汀病和儿童智力低下、，胎儿生长损伤（尤其是神经、肌肉、认知能力下降），胚胎期和围产期死亡率上升；</li><li>I过度会导致甲状腺肿。补碘过快容易发生甲亢</li><li>维B1来源：葵花子仁、花生、大豆粉、瘦猪肉；小麦粉、玉米、小米、大米等谷类；鱼类、蔬果含量少</li><li>维B2来源：动物性，尤其是内脏（肝肾心肌）；蛋类、奶类；大豆和各种绿叶菜</li><li>维D食物来源：脂肪含量高的海鱼、动物肝脏、蛋黄、奶油奶酪，鱼肝油</li><li>Zn来源：贝壳类海产品、红肉类、动物内脏；植物学含量低，精细粮食加工会导致大量锌丢失</li><li>Mg来源：绿色菜、糙粮、坚果；肉类、淀粉、牛奶中等</li><li>不溶性膳食纤维：纤维素、半纤维素、木质素</li><li>单糖：果糖、半乳糖、葡萄糖；双糖：蔗糖、乳糖、麦芽糖</li><li>血红铁素主要存在动物性食品种。非血红铁素主要存在植物和乳制品的铁盐中，吸收前，必须与结合的有机物分离，且必须转化为亚铁后才能被吸收</li><li>参考蛋白：鸡蛋蛋白、酪蛋白</li><li>硒是谷胱甘肽过氧化物酶、硫氧还蛋白还原酶和碘甲腺原氨酸脱碘酶的组成成分</li><li>孕妇容易出血巨幼红细胞贫血，主要是由于缺乏叶酸和B12</li><li>B1缺乏<ul><li>亚临床：疲惫乏力、烦躁不安、易激动、头痛、恶心、呕吐、食欲减退、胃肠功能紊乱、<strong>下肢倦怠、酸痛</strong>。随病情发展出现神经管或心血管或二者都有的症状</li><li>神经型：周围神经系统主要累及<strong>远端</strong>，下肢发病比上肢早，呈上升性、对称性，感觉早于运动障碍。病情加重患者烦躁不安、嗜睡，严重时发生昏迷惊厥。<strong>韦尼克脑病</strong>，多见于酗酒，呕吐、水平性或垂直性眼球震颤，跨域步态，共济失调，进行性精神衰退以致精神异常，最后发展昏迷直至死亡</li><li>心血管型：引起的心功能不全，以右心为主的左右心室衰竭，常见症状为<strong>水肿</strong>。以心肌病变为主要表现的急性爆发，称脚气冲心，表现为起病急骤，病人呼吸困难、烦躁不安、心率加快、心脏扩大、静脉压增高、肝肿大、肢端发绀呈袜套或手套样，可因心功能衰竭而死亡，多见于婴幼儿</li><li>婴幼儿脚气病：多发于数月婴儿，病情急，初期食欲不振、呕吐、兴奋、腹痛、便秘、水肿、心跳快、呼吸急促及困难</li><li>维B1在硫胺素焦磷酸激酶的作用下，与三磷酸腺苷（ATP）结合形成硫胺素焦磷酸（TPP）。TPP是维B1的活性形式，在体内构成α酮酸脱氧酶体系和转酮酶的辅酶</li><li>尿负荷试验：口服5mg B1</li><li>缺乏原因：摄入不足（米面加工细）；吸收利用障碍（胃肠道及肝胆疾病）；需要增多或消耗增加（发热、重体力活动）；抗硫胺素因子；慢性乙醇中毒；（无摄入绿色菜不足</li></ul></li><li>维B2缺乏判断标准：红细胞核黄素测定；核黄素尿负荷；尿核黄素测定；全血谷胱甘肽还原酶（特异性诊断方法）</li><li>糖耐量试验：水300ml，无水葡萄糖75g，</li><li>骨软化症常见症状：骨痛、肌无力（维D缺乏重要表现）、骨压痛、<strong>鸭步</strong>，胸痛、肋骨、骨盆及大关节处有明显压痛</li><li>佝偻病症状：<ul><li>神经精神：主要临床表现，多汗、夜惊、易激惹等；枕秃</li><li>骨骼：颅骨软化、方颅、十字头、出牙晚、牙齿排列不齐、牙釉质发育不良、胸部肋骨串珠，胸廓畸形、<strong>O&#x2F;X型腿</strong>，严重者骨折，手足镯</li><li>其他：发育不良、神情呆滞、条件反射建立缓慢且不巩固，能直立行走的时间晚；6月以下肌痉挛或手足抽粗，骨痛，骨变形，肺部感染，消化系统障碍</li></ul></li><li>植物蛋白质中，<strong>赖、蛋、苏、色</strong>氨酸含量低，因此用肉类搭配食用</li><li>造成营养素摄入不足常见&#x2F;主要原因：食物摄入不足<ul><li>原发性：食物短缺，供给不足；偏食；食物加工不合理</li><li>继发性：食欲不振、昏迷、精神失常或精神性厌食、口腔及鄂面手术后，食管癌和喷门癌等引起肠胃道梗阻的疾病；补给能量不满足</li></ul></li><li>伤口愈合不良：维C（促进胶原蛋白）、Zn（蛋白质合成和代谢），不包括维B1、Fe</li><li>Zn缺乏：生长发育迟缓、性成熟迟缓、食欲减退、味觉异常、异食癖、伤口不易愈合等；面色苍白、有明显贫血貌；口角溃烂、口角炎、萎缩性舌炎、舌面光滑发红；眼口肛门等周围，以及肢端、肘膝、前臂等有对称性糜烂、水疱等皮炎症状；皮肤干燥，过度角化，牛皮藓氧皮炎，表皮增生，角化不全，口腔溃疡；精神萎靡、嗜睡、欣快感或幻觉，严重者小脑功能受损表现躯干和肢体的共济失调。</li><li>孕妇缺乏维D：母体和婴儿的钙代谢紊乱，新生儿低钙血症，手足抽搐，婴儿牙釉质发育不良及母体骨质软化。（不包括低出生体重和胎儿宫内发育迟缓</li><li>膳食纤维作用：有利于食物消化，预防便秘；降低血清胆固醇（可溶性膳食纤维）；预防癌症；调节血糖，防止能量过剩和肥胖；预防胆石形成；阳离子交换作用</li><li>影响血糖生成指数最大的三个因素：碳水、蛋白、膳食纤维</li><li>高单不饱和脂肪酸：降低血清胆固醇和低密度脂蛋白胆固醇，升高血清高密度脂蛋白</li><li>多不饱和脂肪酸（n3、n6）：降低胆固醇和低密度脂蛋白，不会升高&#x2F;降低高密度脂蛋白</li><li>乳类碳水主要是乳糖，在肠道中被乳酸菌利用容易出现腹胀，不利于愈合；豆类有胀气因子，也不利于愈合。因此腹部手术早期不适合吃牛奶、豆浆、麦乳精</li><li>Mg缺乏情况：饥饿、蛋白质-能量营养不良及长期肠胃营养，胃肠道感染、肾病及慢性酒精中毒、长期全静脉营养等。不包括慢性肝炎、骨折</li><li>Cu过量：<ul><li>催化作用，维持正常造血功能，促进结缔组织形成，维护中枢神经的健康、促进黑色素形成、维护毛发正常结构、保护机体细胞免受超氧阴离子的损伤。对脂类和糖代谢有一定影响，<strong>缺Cu</strong>会导致动物血中<strong>胆固醇水平升高</strong>，<strong>Cu过量</strong>会导致<strong>脂质代谢紊乱</strong>。</li><li>对血糖调节有重要作用，缺Cu后葡萄糖耐量降低</li><li>维持正常造血功能：促进Fe吸收和转运，促进血红素和血红蛋白合成，缺乏会导致缺铁性贫血</li></ul></li><li>不利于微量元素吸收：植酸、草酸、碳酸、磷酸、膳食纤维</li><li>绿色菜中富含：β-胡萝卜素（维A）、C、K</li><li>参与能量代谢的维生素包括：维B1、B2、烟酸（烟酰胺）</li><li>贫血史判断方面：个人、体检结果、膳食、生化数据检查、家族史、月经史、生育史、既往（健康情况、疾病史、手术史等<ul><li>实验室检查：血红蛋白、总铁结合力、红细胞压积、血清铁、血清铁蛋白、血清运铁蛋白饱和度、红细胞游原卟啉等</li></ul></li><li>维A缺乏判断：血清视黄醇（0.7，0.35）、暗适应能力、生理盲点（扩大）、眼结膜印迹细胞学法、其他（皮肤症状-临床表现不是检测指标、呼吸道和消化道感染，不包括炎症（由于免疫能力下降</li><li>维持体内钙平衡：甲状旁素、降钙素、1，25-（OH）2D3（维D）</li><li>暗适应指：从亮处走到暗处看不清；在暗处需要长时间适应；对暗光敏感度差；黄昏时看不清；不包括黑夜看不见</li></ul><h3 id="食品营养和食品加工"><a href="#食品营养和食品加工" class="headerlink" title="食品营养和食品加工"></a>食品营养和食品加工</h3><ul><li>谷类蛋白中缺乏赖氨酸，因此生物价低于动物性蛋白质，并不缺乏亮氨酸、异亮氨酸<ul><li>含有谷蛋白和醇溶蛋白，白蛋白、球蛋白和酪蛋白主要在动物性食物</li></ul></li><li>维生素大部分集中在谷胚（胚芽）和糊粉层<ul><li>胚芽富含：脂肪、蛋白质、矿物质和维生素，不包括能量</li></ul></li><li>人体可以从谷类获取大量的：淀粉、B族维生素、能量。不包括脂肪和钙</li><li>辐照保藏法：利用放射性核素或低能加速器放出射线对食品进行辐照处理。，杀灭微生物并影响产内的生物化学过程，抑制发芽（土豆、洋葱等食品原料）、延缓成长和成熟（蘑菇和水果）</li><li>维B12主要来源：肉类、动物内脏、贝壳类、蛋类；乳及乳制品，植物中几乎不含。大豆发酵或者发芽后B12含量提高</li><li>物理保藏：提高控制环境温度、气体或利用电磁波等物理手段来实现安全和长期保藏。包括冷冻（冷冻、冷藏、冻结）、辐照和高压</li><li>大豆抗营养因子：蛋白酶抑制剂（彻底加热可以去除），植酸、红细胞凝集素、胀气因子</li><li>豆类是蛋白质良好来源：蛋白质含量高，属于完全蛋白，但是蛋氨酸含量少，利用率比肉类低。<ul><li>豆类胡萝卜素和维E高，但是B1含量低</li><li>Ca、K、Na含量高，其他微量元素略低于谷类</li><li>蛋白质含量高，脂肪中等，碳水多为不消化成分（膳食纤维丰富 棉子糖和水苏糖）、丰富B族维生素</li></ul></li><li>植物油比动物油好原因：不饱和脂肪酸多，吸收率高。不包括促进脂溶性维生素吸收和不易肥胖</li><li>Fe的来源：<ul><li>良好来源：动物肝脏、动物血、畜禽肉类、鱼类</li><li>鸡肉血红蛋白和肌红蛋白少，Fe来源少</li><li>植物性和蛋黄吸收率低（由于卵黄磷脂，鸡蛋含量高</li><li>牛奶是贫铁食物</li></ul></li><li>晒干的冬菇的Fe、Zn、硒含量是其他食物的数倍</li><li>营养强化剂包括：维生素、矿物质、氨基酸等。（茶多酚不算</li><li>生物加工技术：酶、发酵、基因和细胞工程</li><li>禽肉营养特点：<ul><li>脂肪少、熔点低，以饱和脂肪酸为主，主要是甘油三酯，含有少量卵磷脂、胆固醇和游离脂肪酸</li><li>动物内脏胆固醇较高</li><li>含氮浸出物多，蛋白质氨基酸组成接近人体</li><li>易于消化吸收</li></ul></li><li>肉类在冷冻过程中会发生：蛋白质冷冻变性，变形后的肌肉持水力下降，质地变硬，口感变差，颜色发生变化；水解酸败、脂肪氧化；</li><li>自溶和后熟是肉类从新鲜到腐败变质发生（僵直、后熟-可以杀菌口蹄疫、自溶-蛋白质和脂肪、腐败）的过程</li></ul><h3 id="膳食营养指导-1"><a href="#膳食营养指导-1" class="headerlink" title="膳食营养指导"></a>膳食营养指导</h3><ul><li>计划膳食是以<strong>DRIs</strong>作为营养状况适宜的<strong>目标</strong></li><li>第一个膳食指南是1989年发布的</li><li>中国居民膳食指南核心思想：<strong>平衡膳食</strong>与<strong>合理营养</strong>以达到<strong>促进健康</strong>的<strong>目的</strong></li><li>食物粗细结合：主食粗细搭配，注意增加全谷物和杂豆类食物。不包括多吃含粗纤维的食物、不包括多吃一些含水量小的食物</li><li>2022版《中国居民膳食指南》包括<strong>8</strong>条<ul><li>食物多样，合理搭配</li><li>吃动平衡，健康体重</li><li>多吃蔬菜、奶类、全谷、大豆</li><li>适量鱼禽肉蛋瘦肉</li><li>少油少盐，控糖限酒<ul><li>新鲜食材，替代法；合理运用烹饪方法；总量控制；注意隐形盐</li></ul></li><li>规律进餐，足量喝水</li><li>会烹会选，会看标签</li><li>公筷分餐，杜绝浪费</li></ul></li><li>平衡膳食宝塔一共有5层，建议的食物摄入量是指食物可食部的生重</li><li>BMI：<ul><li>WHO：消瘦 - 18.5 - 正常 - 24.9 - 超重 - 29.9 - 肥胖</li><li>亚洲：消瘦 - 18.5 - 正常 - 22.9 - 超重 - 24.9 - 肥胖</li><li>老年人适宜BMI：20 - 26.9</li></ul></li><li>三餐分配合理：早餐20-35%，午餐30-40%，晚餐30-35%，依据职业劳动强度和生活习惯进行适当调整。并无规定零食能量占比</li><li>蔬菜水果和薯类主要目的是供给：淀粉、膳食纤维、维生素和矿物质</li><li>果汁不能替代鲜果</li><li>乳糖不耐可以喝酸奶、吃奶酪、<strong>喝奶时与固体食物搭配</strong>、餐后1-2h喝奶、少量多次喝奶</li></ul><h3 id="人群营养-1"><a href="#人群营养-1" class="headerlink" title="人群营养"></a>人群营养</h3><ul><li>人的一生可以分为7个阶段：婴儿、幼儿（1-3）、学龄前（3-6）、学龄期（6-12）、青少年、成人、老人</li><li>叶酸摄入量0.6，来源肝脏、豆类、绿菜</li><li>乳母前6月每天泌乳750ml</li><li>10-12月婴儿母乳量需要600，占全天总能量的1&#x2F;2</li><li>学龄前期蛋白质30-35</li><li>饮水量：学龄前期600-800，7-10岁1000ml，14-17岁1200-1400ml，成年人1500-1700ml</li><li>9-17岁钙摄入量1000mg</li><li>0-6月婴儿，脂肪摄入48%，7-12月40%</li><li>幼儿基础代谢占60%，成年人基础代谢占45-70%</li><li>前半岁体重&#x3D;出生体重+月龄*0.7(kg)</li><li>后半岁体重&#x3D;6+月龄*0.25</li><li>学龄前体重&#x3D;年龄*2+7&#x2F;8，体重年增长2kg</li><li>学龄前身高&#x3D;年龄*7+70，身长年均增加5cm</li><li>3月内，体重增加600-1000g，3月是出生的2倍，4-6月增加500-600g，7-12月增加300g。1岁达到或超过3倍，2岁达到12kg，出生的4倍</li><li>足月新生儿身长50cm，头围30cm，身长1岁增长50%，达到<strong>75cm</strong></li><li>人乳脂肪种类＞牛乳，总含量＜牛乳；人乳蛋白质＜牛乳</li><li>婴儿配方奶100ml含有60-70kcal（0-6月）、60-75（7-12月</li><li>新生儿胃容量在25-50ml</li><li>学龄前期儿童每周摄入一次海产品，膳食宝塔水产每周最少2次</li><li>婴儿最佳食物是母乳</li><li>孕期增重：孕前超过120%标准：7-8kg；孕前正常：12kg；孕前低于标准：14-15kg；不计划哺乳：10kg</li><li>老年人对蛋白质的摄入应保证质优量适宜，主要原因是因为分解代谢增加，尤其是对蛋白质的分解大于合成代谢<ul><li>蛋白质代谢：蛋白质丢失增加，蛋白质合成减少，易负氮平衡，机体老化，分解代谢增加，摄入不足</li></ul></li><li>50岁以上的女性首要死因是<strong>冠心病</strong></li><li>婴幼儿人群膳食指南：<ul><li>0-6月</li><li>母乳是最理想的食物，坚持6月内处母乳喂养。不能母乳喂养时，优先选用婴儿配方配方食品喂养</li><li>出生后1h内开奶</li><li>回应式喂养，建立生活习惯</li><li>适当补充维D。母乳喂养不需要补钙</li><li>咨询医生或专业人员判断是否不要母乳</li><li>定期监测婴儿体格指标</li><li>初乳富含营养和免疫活性物质，有助于婴儿肠道成熟和功能发展，并提供免疫保护</li><li>7-24月</li><li>继续母乳喂养，6月后添加辅食，从富铁的泥糊状食物开始（<strong>不能是鱼泥</strong></li><li>引入多样化食物，重视动物性食物的添加</li><li>尽量少添加糖盐，油脂适当，保持食物原味</li><li>回应式喂养，鼓励但不强迫</li><li>注重饮食卫生和进食安全</li><li>定期监测体格</li></ul></li><li>婴儿配方奶在脂肪方面：脱去<strong>全部或部分</strong>奶油，代之以富含<strong>多不饱和脂肪酸</strong>的<strong>植物油</strong>，调配<strong>脂肪酸比例和构成</strong>，添加<strong>长链</strong>多不饱和脂肪酸</li><li>低体重出生儿会提高成年期疾病发生率：高血压、糖耐量异常、高胰岛素血症和胰岛素抵抗；冠心病</li><li>叶酸缺乏会导致胎儿神经管畸形、孕妇巨幼红细胞贫血、胎盘早剥，同型半胱氨酸血症。不会导致低体重出生儿，低钙血症</li><li>孕妇对铁的需要主要用于：红细胞增加，胎盘储留，胎儿体内的储留，脐带的储留，基本的铁损失。不包括增强胎儿&#x2F;孕妇免疫力</li><li>婴儿必需但是容易缺乏的矿物质主要有：钙、铁、锌、碘，不包括铜</li><li>预防婴幼儿维A缺乏：每周1次动物肝脏，每天蛋黄、牛奶或者医生指导下鱼肝油，多吃黄绿色和深绿色蔬菜。不包括每天进食新鲜<strong>水果</strong></li><li>对于老年人来说，预防高同型半胱氨酸血症的营养素：B6、B12、叶酸</li><li>新生儿维K缺乏：母乳含量低，新生儿肠胃功能不全，大量使用抗生素。不包括新生儿需要量大、初乳含有抑制维K吸收</li><li>脂溶性维生素可以进入乳汁，但是维D无法进入，维K含量少</li><li>乳汁中的脂肪酸与乳母膳食脂肪酸的摄入密切相关，膳食蛋白质生物学价值越高，转变成乳汁蛋白的效率就越高</li><li>孕期的脂肪储备可为泌乳提供1&#x2F;3的能量</li><li>学龄前期发生缺铁性贫血原因可能是摄入少、需要大、内源性可利用铁少。不包括吸收率低</li><li>回应式喂养包括了新生儿的按需喂养和日后逐渐形成的规律喂养方式</li><li>婴儿饥饿是按需喂养的基础，哭闹是最晚表现</li><li>营养素养包括：食物营养相关知识；食物营养相关理念；选择和制作食物的技能，促进和维护自身健康的能力。不包括父母言传身教</li></ul><h3 id="公共基础知识-1"><a href="#公共基础知识-1" class="headerlink" title="公共基础知识"></a>公共基础知识</h3><ul><li>卫生事业发展的战略措施：<strong>健康教育和健康促进</strong>。无卫生教育、医疗改革、全面健身计划</li><li>运用多且比较成熟的行为理论包括：知信行理论，健康信念，计划行为</li><li>依据知信行健康相关行为改变模式，成功的最大动力是<strong>信念与态度</strong>（第二步中的，不是第一步</li><li>知信行理论：接受知识，确立信念，改变行为</li><li>感知信息，认同信息，产生行为意愿理论：健康信念理论。其强调感知在决策中的重要性</li><li>传播过程要素（5）：传播者，信息，传播媒介，受传者，反馈</li><li>社区营养管理工作（5步）：现状调查、确定目标、制定计划、实行计划、评价</li><li>人际交流反馈包括：语言、体语、书面反馈，不包括模糊性、网络反馈</li><li>基本交流模式包括：单向、双向、大众、参与式交流，不包括教学</li><li>营养与健康资料收集途径：现有的统计资料（政府、卫生服务机构、科研部门及其他）；访谈；专题讨论；调查问卷。不包括讲座</li><li>对教育对象进行营养教育的<strong>最佳</strong>宣传途径包括：个体、面对面、小册子、讲课。不包括大众传播（宣传途径包括</li><li>宣传途径包括个体、大众、面对面、讲课等，不适合电影的宣传方式</li><li>大众传播媒介：报纸、杂志、广播、电视，不包括健康用品</li><li>营养教育目标：改善人民营养状况</li><li>营养教育特点：有计划、有组织、有系统和有评价</li><li>面对面调查特点：灵活，回收率高，准确性高，对文化要求不高</li><li>自填式调查特点：节省时间、人力物力，回收率低，准确性低</li><li>信函和电话调查特点：覆盖面广，回收率低</li><li>开展社区营养工作基本场所：社区，基本细胞：家庭</li><li>制定营养改善项目总计划时，针对项目选定的<strong>高危人群</strong>产生效果</li><li>营养改善措施投入项目（评价营养改善措施的投入方面）：开展项目所投入的资源（经费、食物、材料、交通等）和服务方劳动力、后勤等<ul><li>增加食物生产：属于产出</li><li>营养改善效果：属于效果</li><li>经济效益：属于效益</li></ul></li><li><strong>直接</strong>的人际传播<strong>不需要</strong>任何非自然的媒介</li><li>营养教育对象包括：个体（<strong>公共营养和临床营养工作的对象</strong>），政府（领导和工作人员等），组织机构（学校、部队、食品企业等），社区（餐馆、食品店、社区保健扽分），不包括农民工、住院病人</li><li>营养教育目的：提高各类人群对营养与健康的认识，消除或减少不利于健康的膳食营养因素，改善营养状况，预防营养性疾病的发生，提高人们的健康水平和生活质量。</li><li>营养教育的主要工作领域包括：有计划地对餐饮业、医疗卫生、疾病控制等部门的有关人员进行营养知识培训；营养知识纳入中小学生的教育内容；纳入初级卫生保健服务体系；利用宣传媒体开展营养教育活动。不包括对在校学生进行膳食干预和营养知识传播</li><li>社区营养管理主要工作内容：了解社区人群营养和健康状况及其影响因素；社区营养改善。不包括动员社区人群积极参与营养工作，制定营养教育计划<ul><li>社区营养改善：如改善卫生条件，推行食品强化和补充营养素防治营养缺乏病，推广家庭养殖业，调整膳食结构预防慢性病。其中进行<strong>营养教育和咨询服务</strong>是主要且经常的工作</li></ul></li><li>社区营养研究内容包括：食物生产和供给、膳食结构、饮食行为、社会经济、营养政策、营养教育及营养性疾病预防等方面的工作<ul><li>目的：通过开展营养调查、营养干预、监测、教育等社区营养工作，提高社区人群的营养知识水平，改善膳食结构，增加健康，提高生活质量</li></ul></li><li>对所存在的营养问题进行综合分析时，需要弄清：人群分布、存在何种营养性疾病、营养学疾病的程度和产生原因，营养不良、慢性病的主要膳食原因。不包括疾病产生的影响</li><li>社区居民健康资料包括：人口调查资料、膳食调查资料、健康资料、经济状况、文化教育程度、生活方式、供水情况。包括疾病发生率、死亡率、死亡原因</li><li>经济不发达地区可能出现：高血压、冠心病、糖尿病、贫血、维A缺乏、佝偻病。不会出现动脉硬化</li></ul><h3 id="食品卫生基础-1"><a href="#食品卫生基础-1" class="headerlink" title="食品卫生基础"></a>食品卫生基础</h3><ul><li>肝脏毒：黄曲霉</li><li>神经毒：河豚毒素（河豚酸、河豚卵巢毒素、河豚肝脏毒素），3-硝基丙酸（损害中枢系统，肉毒梭菌毒</li><li>原浆毒：苦杏仁</li><li>免疫抑制、致畸：致呕毒素</li><li>单端孢霉烯化合物毒性作用的共同特点：较强细胞毒性，免疫抑制，致畸，部分有较弱的致癌作用</li><li>杂醇油是酒类物质容易存在的物质。黄曲霉由于在油料作物里面会存在，因此对于食用油脂来说也可能存在黄曲霉</li><li>影响食品腐败变质条件：食品本身的组成和性质（酶类等）；环境（温度、湿度、紫外线、氧、ph等）；微生物。不包括B族维生素</li><li>食品腐败变质的控制方法：低温；高温灭菌；脱水干燥；提高渗透压（盐糖腌渍）；提高氢离子浓度（PH4.5以下）；化学防腐剂；辐照</li><li>亚硝酸盐在腌制过久的蔬菜含量<strong>不高</strong></li><li>硝铵在酸性条件下不稳定</li><li>阻断亚硝胺合成：维A、C、E、大蒜及大蒜素、茶叶、沙棘果汁</li><li>亚硝胺含量不高，但是其前体物质亚硝酸盐剂仲胺等广泛分布<ul><li>施用硝酸盐化肥会使得蔬菜含有较多的硝酸盐</li><li>蔬菜腌制，时间、盐分少，腐败菌会将硝酸盐还原为亚硝酸盐</li><li>食物烹调、烟熏、制罐过程中使仲胺含量增加</li><li>食物霉变后，仲胺含量增加</li><li>肉、鱼类加工时，用硝酸盐做防腐剂、发色剂，硝基还原酶可将硝酸盐还原为亚硝酸盐</li><li>仲胺和亚硝酸盐在一定条件下，在体内、体外合成亚硝胺</li><li>加工食品，包括熏鱼、腌肉、酱油、酸渍菜、发酵食品、啤酒及油煎肉都含有N-亚硝基化合物</li><li>蔬果在生长时碰到干旱、不恰当环境储存、腌制时间盐分不够、微生物污染、硝酸盐化肥</li></ul></li><li>N-亚硝基化合物存在：腌肉、熏鱼、酱菜、发酵食品、<strong>啤酒</strong>以及油煎肉等</li><li>N-亚硝基化合物是通过<strong>呼吸道、消化道、皮下或肌肉注射</strong>或皮肤接触诱发肿瘤。常见肝癌、食管癌及胃癌</li><li><strong>变形杆菌</strong>：<strong>急性腹泻</strong>、呕吐恶心、头痛发热、体温<strong>38-39°</strong>，以<strong>动物性</strong>食物为主，其次为<strong>豆制品和凉拌菜</strong></li><li>N-亚硝基化合物前体物质：N-亚硝化剂和可亚硝化的含氮有机化合物。<ul><li>N-亚硝化剂：硝酸盐、亚硝酸盐剂其他氮氧化物，卤素离子或硫氰酸盐产生的复合物</li><li>可亚硝化的有机含氮化合物主要涉及胺、多肽、氨基酸、脲、脲烷、呱啶、酰胺等</li></ul></li><li>葡萄球菌：胃肠道症状，恶心呕吐，腹泻，腹痛（水样便），呕吐喷射状。主为乳类及其制品，熟肉制品，淀粉类</li><li>黄曲霉(AFB1)：强碱环境被破坏，紫外线下产生荧光，不溶于水，耐热，280°是裂变，毒性被破坏</li><li>油脂酸败卫生学指标：酸价；过氧化值；羟基化合物</li><li>食物腐败化学指标：挥发性碱基总氮；二甲胺与三甲胺；K值</li><li>鱼类腐败的化学指标：K值、挥发性碱基总氮</li><li>真菌毒素：赤酶病麦；霉变甘蔗</li><li>细菌性：副溶血弧菌；</li><li>化学性：青皮红肉鱼的组胺中毒</li><li>禁止食用有机氯农药原因：半衰期长、蓄积性强、稳定性强、脂溶性强、致癌、致畸、致突变</li><li>烧烤后，食物中多环芳烃，杂环胺、亚硝胺增加；维生素减少；蛋白质、脂肪被破坏，但<strong>脂肪不一定减少</strong></li><li>粮豆类主要食品安全：霉菌、农药残留、仓储害虫、污水、无机夹杂物和有毒种子，掺伪。步包括寄生虫（动物</li><li>蛋白质和维C对金属毒物的吸收有较大影响；Fe影响铅，Zn影响镉</li><li>油脂中天然有害物质包括：棉酚、芥子油苷、芥酸</li><li>鲜蛋在1-5°湿度85-90条件下储存</li></ul><h3 id="膳食调查和评价"><a href="#膳食调查和评价" class="headerlink" title="膳食调查和评价"></a>膳食调查和评价</h3><ul><li>传统的24h调查<strong>需要</strong>统计调味品，单纯的记账法步才<strong>不需要</strong>统计调味品</li><li>24h回顾法是通过<strong>访谈</strong>的形式收集膳食信息的一种<strong>回顾性</strong>膳食调查方法，可以<strong>评价群体和个体</strong></li><li>24h回顾法可以用大型和小型的研究课题，在实际工作中，一般选用与膳食史结合的方法</li><li>膳食史的特点：可以进行具有代表性的膳食调查，费用低、人力少、样本量大、不影响调查对象的膳食习惯的进餐方式<ul><li>属于开放、抽象、大样本量的方法</li><li>可以调查慢性病</li></ul></li><li>开放性：膳食史和24h</li><li>称重记账法操作不算发杂，费用不高，比单纯记账法准确，较少依赖记账人员记忆，可以调查较长时间、不同季节的膳食</li><li>膳食调查的<strong>目的</strong>：了解一定时期内人群<strong>膳食摄入情况</strong>及人们的<strong>膳食结构和饮食习惯</strong>，以此来评定正常营养需要得到的满足和程度<ul><li>并不是了解体内营养素水平，早期发现营养不足和缺乏。也不是了解有无营养缺乏症。也不是了解机体营养状况</li></ul></li><li>标准人平均每日某营养素摄入量&#x3D;平均每人每日某营养素摄入量&#x2F;混合系数</li><li>标准人日&#x3D;标准人系数*人日数</li><li>数据库的特点：集中独立共享，一致安全冗余（共控冗，一安独<ul><li>一致性和安全性：安全控制、完整控制、并发控制、故障发现与恢复（安完并故定</li><li>集中控制</li><li>数据独立</li><li>数据共享</li><li>减少冗余</li></ul></li><li>数据库作用：便于档案管理和为进一步膳食调查数据分析奠定基础</li><li>概念数据层所涉及的是数据库所有对象的逻辑情况，而不是物理情况，提出了每个数据的逻辑定义即数据间的逻辑关系</li><li>逻辑数据层：表示一个或一些特定用户使用的数据集合，即逻辑记录的集合，未提出每个数据的逻辑定义即数据间的逻辑关系</li><li>人群膳食调查报告主体内容包括：居民膳食摄入状况、居民能力和主要营养素摄入状况；居民能量、蛋白质、脂肪来源；居民膳食结构状况与膳食指南的比较。不包括提出建议</li><li>膳食调查报告计算包括：蛋白质、脂肪、能量食物来源，三大营养素供能比；食物、营养素摄入量；初步结果分析与记录，储存计算结果</li><li>膳食调查常用方法：称重法、记账法、询问法（膳食史、24回顾）、化学分析、食物频数法</li><li>家庭记账法调查表的设计不包括家庭成员的就餐地点<ul><li>食物量登记表：食物编码、名称、结存量。。。。</li><li>每人每日用餐登记表，家庭成员人数、基本情况、餐次</li></ul></li></ul><h3 id="人体营养状况评定"><a href="#人体营养状况评定" class="headerlink" title="人体营养状况评定"></a>人体营养状况评定</h3><ul><li>粪便标本应该尽快送检，尤其是痢疾阿米巴原虫或滋养体的时间应在10min内</li><li>粪便收集：干净的广口容器；250ml纸盒带有蜡纸外包装和紧密封口；有盖的塑料容器；玻璃容器；棉签和竹签辅助</li><li>培养基：0.05硫酸-氮平衡，冷冻-矿物质，固定保存寄生虫，粪便冷藏，培养基致病菌</li><li>出生时胸围＜头围，1-2cm</li><li>皮褶厚度不会反映机体营养，可以间接评价人体肥胖与否。会因部位、年龄、性别有差异</li><li>尿液放置一段时间后，会发生：细胞溶解、蛋白质变性、细菌繁殖。不包括尿液变质</li></ul><h3 id="营养咨询与教育-1"><a href="#营养咨询与教育-1" class="headerlink" title="营养咨询与教育"></a>营养咨询与教育</h3><ul><li>静态能量消耗0.01kcal&#x2F;kg</li><li>食品60°已经算热处理，但是100°是常用的热处理温度</li><li>营养教育的基本方法：讲座、小组活动、咨询、个别劝导、培训</li><li>含有可溶性膳食纤维：燕麦、大麦、水果、某些豆类</li><li>铅中毒：造血、神经、肾脏等损失很明显。慢性毒性中毒</li><li>甲基汞毒性表现为：急性、慢性、致畸、胚胎，主要神经损伤</li><li>细菌性食物中毒的预防措施包括：防止细菌污染；高温杀灭；控制繁殖。（不包括免疫</li><li>粮谷和豆类主要问题：霉变、生虫（18-21°，65%湿度，10°以下减少）、农药、污水、有毒污染物、掺伪、混杂其他有害物（无机夹杂物和有毒种子）</li><li>塑料、合成橡胶、化纤等食品容器或包装材料安全性主要来源：未聚合的游离单体和聚合不充分的地聚合物；添加剂和加工助剂残留；低分子降解产物。不包括有害金属、微生物污染</li><li>影响食品被容器和包装材料污染的因素包括：温度、时间、食品性质、容器和包装材料的理化性质和完整性</li><li>日本膳食模式：动植物比例适当；膳食能量满足需要；宏量营养素供能比合理。不包括富含植物性食物，橄榄油为主</li></ul><h3 id="膳食指导与评价"><a href="#膳食指导与评价" class="headerlink" title="膳食指导与评价"></a>膳食指导与评价</h3><ul><li>钙：3岁 500mg，7-8岁800mg，9-17岁1000mg</li><li>水果和瓜果类的蔬菜蛋白质含量在0.2-1.3g&#x2F;100g。蔬果的在0.1-3.7之间，叶菜和根茎类1.3-2g，鲜蘑菇、液态奶在2.5-3g</li><li>3-6岁儿童至少共给<strong>15-20g大豆</strong>，提供月<strong>6-10g</strong>优质蛋白</li><li>4-5岁的儿童每日蔬菜摄入量在150-300g</li><li>中小学生午餐钙的提供量不低于400mg</li><li>碘的UL：7-11岁250ug，12-14岁300ug，15-17岁500ug</li><li>青少年钙储备200mg&#x2F;d，生长发育占的能量20-30%</li><li>学龄前期儿童是从奶及奶制品为主食转向谷类为主的过渡。应摄入复杂性碳水的谷物为主</li><li>饱和脂肪酸：总脂肪摄入≤1&#x2F;3</li><li>儿童青少年的脂肪的摄入：<strong>不强调限制</strong></li><li>儿童的食谱中，蛋白质和脂肪经常过量</li><li>烹调过程中，食物总质量变化：重量保留因子（WRF）&#x3D; 烹调后重量&#x2F;烹调前重量*100%</li><li>烹调过程中，营养素含量变化：营养素损失率&#x2F;营养素保留因子（VRF）<ul><li>表观保留率（AR）&#x3D; 烹调后某维生素含量（干重）&#x2F; 食物原料中维生素含量（干重）* 100%</li><li>真实保留率（TR）&#x3D; [ 烹调后维生素含量 * 烹调后食物重量] &#x2F; [ 烹调前维生素含量 * 烹调前食物重量 ] * 100%</li></ul></li><li>胆固醇是脂类的一种，而不是脂肪的一种</li><li>脂肪高的可能胆固醇也高，坚果脂肪高但没有胆固醇（只有动物性有</li><li>农村儿童容易出现：由于植物性食物多，动物性食物少，因此容易缺乏缺铁性贫血、维A缺乏、Zn缺乏。不易发生肥胖、维B缺乏（豆类、谷类</li><li>Ca的良好来源：奶及奶制品、带骨吃的小鱼虾、坚果、绿色菜、豆类、海带、芝麻酱</li><li>11-14岁男性比成年轻体力需要更多的：钙、铁、蛋白质、能量。不包括锌</li><li>食谱营养评价的目的：<ul><li>评价能否满足营养需要</li><li>发现某些营养素的缺乏</li><li>调整膳食</li><li>不包括分析食谱的食物来源(评价项)、与其他食谱进行比较</li></ul></li><li>进行食谱营养评价时，依据食谱提供能量和各种营养素的含量，进行餐次比分析、能量来源分析、食物来源分析等</li></ul><h3 id="食品营养评价-1"><a href="#食品营养评价-1" class="headerlink" title="食品营养评价"></a>食品营养评价</h3><ul><li>高筋小麦粉≥12.2%，低筋≤10%</li><li>牛奶乳糖在4.5-5.5，蛋白质和脂肪在2.5-3.5，碳水4.5-5.5，维B2 0.1-0.2，钙110mg</li><li>能量&#x3D;4 * 蛋白质 + 4 * 碳水 + 9 * 脂肪 + 7 * 酒精 + 3 * 有机酸 + 2 * 膳食纤维</li><li>指定数位<ul><li>指定修约间隔为n-1（n为正整数），或将修约间隔制定到n位小数</li><li>制定修约间隔为1，或指明将修约间隔修约到个位数</li><li>制定修约间隔为10n，或将数值修约到10n位数位（n为正整数），或指明将数值修约到十、百、千等</li></ul></li><li>t0.05(u)表示有t界值查到自由度为u，概率界限为0.05的t值</li><li>自由度n&#x3D;样品个数n-1</li><li>减少能量声称：与同类减少25%</li><li>低能食品：液体≤80，固体≤170</li><li>低脂肪：液体≤1.5，固体≤3</li><li>营养成分的功能声称仅适用于具有<strong>NRV值的营养成分</strong>的成分</li><li>某营养素NRV&#x3D;（食品中某营养素含量&#x2F;该营养素的NRV）* 100%</li><li>GI进食50g葡萄糖，糖耐量75g葡萄糖</li><li>GI是进食后2h内血糖波动幅度</li><li>降低GI：胶体、β-葡萄糖、脂肪、蛋白质</li><li>食物营养价值包括：营养素种类、数量和比例、是否易于被人体消化吸收利用。不包括含量的高低和营养特性</li><li>食品产品分析包括：感官分析和评价、卫生学检验（微生物和污染物）、营养成分分析、功效成分分析、添加剂分析等</li><li>食品营养分析包括：感官分析和评价、营养成分分析</li><li>食品营养标签规定的核心营养成分：能量、蛋白质、脂肪、碳水、Na含量</li><li>食物中蛋白质含量确定：总氮量 * 氮折算系数；氨基酸总和</li><li>粗脂肪：食品中一大类不溶于水而溶于有机溶剂的化合物总称，包括甘油三酯、磷脂、固醇、色素等。不包括灰分</li><li>营养声称包括含量声称、比较声称。不包括来源声称、属性声称、功能声称</li><li>评价蛋白质利用率：蛋白质功效比、蛋白质净利用率、蛋白石生物价、相对蛋白质值、净蛋白质比值、氮平衡指数</li><li>蛋白质分类<ul><li>化学结构分：单纯、结合</li><li>形状分：纤维、球状</li><li>完全、半完全、不完全</li></ul></li><li>n3包括：α-亚麻酸、十八碳四烯酸、二十碳四烯酸、二十碳五烯酸（EPA）、二十二碳六烯酸（DHA）、</li><li>n6包括：亚油酸、γ-亚麻酸、二十碳三烯酸、花生四烯酸（AA）、二十二碳四烯酸、二十二碳五烯酸</li><li>不饱和脂肪酸和短链脂肪越多，越容易消化</li><li>脂肪酸比例适宜包括：饱和脂肪酸、单不饱和、多不饱和脂肪酸比例（一定是三个一起）；n3 n6多不饱和脂肪酸比例</li><li>录像带演示的缺点包括：制作成本高、使用受限、文字资料少、艺术性较强，需要专业人员制作。不包括真实性差</li></ul><h3 id="社区营养管理与干预-1"><a href="#社区营养管理与干预-1" class="headerlink" title="社区营养管理与干预"></a>社区营养管理与干预</h3><ul><li>居民营养健康信息调查表编制的准备工作：确定主题；确定变量；探索性工作</li><li>计数资料也叫分类变量资料</li><li>计量资料是观察单位个数所得到的资料，单位为有序变量，用定量方法测定某项指标数值</li><li>调查具体方法：实验法、访谈法、专题小组讨论法、自填问卷法</li><li>健康数据收集方法：<ul><li>现存资料（大量信息</li><li>经常性工作记录（规律</li><li>社区调查（社区人群的健康状况及社会因素。。。特定区域的居民为调查对象</li><li>健康筛查（确定受检者疾病、缺点及健康等。。。。</li></ul></li><li>资料收集方法：二手资料、实验法、访问法</li><li>档案存放：24-24°，25-60%湿度</li><li>营养干预实验包括：随机对照；类实验</li><li>营养干预类实验原因：人群无法随机分配；实验过程未设置对照组；不能开展平行随机对照实验</li><li>项目评价贯穿于干预的始终，通过评价检查干预活动的进展情况和效果，进行信息反馈，以及及时调整目标，达到预期目标</li><li>个人健康档案包括：以问题为中心和以预防为导向<ul><li>以问题为中心：基本资料、问题目录、问题描述、病情流程表</li><li>以预防为导向：运用格式化的健康体检表针对不同年龄、性别而进行的周期性的健康检查的结果记录</li><li>基本资料：人口学；健康行为；生物学；临床指标</li></ul></li><li>健康状况信息：个人疾病史、家族史、近期体检及生化指标</li><li>营养干预策略：政策干预；营养教育；行为干预；食物营养干预；控油限盐干预</li><li>安全运动条件：遵守自己步调；一开始不要做剧烈运动；适宜的运动服装；炎热或苦寒避免运动；水分补给充分；注意运动负荷；营养和睡眠充分；身体不适要休息。不包括可以长时间进行室内运动</li><li>营养强化是营养干预、营养教育&#x2F;宣教、预防全名某些营养缺乏病的措施之一</li><li>人体每日1200ml饮水，300ml内生水，1000ml食物水。</li><li>食物多样指的是谷类及薯类、动物类、大豆及其制品、蔬果和纯热能，不包括奶类</li><li>营养强化剂是针对全民普遍存在的某些特定营养问题，并<strong>不是针对特定人群的</strong></li><li>强化食物载体标准：食物摄入量均衡；不因强化影响感官和稳定性、品质；人群消费类变异系数小；消费覆盖率高；</li><li>营养强化剂常为氨基酸、维生素、矿物质。保健食品常为蛋白质、脂类、矿物质和维生素、其他活性成分（益生菌等</li><li>营养补充剂包括维生素和矿物质等。不提供能量的目的，作用是补充膳食不足，预防营养缺乏和降低疾病风险</li><li>知信行中，知信都是行的基础，信念和态度是行的动力</li></ul><h3 id="模拟-1"><a href="#模拟-1" class="headerlink" title="模拟"></a>模拟</h3><ul><li>2022年规定成年男性喝水量1700ml，女性1500ml</li><li>4-5岁儿童蛋白质：8-20%，6岁10-20%</li><li>3岁脂肪48%，4岁20-30%</li><li>Ca摄入量：3-6岁 500mg，7-8岁800mg，9-17岁1000mg，成年人800mg，孕晚期也是800</li><li>乳母能量摄入很低时，泌乳量降低40-50%</li><li>能量：孕中期+250，孕晚期+400</li><li>蛋白质：孕晚期+30，乳母+25</li><li>维A：UL：3000ugRAE&#x2F;d</li><li>1IU维A&#x3D;0.3ug视黄醇(当量)；1ug视黄醇当量&#x3D;1ug视黄醇&#x3D;6ugβ-胡萝卜素&#x3D;1ug全反式视黄醇&#x3D;2ug溶于油剂的纯品全反式β-胡萝卜素&#x3D;12ug膳食全反式β-胡萝卜素&#x3D;24ug其他膳食维A原类胡萝卜素；1ug胡萝卜素&#x3D;0.167ug视黄醇当量&#x3D;0.556IU维A</li><li>晒太阳补充维D，夏季10min，冬季20-30min</li><li>优质酱油氨基酸态氮≥0.7%，总氮在1.3+，多在1.3-1.8</li><li>佝偻病：碱性磷酸酶活性＞28；血清钙磷乘积≤30；血清25-（OH）D3几乎为0</li><li>K离子合成：1g蛋白质需要3nmolK，1g糖原需要0.6nmolK</li><li>K：AI：2000mg，PI-NCD：3600mg</li><li>学龄前儿童每日至少有15-20g大豆，提供6-10g优质蛋白质</li><li>GI：55- 中 -70</li><li>职业道德是以集体主义为原则的原因：集体主义反映了广大劳动者的根本利益；集体主义是正确处理个人、集体、国家利益之间关系的原则；是社会主义职业道德区别于其他社会形态职业道德特征之一。并不包括用集体主义观点处理职业关系</li><li>精细加工会导致矿物质和维生素的丢失，Zn也会丢失。但维A主要存在于动物性食物中，因此粮食精细加工维A丢失算大量</li><li>B1生化指标：α-酮酸脱氢酶体系、转酮醇酶、尿负荷、血清B1、尿中每克肌酐维生素B1含量</li><li>B2：全血谷胱甘肽还原酶</li><li>B6：红细胞转氨酶</li><li>维E：红细胞<strong>溶血</strong>实验，可以保持红细胞完整性</li><li>青少年的蔬菜摄入量每日不少于300g</li><li>老年人对于维A的需求不会增加，相比于成年人需要量少</li><li>维A比较稳定，耐酸、碱、热。但易氧化</li><li>维B6参与色氨酸代谢，色氨酸可以转变为烟酸</li><li>骨质疏松会导致骨韧性降低，骨基质流失、易碎、变形、压迫性骨折、骨疼痛</li><li>低渗性脱水：电解质为主，神志恍惚、尿少，尿比重降低</li><li>高渗性脱水：水流失为主，口渴、尿少，尿比重增加，工作效率降低</li><li>赤霉病（麦子），主要在春夏之交时，小麦、大麦、燕麦等在田间抽穗灌浆阶段发生</li><li>胆汁作用：无消化酶，主要是胆盐的作用。胆盐、胆固醇和卵磷脂等降低脂肪的表面张力，乳化脂肪为微滴，增加胰脂肪酶的作用面积，有利于脂肪的消化和吸收；胆盐与脂肪酸、甘油一酯等结合，形成水溶性复合物，促进脂肪产物的吸收，并且促进脂溶性维生素的吸收</li><li>膳食调查常用方法：称重法、记账法、询问法（24h和膳食史）、食物频数、化学分析法</li><li>食谱制定的常用方法：计算法、食物交换法</li><li>哺乳期妇女指南不包括产后尽早开奶，这个是0-6月婴儿母乳喂养指南内容</li><li>蛋黄的胆固醇很高</li><li>皮褶提起点：<ul><li>三头肌：肩峰与尺骨鹰嘴中点上方2cm，测量点是提起点下方1cm</li><li>二头肌：二头肌肌腹中点或肩峰与尺骨鹰嘴中点上方1cm，测量点就是提起点</li><li>测量点是提起点：一般是下方1cm</li></ul></li><li>调查表编制基本原则：相关、客观、适宜、全面、可比、设计合理。不包括有针对性和未知问题</li><li>慢性病在合理膳食方面表现：高油高盐、含糖饮料摄入多；全谷、深色菜、水果、奶类、鱼虾类、大豆类摄入不足；喝酒。不包括摄入肉类少</li><li>加强胰岛素：铬，预防粥样动脉硬化，促进蛋白质代谢和生长发育</li><li>称重记账法需要考虑：食物消耗量；进餐人数登记（并不是餐次！！！</li><li>蛋黄中的铁以非血红铁素存在</li><li>计算法编制食谱时，蔬果的需要量的确定依据是依据微量营养素（矿物质和维生素）和膳食纤维确定的，品种和数量依据季节、动物性食物和豆制品配菜。主食通过碳水确定，副食依据蛋白质确定</li><li>环境中的二噁英主要来源：农药、尾气、氯气漂白、垃圾焚烧</li><li>佝偻病多在婴幼儿常见，因此学龄前和成年人的常见营养问题中不包括</li><li>糖尿病、尿崩症及使用利尿剂会使得B1消耗过多，导致需要量增加</li><li>蛋白质-营养不良实验室检查：血清白蛋白、前白蛋白等指标<strong>下降</strong></li><li>防止葡萄球菌肠毒素病原污染食品的措施包括：防止污染食品；防止细菌生成；食用前彻底加热。（不包括切断传播途径</li><li>社区调查具体方法：观察法、访谈法、自填问卷、小组讨论</li><li>膳食调查报告主要目标：以发现和分析目标人群的膳食营养问题或变化趋势，并不是分析目标人群的膳食摄入量</li><li>食品营养干预包括：膳食结构强化；食品强化；营养素补充。不包括食品安全和卫生标准</li><li>学龄期儿童膳食指南：限制饮酒！！！，60min+中高身体活动</li><li>条件致病菌：通常情况下不致病，一定条件下才有致病力。常见葡萄球菌、链球菌、变形杆菌、韦尼梭菌、蜡样芽孢杆菌</li><li>鱼类脂肪主要是n3和长链不饱和脂肪酸</li><li>贫血可能缺乏：蛋白质、铁、维C、B6、B12、B2、叶酸</li><li>食物重量平均误差超过±20%，需要重新估计和称重</li><li>干预措施包括运动、行为、营养干预；</li><li>研究慢性病与膳食的关系：使用食物频数法</li><li>荞麦铬多</li><li>人体基本组织：上皮、结缔、神经、肌组织</li><li>玉米粉GI值比小米低</li><li>缺K时会引起心率失常</li><li>钙和镁对肌肉神经兴奋和抑制作用相同又有拮抗作用。过低时。兴奋性增加，过高时镇静作用</li><li>肉毒梭菌中毒：发酵豆制品，肉类和罐头</li><li>沙门氏菌：动物性多见</li><li>酪蛋白占总蛋白的80%，乳清蛋白占总蛋白的20%</li><li>饱和脂肪酸占比：4-17岁＜8%，18岁以上＜10%；n3的AMDR为0.5-2%E；n6的AMDR为2.5%-9%E</li><li>脂肪酸败在早期是过氧化值上升，后期酸价上升。还可以用碘价、凝固点、比重、折光系数、皂化价等作为指标</li><li>社区调查目的包括：掌握社区人群健康或疾病状况的分布特征及变化趋势；探索健康的影响因素；经过综合分析，明确和推测社区人群中现在和将来要出现的健康问题，从而采取必要的措施；促进健康、控制疾病、提高社区健康水平的目的</li><li>孕期贫血、血浆总蛋白和白蛋白水平低下、吸烟酗酒会导致低出生儿</li><li>低胆固醇声称：液体≤10mg，固体≤10mg</li><li>妊娠期膳食原则包括：调整体重；吃含铁丰富的食物，碘盐、叶酸和维生素；孕吐严重少量多餐；孕中晚期适量增加奶、鱼禽蛋、瘦肉的摄入；经常户外活动，禁止烟酒；愉快，准备母乳喂养</li><li>强力味精主要增鲜物：肌苷酸钠、鸟苷酸钠</li><li>与平衡膳食宝塔比较要点：注意年龄、性别、劳动强度的影响。适宜2岁以上的属于膳食建议的。。。</li><li>营养学评价包括主观和客观，客观包括体格检查、人体测量和实验室检查；主观包括通过病史、主诉的询问获得，膳食史属于询问法的一种</li><li>碳水化合物量&#x3D;食物重量*可利用的碳水物&#x3D;食物重量 * （碳水-膳食纤维）。食物重量以100g为单位，即折算100的比例</li><li>碳水化合物质量百分比&#x3D;碳水化合物量&#x2F;混合提供给的碳水总量合 * 100%</li><li>GL&#x3D;(食物1碳水质量百分比 * 食物2GI + 食物1碳水百分比 * 食物2GI…) * 碳水化合物总量</li><li>完全蛋白质：肉蛋乳中的，小麦的麦谷蛋白。麦胶蛋白是半完全蛋白质</li><li>双糖：麦芽糖、乳糖、蔗糖</li><li>必须脂肪酸（a-亚麻酸）有维护视力的功能（脂肪功能之一</li><li>不消化的碳水包括：抗性淀粉、非淀粉多糖、菊粉、低聚果糖等，可以刺激乳酸杆菌、双歧杆菌的增值，因此也称为益生元</li><li>蛋白质只有2-3个氨基酸的小肽和氨基酸形式可以直接被吸收</li><li>能量耗能不包括呼吸耗能</li><li>蛋类中不含的营养素：Ca、Mg、K、Na、Zn、硒、维K、B1、维C</li><li>肝脏营养素含量不多：Ca、Mg、K、Na、I、维E、C、B1</li><li>绿色菜营养素含量不多：P、Na、I、Zn、硒、维D、B1不多、叶酸、烟酸<ul><li>海带有P、I、Ca</li></ul></li><li>牛奶中营养素含量不多：P、Na、K、Fe、Zn、I、硒、维D（但奶油含有）、E、C、B1、B6、叶酸、烟酸</li><li>瘦肉营养素含量多的是：P、维B1、烟酸</li><li>辅酶形式参与能量代谢：B1（构成辅酶）、B2（FMN、FAD</li><li>缺硒主要是大骨节和克山病，不会影响生长迟缓</li><li>I功能：影响神经系统的发育、垂体激素、体格发展、能量代谢（甲状腺素</li><li>维A功能：维护视力；上皮组织健康；骨骼生长；免疫系统；生长生殖；缓解癌症</li><li>影响维A吸收因素：胆汁乳化；脂肪促进吸收；氧化剂（维E和卵磷脂等）促进；寄生虫和矿物油不利于吸收</li><li>钙的功能：骨骼牙齿生长发育；毛细血管通透性；神经肌肉兴奋性；凝血过程；细胞吞噬、激素分泌。钙与Fe、Mg、P、Zn属于竞争性吸收</li><li>影响钙吸收因素：钙磷比（母乳2:1）；乳糖；维D；赖精色氨基酸促进。脂肪、膳食纤维、酸性磷酸盐（与P相反）、草酸、酗酒、肝素等不利于<ul><li>鱼类吸收率不一定高于畜禽肉</li></ul></li><li>影响镁吸收因素：乳糖、维D、氨基酸、水促进；植酸、磷酸、膳食纤维抑制。Ca和Mg竞争性吸收</li><li>影响铁吸收因素：维C、某些单糖、核黄素、有机酸及肉因子促进；植酸、草酸、茶叶和咖啡的多酚类抑制；还收到需要量和储存量的影响</li><li>小细胞贫血：Fe、B6；巨幼红细胞性贫血贫血：B12、叶酸</li><li>水的功能不包括维持酶的活性。</li><li>高温防止食物腐败不会破坏食物饱和脂肪酸，只会影响微生物和酶</li><li>不适合喝茶的人：容易失眠；溃疡；营养不良，缺铁性贫血</li><li>视频放射性危害：免疫抑制；损害生殖功能；致畸致癌致突变</li><li>亚硫酸盐处理蔬果时，可以防腐、抑制酶活性、色素褪色或减少褐变。不会漂白和还原</li><li>均匀性群体指定目标时：EAR切点法；EAR和UL；能量EER；只有AI的营养素，可以用AI作为目标；RNI不能作为群体目标</li><li>餐饮食品营养标识基本内容：能量；脂肪；Na及相当于多少的盐（基本内容</li><li>骨软化病是维D缺乏，不是钙缺乏（婴儿佝偻；手足抽搐；骨质疏松</li><li>成人运动指南：每周5-7d，最好每天一次；每天30-60min，一周150min，每次10min+；中等强度，最大心率的50-60%，有点累稍累；有氧和耐力为主</li><li>营养不良建议：增加优质蛋白（肉蛋奶豆）摄入；奶类；新鲜蔬果；纠正不良饮食习惯；增加能量摄入；适宜身体活动。（不包括增加脂肪和谷类的摄入量</li><li>健康收集信息的调查表的问题形式一般以封闭式问题为主，因为封闭式问题容易回答、省时、便于统计，但有时不能得到全部回答</li><li>《健康中国行2019-2030》全民15专项包括：健康知识普及行动、合理膳食、全民健身、健康环境促进、心理健康促进、妇幼健康促进、中小学健康促进、职业健康促进、老年人健康促进、控烟、心脑血管疾病防治、癌症防治、慢性呼吸系统疾病防治、糖尿病及防治、传染病及地方病防控行动</li><li>中等强度：4-7kcal&#x2F;min，有一点或者稍累</li><li>氮平衡公式&#x3D;摄入氮-（尿氮+粪氮+皮肤氮）</li><li>保持健康体重的主要因素：进食量＋运动</li><li>社区营养管理工作：了解社区营养和健康状况及其影响因素；社区营养监测、干预和评价；社区营养改善（普及知识、调查膳食结构、推行食品强化、改善卫生条件、补充营养素防治营养缺乏病，推广家庭养殖业等</li><li>“贴壳蛋”原因：细菌造成蛋黄系带松弛断裂</li><li>Na在小肠上端吸收，且几乎可以完全被吸收；Ca在小肠上段吸收，但吸收率50%且受到年龄影响；Zn、P、Fe在十二指肠和空肠中被吸收；Mg肠道都可被吸收，主要是空肠末端和回肠</li><li>显性出汗通过汗腺活动实现，水的排出以经过肾脏为主（尿</li><li>水的来源和排出每天维持在2500ml左右</li><li>巴氏消毒法（60°30min）：鲜奶、啤酒、酱油和某些饮料、葡萄酒。不适用于肉类罐头</li><li>牛乳中各类脂肪酸比例适当，室温下，乳脂肪呈固态</li><li>菇类有丰富的B12、Fe、Zn</li><li>藻类有丰富的：Fe、Zn、硒（其他数十倍</li><li>大肠可以合成维K、硫胺素B2、核黄素B1、叶酸</li><li>称重法可以用于调查群体和个体的膳食调查</li><li>50%以上的糖溶液可以阻止大多数酵母菌的生长</li><li>摄入大量维A会导致：自发性流产、新生儿先天畸形（中枢神经、颅面部和心血管）、脂溢性皮炎、骨痛</li><li>骨质疏松应该多摄入：Ca、维D（促进Ca吸收）、维A（维持骨骼生长）、维C（促进胶原合成）、维K（促进成骨、抗氧化和炎症反应</li><li>粮食的卫生标准：霉菌（黄曲霉素等；掺伪；虫害（18-21°，65%湿度适合生长虫）；农药；有毒有害物质（重金属和氰化物；其他（惨杂物和有害种子</li><li>食品营养标签属于食品标签的一部分，包括营养成分表、营养声称（传递营养素含量的多寡或特点）、功能声称（声明营养素的功能作用，是健康声称的一种）。不包括营养配料和营养成分定义</li><li>核心营养素：碳水、脂肪、蛋白质、Na</li><li>24h回顾法时需要记录在家外的膳食摄入</li><li>食物频数法的目的是获得被调查者的膳食模式，以便研究膳食模式和慢性病的关系</li><li>婴儿体重读数以kg为单位，保留两位小数点</li><li>胸围的固定点是在右侧入口下缘</li><li>问卷初稿预调查：客观检验和主观评价法</li></ul><h2 id="三轮"><a href="#三轮" class="headerlink" title="三轮"></a>三轮</h2><h3 id="公共营养师职业道德"><a href="#公共营养师职业道德" class="headerlink" title="公共营养师职业道德"></a>公共营养师职业道德</h3><ul><li>职业道德的基本职能：规范职能</li><li>坚持以集体主义为原则，从业者需要做到<ul><li>正确处理义利关系</li><li>正确处理局部与整体的关系</li><li>用集体主义观点处理职业关系</li></ul></li><li>公共营养师的职业守则<ul><li>遵纪守法、诚实守信、团结协作</li><li>忠于职守、爱岗敬业、钻研业务</li><li>认证负责、服务于民、平等待人</li><li>科学求实、精益求精、开拓创新</li></ul></li></ul><h3 id="医学基础-1"><a href="#医学基础-1" class="headerlink" title="医学基础"></a>医学基础</h3><ul><li>免疫系统包括免疫器官、免疫细胞和免疫分子。<ul><li>免疫器官包括中枢和外周，中枢包括胸腺和骨髓，外周包括<strong>脾脏</strong>及全身脏器、黏膜、皮肤的淋巴结和淋巴弥散细胞。不包括肺</li></ul></li><li>葡萄糖在血浆中的浓度为3.9-6.1nmol&#x2F;L</li><li>正常血浆PH：7.35-7.45</li><li>肝是人体最大的消化腺，而不是最大的消化道</li></ul><h3 id="营养学基础-1"><a href="#营养学基础-1" class="headerlink" title="营养学基础"></a>营养学基础</h3><ul><li>胆固醇可以直接吸收，磷脂的吸收和甘油三酯相似</li><li>可以直接被人体吸收利用的碳水：淀粉。果胶树胶属于膳食纤维，棉子糖和水苏糖属于寡糖，由于缺乏对应的水解酶，是到大肠中被双歧杆菌利用</li><li>维D缺乏原因：太阳不够；维D少；钙磷摄入不足或吸收障碍；肝肾疾病</li><li>促进钙吸收：维D、维C、维B2、合适钙磷比、某些单糖、有机酸、肉因子</li><li>血红铁素存在与动物性食物中，非血红铁素存在与植物中</li><li>Zn主要存在与贝类、红肉、动物内脏，植物含量低，谷类精细加工会损失很多</li><li>硒是谷胱甘肽过氧化物酶、硫氧还蛋白还原酶、碘甲腺原氨酸脱碘酶的组成成分</li><li>磷脂不属于脂肪，所以脂肪的功能中不包含磷脂的构成细胞膜</li><li>B1亚临床缺乏的主要症状是下肢倦怠和疲倦无力，神经型是韦尼克脑病，心血管型是心功能不全，脚气病是呕吐腹痛便秘，呼吸急促</li><li>B2缺乏特异性诊断方法：全血谷胱甘肽还原酶活力系数测定</li><li>治疗实验是维C缺乏的协助诊断</li><li>营养素摄入不足的原因：食物供给不足&#x2F;短缺；天然食物缺乏；不良饮食习惯；加工方法错误；食欲不振、昏迷、吃得少。</li><li>B1在深绿色蔬菜中较少，B1主要来源是谷类、瘦猪肉、玉米，鱼类少，因此深绿色食物摄入不足不会导致B1缺乏</li><li>B1缺乏原因原因包括：精细加工；胃肠道及肝胆疾病；消耗多（发热、甲亢等）；肉类摄入过多导致B1消耗多；慢性乙醇中毒</li><li>伤口愈合不良营养素相关：维A（上皮细胞健康）、Zn（蛋白质合成和代谢）、维C（胶原合成、B2（参与细胞生长，尤其是皮肤黏膜</li><li>营养性贫血：Fe、Cu、蛋白质、维C、B6、B12、叶酸</li><li>孕妇缺乏维D导致：新生儿低钙血症，手足抽搐、婴儿牙釉质发育不良、母体骨质软化。不会导致低出生和胎儿发育迟缓</li><li>先天畸形营养素包括：叶酸、Zn、维A过多、酗酒。Fe缺乏不会</li><li>降低血清总胆固醇和LDL，不降低HD：单不饱和脂肪酸</li><li>降血压：高K低Na、Ca、Mg</li><li>佝偻病表现：方颅、肋串珠、手足镯、O型腿和X型腿、枕秃、易激惹。鸭步是骨软化症</li><li>钴是参与构成B12，预防巨幼红细胞贫血</li><li>Cu维持正常造血功能；黑色素；中枢神经；抗氧化</li><li>深绿色蔬菜中含丰富的β-胡萝卜素、C、K（维K1是叶绿体的组成部分</li><li>维A检测指标：血清视黄醇、暗适应能力（早期）、生理盲点、眼结膜印迹细胞学法。临床指标：皮肤症状</li><li>维持钙平衡，主要调节降钙素、甲状旁素，1，25-（OH）2D3</li><li>B2指标：尿负荷、红细胞谷胱甘肽还原酶、红细胞核黄素、尿负荷核黄素</li><li>贫血实验室检查指标：血红蛋白、红细胞压积、血清铁、总铁结合力、血清运铁蛋白饱和度、红细胞游离原卟啉、血清铁蛋白</li></ul><h3 id="食物营养与食品加工-1"><a href="#食物营养与食品加工-1" class="headerlink" title="食物营养与食品加工"></a>食物营养与食品加工</h3><ul><li>大豆的抗营养因子：蛋白质抑制剂、植酸、植物红细胞凝血素、胀气因子</li><li>大豆中有维E</li><li>禽类脂肪熔点低于畜类，脂肪含量少，含氮浸出物多，</li><li>鸡肉中血红蛋白和肌红蛋白含量少，因此并不是铁的良好来源</li><li>谷类大量摄入：淀粉、维B族、能量、蛋白质（不包括摄入大量脂肪</li><li>豆类的胡萝卜素、维E含量高于谷类</li><li>合理的食品强化方式包括：精米白面添加维B、面包添加赖氨酸</li></ul><h3 id="膳食营养指导-2"><a href="#膳食营养指导-2" class="headerlink" title="膳食营养指导"></a>膳食营养指导</h3><ul><li>多摄入蔬果薯类，不能预防缺铁性贫血，因为里面富含叶酸，预防的是巨幼红细胞贫血</li><li>多摄入蔬果薯类，可以保护心血管健康、减少儿童干眼病风险，预防某些癌症、增强抗病能力</li><li>第一个膳食指南是1989年制定的</li><li>一日三餐食物品种数，早餐3-5中，午餐4-6，晚餐4-5，零食1-2种</li><li>在制定膳食计划时，能量和营养素的目标：不包括大于EAR<ul><li>在安全范围内</li><li>达到RNI或AI</li><li>不超过UL</li><li>依据体重修改</li><li>能量依据EER去确定</li></ul></li></ul><h3 id="人群营养-2"><a href="#人群营养-2" class="headerlink" title="人群营养"></a>人群营养</h3><ul><li>体重计算公式：<ul><li>0-6月：体重&#x3D;出生体重+月龄*0.7</li><li>7-12月：体重&#x3D;6+月龄*0.25</li><li>婴儿：体重&#x3D;年龄*2+7&#x2F;8</li></ul></li><li>婴幼儿体重增加：0-6月：300-600g&#x2F;月，7-12月：300g&#x2F;月。1-2岁，2.5-3kg&#x2F;年，0.25kg&#x2F;月；2岁以后，1.5-2kg&#x2F;年</li><li>幼儿2岁体重12kg，每年增长1.5-2kg</li><li>学龄前身高每年均长5cm</li><li>新生儿胃容量：25-50ml，出生后1月100ml，6月200ml，1岁大300-500ml</li><li>人乳比牛乳：脂肪含量和蛋白质含量都少，但是脂肪种类多余牛乳</li><li>0-6月婴儿配方奶每100ml能量：60-70kcal（0-6月），60-75kcal（7-12月）</li><li>9-17岁钙：1000mg</li><li>孕妇叶酸摄入量：RNI是600，额外补充400ug</li><li>0-6月乳母泌乳量：750ml</li><li>孕前体重正常，不计划哺乳的女性增重：10kg</li><li>计划哺乳的女性<ul><li>体重低于：14-15kg</li><li>体重正常：12kg</li><li>体重高于：7-8kg</li></ul></li><li>老年人基础代谢降低15-20%</li><li>幼儿基础代谢60%，成年人45%-70%</li><li>孕期亚油酸、亚麻酸、I、叶酸摄入不足会影响婴儿的脑部神经发育</li><li>孕期营养不良会导致胎儿：生长停滞，发育迟缓、低出生体重，早产，畸形，死亡率升高，体格和智力发育</li><li>叶酸缺乏对妊娠影响：神经管畸形；巨幼红细胞贫血；胎盘早剥</li><li>母乳喂养可以促进婴儿骨骼发育</li><li>乳糖可以促进钙的吸收，但不能促进维生素的吸收</li><li>预防维A缺乏措施不包括每天吃新鲜水果，因为维A主要是在深色蔬菜种，水果含量不多</li><li>同型半胱氨酸血症：B6、B12、叶酸</li><li>老年人没有对必需氨基酸的吸收减慢，只是分解代谢增加，合成代谢减慢，蛋白质丢失增加，蛋白质合成减少</li><li>EAP+DHA为250mg，DHA为200mg</li><li>10-12岁婴儿母乳在600左右，占总能量的1&#x2F;2</li><li>学龄前儿童不包括提倡回应式喂养，只有婴幼儿才提倡</li><li>7-10岁饮水1000ml，11-13岁1100-1300ml，14-17岁饮水1200-1400ml</li></ul><h3 id="公共营养知识"><a href="#公共营养知识" class="headerlink" title="公共营养知识"></a>公共营养知识</h3><ul><li>健康信念理论：人们感知信息；认同信息；产生行为意识。<ul><li>强调感知的重要性</li></ul></li><li>是否采纳健康信念模型因素：感知疾病威胁；感知健康行为的益处与障碍；自我效能；提示因素；社会人口学因素</li><li>社区营养工作的基本场所：社区</li><li>营养改善措施投入项目包括：经费和劳动力、后勤，是否做到低成本高效等</li><li>营养改善措施产出包括：食物增产、家庭收入增加及食物购买力增加</li><li>营养改善措施效果包括：对营养健康状况的改善，如知识提高、观念转变、死亡率变化及生长发育改善</li><li>营养改善措施效益包括：社会和经济效益。如提高劳动生产力、智力体力增强、寿命延迟，降低医保成本</li><li>大众传播特点：传播者是职业性的机构和成员，借助非自然的特定传播技术手段；信息公开，面向全社会人群；信息扩散距离远，覆盖区域广泛，速度快；传播对象多，分散广泛，互不联系，但总体来说是确定的；单向传播，信息反馈速度慢且缺乏自发性</li><li>群体传播材料：宣传栏、招贴画、海报、标语和横幅，录像带</li><li>营养教育对象：个体（<strong>公共和临床营养工作的对象</strong>）、群体、组织机构、社区、政府和媒体</li><li>营养工作者知识技能包括：掌握营养与食品卫生学、食品学等专业理论；了解社会经济等政策及文化因素对膳食营养状况的影响；具有社会心理学、认知等的基础；具有传播营养知识的能力；有一定现场组织协调和研究能力</li><li>营养教育的主要工作不包括对在校学生的膳食干预</li><li>社区营养管理的主要工作内容：了解社区人群营养和健康状况及其影响因素；社区检测、干预和评价；社区营养改善</li><li>对所存在的营养问题进行总和分析时，包括：哪些人患病和营养不良，包括其年龄、职业等；存在何种营养不良和慢性病；营养不良程度；营养不良主要膳食原因</li><li>营养教育主要工作领域和对象：餐饮、医疗卫生、疾病控制、农业、商业、轻工</li><li>卫生事业发展的战略措施：健康教育和健康促进</li></ul><h3 id="食品卫生基础-2"><a href="#食品卫生基础-2" class="headerlink" title="食品卫生基础"></a>食品卫生基础</h3><ul><li>葡萄球菌主要是乳类及乳制品，蛋类，熟肉制品，淀粉。剩饭剩菜</li><li>N-亚硝基化合物可以通过呼吸道、消化道、皮下或肌肉注射诱发肿瘤，靶器官是胃、肝和食道癌</li><li>N-亚硝基化合物前体物：硝酸盐、亚硝酸盐、胺类物质、氨基酸、胺、多肽、呱啶、酰胺等</li><li>变形杆菌：动物性，豆及豆制品，发热，恶心呕吐，头痛，急性腹泻</li><li>甲醇：酒类（薯干、马铃薯、水果、糠麸等），视力模糊，神经，视神经萎缩和双目失明</li><li>神经毒素：河豚、肉毒梭、3-硝基丙酸</li><li>油脂卫生学指标：酸价、过氧化物、羰基化合物</li><li>有机磷农药：敌敌畏、乐果、马拉硫磷</li><li>蔬果卫生问题包括：寄生虫和微生物；工业废水；农药残留；人畜粪便</li><li>猪肉常见寄生虫：旋毛虫、囊虫、猪带涤虫、。姜片虫是人体小肠中的，华支nang吸虫的宿主是淡水螺</li><li>维A、C、E都可以阻断亚硝胺的合成，包括大蒜及大蒜素、沙棘汁、猕猴桃</li><li>我国使用最多的农药是除草、杀虫、杀菌剂</li><li>黄曲霉素B1主要代谢途径：脱甲基、环氧化、羟化</li><li>防止油脂酸败宜采取的措施不包括加入防腐剂</li><li>酱油胺生产工艺分为配置酱油、发酵酱油</li><li>食用盐强化包括碘盐、硒盐、锌盐、铁盐、钙盐</li></ul><h3 id="膳食调查与评价-1"><a href="#膳食调查与评价-1" class="headerlink" title="膳食调查与评价"></a>膳食调查与评价</h3><ul><li>24h回顾法需要记录调味品的摄入量，其是通过访谈的形式收集膳食信息的一种回顾性膳食调查方法</li><li>膳食调查报告主体：居民食物摄入情况；居民膳食能量和主要营养素摄入状况；居民能量、蛋白质、脂肪来源；居民膳食结构状况与膳食指南比较。即包括了对居民膳食结构的评价，但不包括居民体格状况</li><li>食物中某营养素含量&#x3D;食物量 * 可食部比例 * 每百克食物中营养素含量 &#x2F; 100</li><li>标准人日&#x3D;标准人系数 * 人日数</li><li>标准人平均每日某营养素摄入量&#x3D;平均每人每日某营养素摄入量&#x2F;混合系数</li><li>膳食调查报告的格式内容包括：题目、前言、主体（人群目标、材料、方法、结果）、讨论、结语、参考文献、致谢等</li><li>记账法多用于群体膳食调查，</li><li>称重记账法需要对进餐人的一般情况如性别、劳动强度做等级</li><li>膳食史法和24h回顾法都属于开放式的调查方法</li><li>数据库的特点包括：数据共享、集中控制、减少数据冗余、数据一致性和可维护性、数据独立</li><li>数据一致和可维护性包括：安全、完整、并发性控制，故障的发生与恢复</li><li>人群膳食报告中对居民膳食摄入状况描述包括：不同地区、不同性别、年龄、不同家庭人均收入水平、不同地区居民能量摄入与DRIs比较</li></ul><h3 id="人体体格测量"><a href="#人体体格测量" class="headerlink" title="人体体格测量"></a>人体体格测量</h3><ul><li>纵向生理指标主要是反映：疾病、长期营养、不良环境因素</li><li>皮褶厚度的意义：反映机体皮下脂肪的分布情况，是衡量肥胖程度较好的指标。不包括反映机体营养状况，与体重密切相关</li></ul><h3 id="营养咨询与教育-2"><a href="#营养咨询与教育-2" class="headerlink" title="营养咨询与教育"></a>营养咨询与教育</h3><ul><li>人平均每天对水的需求是3000ml左右</li><li>身体活动水平取决于身体活动量和基础代谢。身体活动量包括运动时间、运动频率和运动强度</li><li>大肠菌群包括：埃希氏菌、柠檬酸杆菌、肠杆菌、克雷伯菌属</li><li>铅中毒：造血神经、肾脏影响最大</li><li>甲基汞中毒：急性、慢性、亚慢性、致畸、胚胎毒性，神经毒性</li><li>湿度不会影响食品被容器和包装材料污染，影响因素包括：时间、食品性质、温度、容器和包装材料的理化性质和完整性</li><li>高分子化合物，如塑料的安全问题主要来源于：未聚合的游离单体、和聚合不充分的游离物；添加剂或助工剂残留；低分子降解物质。不包括维生素因素</li></ul><h3 id="膳食指导与评价-1"><a href="#膳食指导与评价-1" class="headerlink" title="膳食指导与评价"></a>膳食指导与评价</h3><ul><li>钙RNI：3岁500mg，7-8岁800mg，9-17岁1000mg</li><li>碘UL：7-11岁250ug，12-14岁300ug，15-17岁500ug</li><li>中小学的午餐钙提供量在400mg以上</li><li>3-6岁蔬果摄入150-300g</li><li>钙的良好来源：奶及奶制品、小鱼小虾、芝麻将、绿色菜、豆类、坚果、芝麻酱、海带</li><li>11-14岁男生比成人摄入多的包括：钙、铁、蛋白质、能量</li><li>食谱营养评价目的：检查该食谱是否满足营养需要；发现是否有某些营养素缺乏；对食谱进行调整和纠正<ul><li>分析食谱的食物来源是属于膳食调查报告主体</li></ul></li><li>谷类脂肪低，水果、菌藻、淀粉类脂肪也低</li></ul><h3 id="食品营养评价-2"><a href="#食品营养评价-2" class="headerlink" title="食品营养评价"></a>食品营养评价</h3><ul><li>低筋小麦粉≤10，高筋≥12.2</li><li>牛奶中乳糖4.5-5.5，蛋白质脂肪2.5-3.5，碳水4.5-5.5，非脂乳固体含量＞8.1%，钙110mg，P70mg，</li><li>t0.05（u）表示：t界值表查到自由度为u，概率界限为0.05的t值。u&#x3D;n-1</li><li>标准差表示n次检测结果数据<strong>均值</strong>的离散性</li><li>脂肪酸的比例更适合评价膳食结构而非一种食物中脂肪的营养价值</li><li>食物营养价值是指：食物中所含的能量和营养素满足人体需要的程度<ul><li>营养素种类是否齐全</li><li>营养素数量和比例是否合理</li><li>是否易于被人体消化吸收利用</li></ul></li><li>食品产品分析包括：感官分析和评价、卫生学检验（微生物和污染物）、营养成分分析、功效成分分析、添加剂分析</li><li>食品营养成分分析包括：感官分析和评价，营养成分分析</li><li>营养声称包括：<strong>含量和比较声称</strong></li><li>蛋白质营养评价包括：氨基酸数量和比例，蛋白质营养价值、氨基酸评分、经消化率纠正后的氨基酸评分、氨基酸评分模式、蛋白质功效比、生物价、净利用率</li><li>宣传资料按载体分：印刷品（纸质）、录像带、光盘、PPt</li><li>录像带缺点：制作成本高；使用受限；文字资料少；艺术性强</li></ul><h3 id="社区营养管理与干预-2"><a href="#社区营养管理与干预-2" class="headerlink" title="社区营养管理与干预"></a>社区营养管理与干预</h3><ul><li><strong>信息收集</strong>方法总体分为：二手资料、实验、访问法</li><li><strong>调查</strong>的具体方法：观察、访谈、自填问卷、专题小组讨论法</li><li><strong>健康档案</strong>&#x2F;数据收集方法：利用现存资料；经常性工作记录；社区调查；健康筛查</li><li><strong>社区</strong>居民营养与<strong>健康资料</strong>资料收集方法：现有统计资料、访谈、专题讨论、调查问卷</li><li>社区健康调查资料包括：数值变量、分类变量和等级资料</li><li>健康预实验类型：类实验、随机对照实验</li><li>运动四要素：运动类型、频率、时间和强度</li><li>健康档案的基本资料包括：人口学；健康行为；生物学基础；临床资料</li><li>营养干预策略：政策干预、营养干预、行为干预、食物营养干预、控油限盐干预</li><li>营养强化是营养干预、营养宣教、预防全民营养缺乏病的措施之一</li><li>营养强化剂：必需氨基酸、矿物质、维生素，载体包括谷类、奶类、豆类、调味品和儿童食品</li><li>为了预防缺铁性贫血，需要多摄入柑橘类和富含铁多的食物</li></ul><h3 id="模拟-2"><a href="#模拟-2" class="headerlink" title="模拟"></a>模拟</h3><ul><li>红细胞转转酮醇活力系数：B1；全血谷胱甘肽还原酶：B2；红细胞转氨酶活力：B6；细胞溶血：维E   <ul><li>酮1甘2氨3</li></ul></li><li>青少年的蔬菜摄入量每日不少于300g</li><li>乳母蛋白质摄入量+25g</li><li>B6参与色氨酸转烟酸</li><li>较大人群的膳食调查方法：记账法</li><li>乳母摄入能量过低时，泌乳量会降低40-50%</li><li>单不饱和脂肪酸：橄榄油、菜籽油、茶油</li><li>多不饱和脂肪酸：核桃油、葡萄籽油、亚麻籽油、葵花子油、玉米油、鱼油等</li><li>豆类利用率：豆腐＞豆浆＞整粒大豆</li><li>黄曲霉：二呋喃环末端有双键的毒性大；在紫外线的照射下呈荧光；碱性条件下易被破坏；耐热；溶于有机溶剂，不溶于水</li><li>粮食卫生标准：霉菌和霉毒素污染；农药残留；有毒有害物质污染；仓储害虫；掺伪；粮食夹杂物</li><li>食品营养标签包括：营养成分表，营养声称，健康声称（功能声称</li><li>1ug视黄醇活性当量&#x3D;12ug膳食β-胡萝卜素</li><li>称重记账发需要考虑进餐<strong>人数</strong>的登记，并不是餐次的登记</li><li>不可溶膳食纤维不能结合胆酸，无法降血脂</li><li>谷类的糊粉层蛋白质、B族维生素、矿物质、脂肪都＞胚芽，胚芽淀粉比较丰富</li><li>B2缺乏除了口腔-生殖综合征外，还会导致贫血、脑功能失调，影响生长发育，妊娠期缺乏会导致胎儿骨骼畸形</li><li>佝偻病是婴幼儿常见问题，学龄前不常见</li><li>3-硝基丙酸是霉变甘蔗的</li><li>讲座的营养教育：针对某一专题有组织、有准备的面对目标人群进行营养教育活动</li><li>调查表原则<ul><li>相关：所有问题与调查研究主题相关</li><li>客观：所有问题都不允许带有调查者的某种主观倾向和暗示</li><li>适宜：问题能为被调查者接受和理解，避免使用专业性术语</li><li>全面：问题应完全对应于研究框架，各个变量的选择准确无缺失</li><li>设计合理：一个问题转另一个问题是，注意逻辑关系</li><li>可比性：将本调查和其他调查结果相比较</li></ul></li><li>社区营养改善措施：了解社区人群营养和健康状况及其影响因素；社区营养监测、干预和评价；社区营养改善（不包括普及营养知识</li><li>菌藻类比其他食物多的是：Fe、Zn、硒</li><li>孕妇摄入大量维A会导致：自发性流程、胎儿畸形。不会导致流产</li><li>钴是B12的组成成分</li><li>麦芽糊精：寡糖</li><li>膳食调查报告主要目的：分析和发现目标人群的膳食营养问题或变化趋势</li><li>头围固定点：右侧眉弓上缘</li><li>我国食物中毒，最常见是：不洁动物性食品</li><li>条件致病菌：变形杆菌、葡萄球菌</li><li>幼儿期每天各种途径损失的铁不超过1mg</li><li>孕中期能量摄入+250，孕后期+400</li><li>重量<strong>保留因子</strong>：反映烹调过程中，食物总质量的变化</li><li>营养素损失率：营养素损失多少</li><li>人体基本组织：上皮组织、结缔组织、肌组织、神经组织。不包括骨</li><li>维k：参与凝血相关，骨质疏松前期指标</li><li>过高过低都会导致心率异常： <strong>K</strong></li><li>低出生体重原因：母体孕前体重身高不够，母体孕期蛋白质-能量营养不良，孕期增重不够，孕期血浆总蛋白和白蛋白水平低下，孕期贫血，孕妇吸烟或酗酒</li><li>高脂危害：增加冠心病的发病风险；心血管疾病死亡风险升高；增加肥胖风险。不会导致胃癌发病风险</li><li>不消化的碳水被称为益生元，包括：抗性淀粉、非淀粉多糖、菊粉、低聚果糖等</li><li>含钙丰富的食物：乳及乳制品、绿色菜、海带发菜、小鱼小虾、芝麻将、豆类、坚果、瓜子</li><li>维C功能包括：参与羟化反应（促进胶原、神经递质、类固醇羟化，有机物或毒物羟化解毒）；还原（抗体形成、铁吸收、四氢叶酸形成、维持疏基酶活性）；解毒；预防癌症；清楚自由基</li><li>Ca功能包括：维持骨骼牙齿；肌肉和神经的正常活动；参与血凝过程；掉进酶活性；过多会抑制其他Fe、Mg、P的吸收</li><li>凝血：维K、Ca</li><li>蛋白质不会影响维A的吸收，脂肪、维E（抗氧化）、胆汁促进，矿物油和寄生虫抑制</li><li>叶酸存在于：动物内脏、酵母、豆类、绿菜、水果、坚果</li><li>维A主要来源包括：肝脏、鱼肝油、奶类、蛋黄、黄绿色菜（有色的。不包括瘦肉</li><li>亚硫酸处理果蔬作用：防腐、抑酶、减少褐变，抑制食品发色因素。（无还原作用</li><li>学龄前儿童动物性食物的蛋白质摄入量达到50%</li><li>肱三头肌的皮褶提起点：肩峰与尺骨鹰嘴连线中点上方2cm，测量点在下方1cm</li><li>心血管疾病主要膳食危险因素：高钠、高脂肪、高能量、低膳食纤维</li><li>调查表编制基本原则：相关、客观、全面、适宜、设计合理、可比；</li><li>调查表表述问题时语言简洁、通俗易懂，问题内容应具体清晰、含义单一，避免双重或多重含义</li><li>调查表需要经过预调查（主观检验和客观评价</li><li>体重1岁以下取卧位，1-3岁取坐位</li><li>缺铁营养防治干预措施：营养教育；多吃含铁丰富的食物；对食品进行铁强化；加强妇幼保健、预防早产、做好喂养指导、纠正偏食；补充铁剂和维c</li><li>6-18岁BMI：＞21.4为超重，＞25.2为肥胖</li><li>营养素含量&#x3D;食物量（g）* 可食部比例 * 食物中某营养素的含量 &#x2F; 100g</li><li>成年人安全运动条件：一开始不做激烈运动；遵循自己步调；适宜服装和鞋子；炎热酷寒天气避免运动；水分补给充足；注意运动负荷；营养与睡眠充分；身体不适要停止运动</li><li>对于营养缺乏&#x2F;生长不良膳食指导意见<ul><li>增加鱼禽蛋、瘦肉、豆制品等富含优质蛋白质食物摄入。（不包括增加脂肪、谷类摄入</li><li>经常摄入奶及奶制品，每天新鲜蔬果</li><li>保证一日三餐，纠正偏食和节食等不健康行为</li><li>保持适宜身体活动</li></ul></li><li>膳食调查方法中，最准确且常用作金标准的方法是：称重法</li><li>可以进行营养声称条件：<ul><li>微量营养素：NRV≥15，≥30%（声称高&#x2F;富含）</li><li>蛋白质：≥10%，20%（富含声称</li></ul></li><li>对调查表初稿检查和分析时，需要注意回收率、有效回收率、填写错误和填写不全。（不包括失访率</li></ul><h2 id="四轮"><a href="#四轮" class="headerlink" title="四轮"></a>四轮</h2><ul><li>社会主义 道德基本规范：爱岗敬业、诚实守信、办事公道、服务群众、奉献社会</li><li>坚持以集体主义为原则，从业者应处理好多种关系，包括：正确处理个人与集体、局部与整体、用集体主义观点处理职业关系</li><li>胃酸：由胃壁细胞分泌的盐酸，可以激活胃蛋白酶原形成胃蛋白酶；维持胃内PH值，使钙、铁处理游离状态；杀死微生物；使蛋白质变形，更容易被消化酶分解；促进胰液和肠液的分泌；软化膳食纤维，减少纤维机械损伤</li><li>脂肪可以直接被吸收的形式：甘油、甘油单酯、中短链脂肪酸。蛋白质是氨基酸和小肽</li><li>B2主要来源于动物内脏、奶类、蛋黄。大豆和绿色菜也有，其他植物低（次要的，如果是问主要就不需要植物</li><li>维D较好食物来源：深海肥鱼、奶油、奶酪、蛋黄、肝脏</li><li>抗酸药不利于Fe、Ca吸收。</li><li>促进Fe吸收：肉因子、维C、单糖、有机酸、B2</li><li>Zn主要来源：海产品、红肉、动物内脏。植物也有，但不多，精细加工会导致大量丢失（次要的，如果问主要就不需要选</li><li>动物性食物中，赖、蛋、苏、色氨酸含量高，因此和植物性食物搭配，提高蛋白质互补作用</li><li>先天畸形：维A摄入不足或过多；叶酸、Zn缺乏；酗酒。（Fe缺乏、血糖升高不会导致畸形</li><li>单不饱和脂肪酸：橄榄油、茶油、菜籽油</li><li>多不饱和脂肪酸：亚麻籽油、核桃油、葡萄籽油、葵花子油、玉米油、鱼油</li><li>降血压：K、Ca、Mg</li><li>铁缺乏阶段<ul><li>铁减少期：储存铁减少、血清铁浓度下降</li><li>红细胞生成铁缺乏期：运铁蛋白浓度下降，游离原卟啉升高</li><li>缺铁性贫血：血红蛋白和红细胞比积下降，开始有临床症状</li></ul></li><li>维A检测指标：血清视黄醇、生理盲点、眼结膜印迹细胞学发、暗适应能力；临床是皮肤症状</li><li>口腔溃疡反复发作是由于：Zn、B2（不包括维A</li><li>B2（核黄素）实验室指标不包括硫胺素负荷（这个是B1的</li><li>水果中的有机酸：<ul><li>刺激消化腺分泌、增进食欲</li><li>有利于食物消化</li><li>保持一定酸度，对维C稳定性有保护作用</li><li>促进Ca、Fe吸收</li></ul></li><li>乳糖作用·<ul><li>提供碳水、能量</li><li>调节肠道菌群</li><li>促进Ca吸收</li><li>抑制大肠杆菌生长</li></ul></li><li>大豆及其制品的氨基酸平衡（因此如果说大豆氨基酸不平衡，是错误的）。大豆的脂肪含量挺高</li><li>1989年制定第一个膳食指南</li><li>制定膳食计划是，目标是RNI和UL之间，<strong>没有要大于EAR</strong></li><li>清淡少盐：不摄入过多动物性食物；少吃油炸、烟熏腌制的；不太咸；不油腻</li><li>三餐分配要合理: ***没有包括零食的!!!***，只定了早餐（25-30）午餐（30-40）晚餐（30-35），依据xxx调整，中高多摄入300、800kcal</li><li>富含蔬果的膳食在：保护心血管健康；减少儿童干眼症的危险；预防某些癌症；增强抗病能力起作用。不包括预防缺铁性贫血和预防能量-蛋白质不良</li><li>0-6月婴儿配方奶100ml能量：60-70，7-12月是60-75kcal</li><li>3岁钙500mg，9-17岁钙摄入量1000mg</li><li>叶酸AI是0.6，孕妇+0.4mg</li><li>乳母前六月每天泌乳量750ml</li><li>新生儿胃容量25-50ml</li><li>1000g乳汁需要多摄入850kcal</li><li>幼儿基础代谢占60%，生长发育占20-30%</li><li>6月婴儿每天通过母乳可以获得：200mg钙</li><li>I的UL：7-11岁250ug，12-14岁300ug，15-17岁500ug</li><li>盐摄入量：2-3岁：＜2g，中小学生：＜3g，普通：＜5g</li><li>4-5岁儿童每日食用蔬菜：150-300g</li><li>青少年每日绿叶蔬菜不低于300g，蔬菜一共500g</li><li>1IU维A&#x3D;0.3ug视黄醇</li><li>1ug视黄醇当量&#x3D;6ugβ-胡萝卜素</li><li>1ug视黄醇活性当量&#x3D;12ugβ-胡萝卜素&#x3D;2ug溶于油剂的纯品全反式β-胡萝卜素</li><li>碱性加热下不容易被破坏的是：维A</li><li>水果和瓜果类蔬菜蛋白质：0.2-1.3，叶菜和根茎类：1.3-2，鲜蘑菇和奶：2.5-3</li><li>预防学龄前儿童维a缺乏<ul><li>进食鸡蛋和牛奶</li><li>医生指导下补充鱼肝油</li><li>每天摄入深绿色或黄绿色蔬菜，<strong>不是每天进食新鲜水果</strong></li><li>每周进食动物肝脏</li></ul></li><li>幼儿期1岁后，全年增加2.5-3kg，平均每月0.25kg，2岁12kg，每年增加1.5-2kg</li><li>学龄前儿童：<ul><li>能量需求大于消耗</li><li>碳水是更容易利用的能源物质</li><li>早餐食量是一天的1&#x2F;3</li><li>钙摄入多于成人</li><li>此时缺碘，引起亚临床克汀病</li></ul></li><li>胎儿期缺碘引起克汀病，儿童期缺碘引起亚临床克汀病、侏儒症</li><li>老年人蛋白质代谢<ul><li>蛋白质丢失增加</li><li>合成速度减慢</li><li>易负氮平衡</li><li>不包括对必需氨基酸的吸收速度减慢、必需氨基酸种类较多</li></ul></li><li>社区营养工作的基本场所：<strong>社区</strong>；主要对象：<strong>基层组织</strong>；基本细胞：<strong>家庭</strong></li><li>营养教育效果评价近期：目标人群的知识、态度、信息、服务的变化。并不有行为</li><li>社区营养管理主要工作内容：了解社区人群营养和健康状况及其影响因素；社区营养改善；社区营养监测、干预、评价。不包括动员社区人群积极参与营养工作，制定营养教育计划</li><li>社区营养改善措施：普及知识，改善卫生条件，推行食品强化，补充营养素，调整膳食结构，推广家庭养殖业等</li><li>营养教育主要工作领域和对象：餐饮业、农业、商业、轻工、医疗卫生、疾病控制、中小学生</li><li>社区营养可以解决社区人群营养问题包括：食物生成供给、膳食结构、饮食行为、<strong>社会经济、营养政策、营养教育、营养学疾病预防</strong></li><li>毒伞属：脏器损伤型，细胞原浆毒，病情凶险，死亡率高</li><li>酒类卫生问题（眼醇，醉油，吐醛，氧氰<ul><li>甲醇：眼睛，视网膜受损、视神经萎缩，实例减退，双目失明</li><li>杂醇油：头痛、、醉酒</li><li>醛类：灼烧感和呕吐</li><li>氰化物：缺氧，窒息，呼吸中枢和血管运动中枢麻痹</li></ul></li><li>食品腐败变质控制方法：<ul><li>低温</li><li>高温杀菌</li><li>脱水干燥</li><li>提高渗透压</li><li>提高氢离子浓度</li><li>添加化学防腐剂</li><li>辐照</li></ul></li><li>人畜共患传染病：囊虫、炭疽、鼻疽、旋毛虫、口蹄疫、布氏杆菌</li><li>猪肉常见寄生虫：旋毛虫、囊虫、猪带条虫</li><li>膳食调查报告主体内容：居民食物摄入状况；居民膳食能量和主要营养素摄入状况；居民脂肪、蛋白质、能量来源；膳食评价</li><li>记账法一般不适用于个人，除非是由前提条件</li><li>数据库允许限定变量的取值范围（在建立数据库过程中设定<ul><li>避免数据录入错误</li><li>提高数据质量。（不是让数据更加真实</li></ul></li><li>每天对水的需求是3000ml，动态2500ml，内生300ml</li><li>身体活动水平：身体活动量和基础代谢。身体活动量包括运动时间、强度、频率和计划历时长度</li><li>运动四要素：运动类型、时间、频率、强度</li><li>营养教育基本方法：讲座、小组活动、个别劝导、咨询、培训</li><li>大肠菌群包括：埃希氏菌、柠檬酸杆菌、肠肝菌、克雷伯菌</li><li>铅中毒：造血神经系统，肾脏毒，慢性</li><li>甲基汞毒性：慢性、急性、亚慢性。神经损害，致畸和胚胎</li><li>单端孢霉烯族类化合物毒作用特点：较强细胞毒性、免疫抑制、致畸、部分致癌</li><li>粮豆类主要卫生问题：不包括脂肪和蛋白质腐败，肠道致病菌污染</li><li>食谱营养评价目的：（分析食谱食物来源和于其他食谱进行比较是食谱营养评价过程<ul><li>检查该食谱能否满足营养需要</li><li>发现是否有某些营养素缺乏</li><li>对食谱进行调整和纠正</li></ul></li><li>牛奶乳糖含量4.5-5.5，蛋白质和脂肪2.5-3.5，B2为0.1-0.2，钙110mg，P为70mg，非乳脂固体含量≥8.1</li><li>标准差：表示n次检测结果数据<strong>均值</strong>的离散性</li><li>食品营养价值包括<ul><li>营养素种类是否齐全</li><li>营养素比例和数量是否合理</li><li>营养素是否易于被人体消化吸收和利用</li></ul></li><li>甲（组氨酸）色缬赖异苯苏</li><li>n3：α-亚麻酸，20-5（EPA）、22-6（DHA）、18-4、20-4</li><li>n6：亚油酸、γ-亚麻酸、20-3、花生四烯酸（AA）、22-4、22-5</li><li>纸质宣传品优点：成本低、易阅读、易传播、形象具体、灵活多样、使用面广</li><li>居民营养健康信息调查表编制准备工作：根据调查目的编制<ul><li>确定调查主题</li><li>确定变量</li><li>探索性工作。（不包括调查表修订</li></ul></li><li>调查具体方法：观察法、自填问卷、访谈、专题小组讨论</li><li>调查问卷：现场调查、信函、电话</li><li>个人健康档案基本资料包括：人口学资料、健康行为、临床资料</li><li>经济发达国家模型属于以动物性为主的</li><li>大豆消化率：豆腐＞豆浆＞整粒大豆</li><li>蛋黄胆固醇很高，蛋蛋黄中所含的卵磷脂具有降低血胆固醇的作用</li><li>称重记账法应考虑<strong>食物消耗量和进餐人数的登记</strong></li><li>不溶性膳食纤维不能结合胆酸，无法降低血脂，包括木质素、半纤维素、纤维素</li><li>谷类糊粉层的淀粉少于胚乳，蛋白质、B族、矿物质、脂肪含量多于胚乳</li><li>B2会导致贫血，阴囊炎、口角炎、唇炎、脂溢性皮炎、脑功能失调，影响生长发育</li><li>学龄前期常见问题不包括佝偻病，佝偻病是幼儿期易发的</li><li>维AUL：3000mg</li><li>条件致病菌：葡萄球、链球、变形杆、韦氏梭、蜡样芽孢杆菌</li><li>骨软化病是由于维D缺乏，Ca缺乏是手足抽搐和骨质疏松</li><li>P缺乏会导致佝偻病骨骼异常，Mg缺乏会导致骨质疏松</li><li>社区调查目的：<ul><li>掌握社区人群健康或疾病状况的分布特征及变化趋势</li><li>探索健康的影响因素</li><li>明确和推测出社区现在和将来要出现的健康问题</li><li>促进健康、控制基本、提高社区健康水平的目的</li></ul></li><li>维C不会促进能量代谢，Ca和Fe竞争吸收</li><li>蛋白质不会促进维A吸收，促进维A吸收的包括维E或卵磷脂（抗氧化剂）、胆汁和脂肪</li><li>叶酸丰富：动物内脏、酵母、大豆、蔬果、坚果、鸡蛋、绿菜</li><li>视黄醇（维A）：蛋黄、内脏、鱼肝油、全奶。深绿或黄绿色</li><li>亚硫酸没有还原作用，有防腐、抑酶、减少褐变</li><li>社区营养管理内容：<ul><li>了解社区人群营养和健康状况及其影响因素</li><li>社区营养监测、干预和评价</li><li>社区营养<strong>改善</strong>：普及知识、改善条件、推行食品强化、调整膳食结构预防慢性疾病，推广家庭养殖业、补充营养素防治、营养教育</li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> 营养学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 营养学 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
