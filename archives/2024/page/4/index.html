<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  
  <title>Archives: 2024 | 欣のblog</title>
  <meta name="description" content="" />
  <meta name="keywords" content="" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <link rel="shortcut icon" href="/">
  <link rel="alternate" href="/atom.xml" title="欣のblog" type="application/atom+xml">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="欣のblog">
<meta property="og:url" content="https://1578536879.github.io/archives/2024/page/4/index.html">
<meta property="og:site_name" content="欣のblog">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
    
  <link href="https://fonts.googleapis.com/css?family=Inconsolata|Titillium+Web" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Roboto+Mono" rel="stylesheet">
  <link href='//cdn.bootcss.com/node-waves/0.7.5/waves.min.css' rel='stylesheet'>
  
<link rel="stylesheet" href="/style.css">

  <script>
    function setLoadingBarProgress(num) {
      document.getElementById('loading-bar').style.width=num+"%";
    }
  </script>
<meta name="generator" content="Hexo 7.1.1"></head>

<body>
  <div id="loading-bar-wrapper">
  <div id="loading-bar"></div>
</div>


  <script>setLoadingBarProgress(20)</script> 
  <header class="l_header">
	<div class='wrapper'>
		<div class="nav-main container container--flex">
			<a class="logo flat-box" href='/' >
				欣のblog
			</a>
			<div class='menu'>
				<ul class='h-list'>
					
						<li>
							<a class='flat-box nav-home' href='/'>
								Home
							</a>
						</li>
					
						<li>
							<a class='flat-box nav-archives' href='/archives'>
								Archives
							</a>
						</li>
					
						<li>
							<a class='flat-box nav-gallery' target="_blank" rel="noopener" href='https://photos.google.com/album/AF1QipNoqKYgspQo5O1YhlFXGCQ7p575KBH3Yxf8WHL4?hl=zh-CN'>
								Gallery
							</a>
						</li>
					
						<li>
							<a class='flat-box nav-about' href='/about'>
								About
							</a>
						</li>
					
				</ul>
				<div class='underline'></div>
			</div>
			
				<div class="m_search">
					<form name="searchform" class="form u-search-form">
						<input type="text" class="input u-search-input" placeholder="Search" />
						<span class="icon icon-search"></span>
					</form>
				</div>
			
			<ul class='switcher h-list'>
				
					<li class='s-search'><a href='javascript:void(0)'><span class="icon icon-search flat-box"></span></a></li>
				
				<li class='s-menu'><a href='javascript:void(0)'><span class="icon icon-menu flat-box"></span></a></li>
			</ul>
		</div>
		
		<div class='nav-sub container container--flex'>
			<a class="logo" class="flat-box" href='javascript:void(0)'>
				Word of Forks
			</a>

			<ul class='switcher h-list'>
				<li class='s-comment'><a href='javascript:void(0)'><span class="icon icon-chat_bubble_outline flat-box"></span></a></li>
				<li class='s-top'><a href='javascript:void(0)'><span class="icon icon-arrow_upward flat-box"></span></a></li>
				<li class='s-toc'><a href='javascript:void(0)'><span class="icon icon-format_list_numbered flat-box"></span></a></li>
			</ul>
		</div>
	</div>
</header>
<aside class="menu-phone">
	<nav>
		
			<a href="/" class="nav-home nav">
				Home
			</a>
		
			<a href="/archives" class="nav-archives nav">
				Archives
			</a>
		
			<a target="_blank" rel="noopener" href="https://photos.google.com/album/AF1QipNoqKYgspQo5O1YhlFXGCQ7p575KBH3Yxf8WHL4?hl=zh-CN" class="nav-gallery nav">
				Gallery
			</a>
		
			<a href="/about" class="nav-about nav">
				About
			</a>
		
	</nav>
</aside>

    <script>setLoadingBarProgress(40);</script>
  <div class="l_body">
    <div class='container clearfix'>
      <div class='l_main'>
        
	
  <script>
    window.subData= { title:'Year : 2024'}
  </script>

<section class="post-list">
	
    <div class='post-wrapper'>
      <article class="post reveal">
  <section class="meta">
    
    <h2 class="title">
      <a href="/2024/02/06/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%90webpack%E3%80%91%E9%85%8D%E7%BD%AE%E9%A1%B9/">
        【webpack】配置项
      </a>
    </h2>
    
    <time>
      Feb 6, 2024
    </time>
		
    
    <div class='cats'>
        <a href="/categories/webpack/">webpack</a>
    </div>

  </section>
  <section class="article typo">
	  <h1 id="entry"><a href="#entry" class="headerlink" title="entry"></a>entry</h1><h2 id="context"><a href="#context" class="headerlink" title="context"></a>context</h2><p>在查找相对路径时，以context为根目录。<br>默认为webpack启动时的所在工作目录。<br>注：context必须是一个绝对路径的字符串</p>
<h2 id="entry-1"><a href="#entry-1" class="headerlink" title="entry"></a>entry</h2><p>类型：string&#x2F;array&#x2F;object<br>｜类型｜例子｜说明｜<br>｜——-｜——-｜——-｜<br>｜string｜index•js｜入口模块的文件路径，可以是相对路径｜<br>｜array｜【index。js，index2。js】｜入口模块的文件路径，可以是相对路径｜<br>｜object｜{a：index。js}｜配置多个入口，每个入口生成一个chunk｜</p>
<p>如果是array，搭配output。library时，只有数组的最后一个入口文件的模块会被导出</p>
<h1 id="output"><a href="#output" class="headerlink" title="output"></a>output</h1><h2 id="filename"><a href="#filename" class="headerlink" title="filename"></a>filename</h2><ul>
<li>id：chunk的唯一标识，从0开始</li>
<li>name：chunk的名称</li>
<li>hash：chunk的唯一标识的hash值</li>
<li>chunkhash：chunk内容的hash</li>
</ul>
<h1 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h1><h2 id="target"><a href="#target" class="headerlink" title="target"></a>target</h2><p>代码运行的不同环境，默认为web</p>
<ul>
<li>web：针对浏览器，所有代码都集中到一个文件中</li>
<li>node：针对nodejs，使用require加载chunk模块</li>
<li>async-node：针对nodejs，异步加载chunk代码</li>
<li>webworker：针对webworker</li>
<li>electron-main：针对electon主线程</li>
<li>electron-rendrer：针对electron渲染线程</li>
</ul>
<h1 id="loader"><a href="#loader" class="headerlink" title="loader"></a>loader</h1><ul>
<li>svg- inline- loader：和raw- loader类似，但是会分析svg的内容，去除其不必要的部分，减少svg的体积</li>
</ul>
<h1 id="优化"><a href="#优化" class="headerlink" title="优化"></a>优化</h1><h2 id="缩小文件搜索范围"><a href="#缩小文件搜索范围" class="headerlink" title="缩小文件搜索范围"></a>缩小文件搜索范围</h2><ul>
<li><p>loader配置</p>
<blockquote>
<p>可以通过include去告诉webpack只有那些文件会被这个loader处理，用exclude排除不需要的文件</p>
</blockquote>
</li>
<li><p>优化resolve.modules配置<br>配置webpack去哪些目录下寻找第三方模块</p>
<blockquote>
<p>指明依赖包的具体目录位置，减少查询时间。</p>
</blockquote>
</li>
<li><p>优化reslove.main Fields配置<br>配置第三方模块使用哪个入口文件</p>
<blockquote>
<p>指明采用字段作为入口文件的描述字段，减少搜索步骤</p>
</blockquote>
</li>
</ul>
<p>注：需要考虑是否所有依赖包的第三方入口文件的描述字段，一个模块出错，就会导致所有的代码无法正常运行</p>
<ul>
<li><p>优化reslove.alias</p>
<blockquote>
<p>配置库的具体引用路径，减少查询时间</p>
</blockquote>
</li>
<li><p>resolve.extensions</p>
<blockquote>
<p>频率最高的放在最前面。</p>
</blockquote>
</li>
</ul>
<blockquote>
<p>列表不能太长</p>
</blockquote>
<ul>
<li>优化module.noParse</li>
</ul>
<h2 id="happypack"><a href="#happypack" class="headerlink" title="happypack"></a>happypack</h2><p>将任务分解给多个子进程去并发执行，子进程处理完后再将结果发送给主进程</p>
<h2 id="ParallelUglifyPlugin"><a href="#ParallelUglifyPlugin" class="headerlink" title="ParallelUglifyPlugin"></a>ParallelUglifyPlugin</h2><p>uglfyjs是webpack内置的，但是在构建线上代码时会卡住，即是在进行代码压缩。压缩代码需要将代码解析成用object抽象表示的ast语法树，再去应用各种规则分析和处理ast，因此导致这个过程计算量很大，非常耗时</p>
<p>ParallelUglifyPlugin会开启多个子线程，将对多个文件的压缩工作分配给多个子进程去完成，每个子进程还是用uglfyjs压缩。</p>
<h2 id="自动刷新"><a href="#自动刷新" class="headerlink" title="自动刷新"></a>自动刷新</h2><ul>
<li>文件监听原理：</li>
</ul>
<blockquote>
<p>定时获取文件的最后编辑时间，每次存下最新的最后编辑时间，如果发现当前的获取的时间和最后一次保存的编辑时间不一致，就认为该文件发生了变化</p>
</blockquote>
<blockquote>
<blockquote>
<p>watchOptions.poll用于控制定时时长，每秒检查多少次</p>
</blockquote>
</blockquote>
<blockquote>
<p>当某个文件被判定为发生了变化时，并不会立刻告诉监听者，而是会先缓存起来，搜集一段时间后，再一次性告诉监听者。</p>
<blockquote>
<p>watchOptions.aggregateTimeout 用于配置这个等待时间</p>
</blockquote>
</blockquote>
<ul>
<li>自动刷新原理</li>
</ul>
<p>控制浏览器自动刷新方法：</p>
<ol>
<li><p>借助浏览器扩展去通过浏览器的提供的借口刷新，比如webstorm的liveedit</p>
</li>
<li><p>向要开发的网页中注入代理客户端的代码，通过客户端的去刷新页面</p>
</li>
<li><p>将要开发的网页装入一个iframe中，通过刷新iframe去看到最新效果</p>
</li>
</ol>
<p>webpack通过devServer.inline控制是否向每个chunk中注入代理客户端，在开启inline时，devserver会向每个chunk注入代理客户端的代码，而项目中chunk有很多chunk，因此会导致构建缓慢。</p>
<p>启动项目时，可以通过执行命令webpack-dev-server。—inline false完成。那么就会采用第三种方式进行页面刷新。</p>
<h2 id="模块热替换"><a href="#模块热替换" class="headerlink" title="模块热替换"></a>模块热替换</h2><ul>
<li>原理</li>
</ul>
<p>和自动刷新原理类似，都需要在开发的网页中注入一个代理客户端来连接devserver和网页。当子模块发生更新时，更新事件会一层层向上传递，直到有某层的文件接收了当前变化的模块，这时就会掉用callback函数去执行自定义的逻辑。如果事件一直往上抛，到最外层都没有事件接收他，那么会直接刷新页面。</p>
<ul>
<li>优化</li>
</ul>
<p>监听更少的文件，忽略nodemodules目录下的文件。</p>
<h1 id="cdn加速"><a href="#cdn加速" class="headerlink" title="cdn加速"></a>cdn加速</h1><ul>
<li>缓存问题</li>
</ul>
<p>cdn一般会为资源开启很长时间的缓存，可能会导致最新的发布不能用</p>
<blockquote>
<p>针对html入口文件，放到自己的服务器中，关闭自己服务器上的缓存，自己的服务器只提供html和数据接口</p>
</blockquote>
<blockquote>
<p>针对静态的js，css，图片等文件，开启cdn和缓存，每个文件带自己内容的hash值</p>
</blockquote>
<ul>
<li>使用</li>
</ul>
<blockquote>
<p>在output.publicPath设置js的地址</p>
</blockquote>
<blockquote>
<p>在css-loader.publicPath设置css导入的资源地址</p>
</blockquote>
<blockquote>
<p>在webplugin.stylepublicpath设置css文件的地址</p>
</blockquote>
<h2 id="压缩代码"><a href="#压缩代码" class="headerlink" title="压缩代码"></a>压缩代码</h2><ul>
<li>js</li>
</ul>
<blockquote>
<p>使用 uglifyplugin和paralleugifyplugin（多线程）进行压缩</p>
</blockquote>
<ul>
<li>压缩es6</li>
</ul>
<blockquote>
<p>优点：对于一样的逻辑，es6代码量少于es5；js对es6的语法做了性能优化，例如针对const声明的变量有更快的读取速度。</p>
</blockquote>
<blockquote>
<p>使用uglifyes进行压缩</p>
</blockquote>
<ul>
<li>压缩css</li>
</ul>
<blockquote>
<p>使用cssnano进行压缩</p>
</blockquote>
<h2 id="tree-shaking去除无用的死代码"><a href="#tree-shaking去除无用的死代码" class="headerlink" title="tree shaking去除无用的死代码"></a>tree shaking去除无用的死代码</h2><p>配置babel保留es6模块化语句，presets：modules：false</p>
<p>启动时带上—display-used- exports参数，指出哪些函数有用和无用。</p>
<p>启动时带上—optimize-minimize去除无用代码</p>
<p>配置reslove.mainfields，优先采用jsnext：main（第三方包打包出的es6模块）</p>
<p>export default无法做tree shaking，因为导出的是一整个对象</p>
<h2 id="提取公共代码"><a href="#提取公共代码" class="headerlink" title="提取公共代码"></a>提取公共代码</h2><blockquote>
<p>使用commonchunkplugin</p>
</blockquote>
<h2 id="分割代码按需加载"><a href="#分割代码按需加载" class="headerlink" title="分割代码按需加载"></a>分割代码按需加载</h2><blockquote>
<p>原则</p>
</blockquote>
<p>1: 将整个网站划分成一个个小功能，再按照每个功能的相关程度将它们分成几类。</p>
<p>2: 将每一类合并为一个chunk，按需加载对应的chunk</p>
<p>3: 不要按需加载用户首次打开网站时需要看到的画面所对应的功能，将其放入执行入口所在的chunk中，以减少用户能感知的网页加载时间</p>
<p>4: 对于不依赖大量代码的功能点，例如依赖echart画图，将其进行按需加载</p>
<blockquote>
<p>webpackChunkName：name</p>
</blockquote>
<p>import（&#x2F;* webpackChunkName：name *&#x2F; path）：为动态生成的chunk赋予一个名称，方便追踪和调试代码，若不指定名称，那么默认为[id].js</p>
<p>以path路径下的文件为入口重新生成一个chunk，当代码执行到import所在的语句时，才会去加载chunk对应生成的文件。import会返回一个promise，当文件加载成功时可以在promise的then方法获取对应的文件内容。</p>
<h2 id="scope-hoisting"><a href="#scope-hoisting" class="headerlink" title="scope hoisting"></a>scope hoisting</h2><blockquote>
<p>实现原理</p>
</blockquote>
<p>分析模块之间的依赖关系，尽可能将被打散的模块合并到一个函数中。但前提是不能造成代码冗余，因此只有被引用了一次的模块才能被合并。</p>
<h2 id="prepack"><a href="#prepack" class="headerlink" title="prepack"></a>prepack</h2><blockquote>
<p>在保持运行结果一致的情况下，改变源码的运行逻辑，输出性能更好的js代码</p>
</blockquote>
<p>工作流程：</p>
<p>1: 通过Babel将js源码解析成抽象语法树，以更细粒度地分析yuanma</p>
<p>2: prepack实现了一个js解释器，用于执行源码。借助这个解释器，prepack才能理解源码具体是如何执行的，并将执行过程中的结果返回到输出中。</p>
<p>使用prepack-webpack-plugin插件。</p>
<h2 id="可视化打包结果"><a href="#可视化打包结果" class="headerlink" title="可视化打包结果"></a>可视化打包结果</h2><ul>
<li><p>webpack-bundle- analyzer</p>
</li>
<li><p><a target="_blank" rel="noopener" href="http://wepack.github.io/analyse">http://wepack.github.io/analyse</a></p>
</li>
</ul>


    
    
    
  </section>
</article>
    </div>
  
    <div class='post-wrapper'>
      <article class="post reveal">
  <section class="meta">
    
    <h2 class="title">
      <a href="/2024/02/06/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%90webpack%E3%80%91%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/">
        【webpack】工作流程
      </a>
    </h2>
    
    <time>
      Feb 6, 2024
    </time>
		
    
    <div class='cats'>
        <a href="/categories/webpack/">webpack</a>
    </div>

  </section>
  <section class="article typo">
	  <p><a target="_blank" rel="noopener" href="http://wepack.wuhaolin.cn/5-2%E8%BE%93%E5%87%BA%E6%96%87%E4%BB%B6%E5%88%86%E6%9E%90.zip">http://wepack.wuhaolin.cn/5-2输出文件分析.zip</a></p>
<p>bundle.js能直接中浏览器运行是因为输出的文件中通过__webpack_require__定义了一个可以在浏览器执行的加载函数，模拟nodejs的require。</p>
<p>原本一个个独立的模块文件被合并到了一个单独的bundle.js的原因是浏览器不能像nodejs一样快速在本地加载一个个模块文件，而必须通过网络请求去加载还未得到的文件。如果模块数量很多，那么加载时间会很长，因此将所有模块都存放到了数组中，执行一次网络加载。</p>
<h2 id="流程概括"><a href="#流程概括" class="headerlink" title="流程概括"></a>流程概括</h2><h3 id="初始化参数"><a href="#初始化参数" class="headerlink" title="初始化参数"></a>初始化参数</h3><ul>
<li>从配置文件和shell语句中读取和合并参数，得出最终的参数</li>
</ul>
<h4 id="发生事件"><a href="#发生事件" class="headerlink" title="发生事件"></a>发生事件</h4><table>
<thead>
<tr>
<th>event name</th>
<th>desc</th>
</tr>
</thead>
<tbody><tr>
<td>初始化参数</td>
<td>从配置文件和shell语句中读取合并参数，得出最终的参数，在这个过程中还会执行配置文件中的插件实例化语句 new Plugin（）</td>
</tr>
<tr>
<td>实例化compiler</td>
<td>用上一步得到的参数初始化compiler实例，compiler负责文件监听和启动编译，在compiler实例中包含了完整的webpack配置，全局只有一个compiler实例</td>
</tr>
<tr>
<td>加载插件</td>
<td>依次调用插件的apply方法，让插件可以监听后续的所有事件节点。同时向插件传入compiler实例的引用，以方便插件通过compiler调用webpack提供的api</td>
</tr>
<tr>
<td>environment</td>
<td>开始应用nodejs风格的文件系统到complier对象，以方便后续的文件寻找和读取</td>
</tr>
<tr>
<td>entry-option</td>
<td>读取配置的entrys，为每个entry实例化一个对应的entrypath，为后面该entry的递归解析工作做准备</td>
</tr>
<tr>
<td>after-plugins</td>
<td>调用完所有的内置和配置的插件apply方法</td>
</tr>
<tr>
<td>after-resolvers</td>
<td>根据配置初始化resolver，resolver负责在文件系统中寻找指定路径的文件</td>
</tr>
</tbody></table>
<h3 id="编译阶段"><a href="#编译阶段" class="headerlink" title="编译阶段"></a>编译阶段</h3><h4 id="开始编译"><a href="#开始编译" class="headerlink" title="开始编译"></a>开始编译</h4><ul>
<li>用上一步得到的参数初始化compiler对象，加载所有配置的插件，通过执行对象的run方法开始执行编译</li>
</ul>
<h4 id="确定入口"><a href="#确定入口" class="headerlink" title="确定入口"></a>确定入口</h4><ul>
<li>配置的entry找出所有的入口文件</li>
</ul>
<h4 id="编译模块"><a href="#编译模块" class="headerlink" title="编译模块"></a>编译模块</h4><p>从入口文件出发，调用所有的配置的loader对模块进行翻译，再找出模块依赖的模块，再递归本步骤直至所有的入口依赖的文件都经过本步骤的处理</p>
<h4 id="完成编译模块"><a href="#完成编译模块" class="headerlink" title="完成编译模块"></a>完成编译模块</h4><p>使用loader翻译完所有的模块后，得到每个模块被翻译后的最终内容以及它们之间的依赖关系</p>
<h4 id="发生事件-1"><a href="#发生事件-1" class="headerlink" title="发生事件"></a>发生事件</h4><table>
<thead>
<tr>
<th>事件</th>
<th>解释</th>
</tr>
</thead>
<tbody><tr>
<td>run</td>
<td>启动一次新的编译</td>
</tr>
<tr>
<td>watch-run</td>
<td>和run类似，但是是在监听模式下启动编译，可以获取是哪些文件发生变化导致重新启动编译</td>
</tr>
<tr>
<td>compile</td>
<td>告诉插件一次新的编译将要启动，同时会给插件带上compiler对象</td>
</tr>
<tr>
<td>compilation</td>
<td>当webpack以开发模式运行时，每当检测到文件的变化，便有一次新的Compilation被创建。一个Compilation对象包含了当前当模块资源，编译生成资源，变化的文件等，此对象也提供很多事件回调给插件进行扩展</td>
</tr>
<tr>
<td>make</td>
<td>一个新的Compilation创建完毕，即将从entry开始读取文件，根据文件当类型和配置的loader对文件进行编译，编译完成后再找出该文件依赖的文件，递归的编译解析</td>
</tr>
<tr>
<td>after-compile</td>
<td>一次Compilation执行完成</td>
</tr>
<tr>
<td>invalid</td>
<td>当遇到文件不存在，文件编译错误等异常时会触发该事件，该事件不会导致webpack退出</td>
</tr>
</tbody></table>
<h4 id="compilation阶段的事件"><a href="#compilation阶段的事件" class="headerlink" title="compilation阶段的事件"></a>compilation阶段的事件</h4><table>
<thead>
<tr>
<th>事件</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>build-module</td>
<td>使用对应的loader去转换一个模块</td>
</tr>
<tr>
<td>normal- module- loader</td>
<td>在用loader转换完一个模块后，使用acorn解析转换后的内容，输出对应的ast，方便web pack对后面的代码进行分析</td>
</tr>
<tr>
<td>program</td>
<td>从配置的入口模块开始，分析其ast，当遇到require等导入其他模块的语句时，便将其加入依赖的模块列表中，同时对新找出的依赖模块递归分析，最终弄清所有模块的依赖关系</td>
</tr>
<tr>
<td>seal</td>
<td>所有模块及其依赖的模块都通过loader转换完成，依据依赖关系开始生成chunk</td>
</tr>
</tbody></table>
<h3 id="输出阶段"><a href="#输出阶段" class="headerlink" title="输出阶段"></a>输出阶段</h3><h4 id="输出资源"><a href="#输出资源" class="headerlink" title="输出资源"></a>输出资源</h4><p>根据入口和模块之间的依赖关系，组装成一个个包含多个模块的chunk，再将每个chunk转换成一个单独的文件加入输出列表中。</p>
<h4 id="输出完成"><a href="#输出完成" class="headerlink" title="输出完成"></a>输出完成</h4><p>确定好输出内容后，根据配置确定输出的路径和文件名，将文件的内容写入文件系统中</p>
<h4 id="发生事件-2"><a href="#发生事件-2" class="headerlink" title="发生事件"></a>发生事件</h4><table>
<thead>
<tr>
<th>事件</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>should-emit</td>
<td>所有需要输出的文件已经生成，询问插件哪些文件需要输出，哪些不需要输出</td>
</tr>
<tr>
<td>emit</td>
<td>确定好要输出哪些文件后，执行文件输出，可以在此回调中获取和修改输出的内容</td>
</tr>
<tr>
<td>after-emit</td>
<td>文件输出完毕</td>
</tr>
<tr>
<td>done</td>
<td>成功完成一次完整的编译输出流程</td>
</tr>
<tr>
<td>failed</td>
<td>如果在编译和输出的流程中遇到异常，导致webpack退出，就会直接跳转到本步骤，插件在本事件中可以获取具体的错误原因</td>
</tr>
</tbody></table>
<h2 id="事件流"><a href="#事件流" class="headerlink" title="事件流"></a>事件流</h2><p>webpack通过tapable来组织广播打包流程。webpack在运行时会广播事件，插件只需要监听它所关心的事件，就能加入这条线中，去改变打包的结果。</p>
<p>webpack的事件流机制保证了插件的有序性，使得整个系统的扩展性良好。事件流机制应用了观察者模式，和nodejs的eventemitter类似。compiler和compilation都继承至tapable，可以直接中在complier和compilation对象上广播和监听事件。</p>


    
    
    
  </section>
</article>
    </div>
  
    <div class='post-wrapper'>
      <article class="post reveal">
  <section class="meta">
    
    <h2 class="title">
      <a href="/2024/02/06/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%90Web3%E3%80%91%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D/">
        【Web3】基本介绍
      </a>
    </h2>
    
    <time>
      Feb 6, 2024
    </time>
		
    
    <div class='cats'>
        <a href="/categories/Defi/">Defi</a>
    </div>

  </section>
  <section class="article typo">
	  <h2 id="钱包"><a href="#钱包" class="headerlink" title="钱包"></a>钱包</h2><h3 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h3><p>用硬件或软件的方式，可以访问资金，与去中心化应用程序进行交互，充当无银行金融服务的网关、收集NFT、创建链上身份与社区，并提供比传统钱包更多的用途</p>
<h3 id="组成条件"><a href="#组成条件" class="headerlink" title="组成条件"></a>组成条件</h3><ul>
<li>公钥：链接到自己可以发售和接收交易的地址</li>
<li>私钥：用于签署新交易并允许访问资金，必须保密</li>
<li>种子短语：用于生成多个私钥。作为根密钥，可以访问用户钱包中其他密钥和地址，也可以创建新的密钥</li>
</ul>
<h3 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h3><h4 id="热钱包（软钱包）"><a href="#热钱包（软钱包）" class="headerlink" title="热钱包（软钱包）"></a>热钱包（软钱包）</h4><p>可以存储、发送、接收和查看代币，所以比其他类型的钱包更加方便</p>
<ul>
<li>托管地：可以访问互联网和加密货币网络的设备上</li>
<li>实用性：最高</li>
<li>安全性：容易收到黑客攻击，因为连接到网络了</li>
</ul>
<h4 id="桌面钱包"><a href="#桌面钱包" class="headerlink" title="桌面钱包"></a>桌面钱包</h4><p>会被作为应用程序下载到电脑上，在本地运行<br>被认为是可用的，最安全的热钱包类型</p>
<ul>
<li>托管地：电脑</li>
</ul>
<h4 id="网络钱包"><a href="#网络钱包" class="headerlink" title="网络钱包"></a>网络钱包</h4><p>允许通过浏览器界面进行交互和访问，无须在本地设备上下载或者安装任何内容<br>具有与桌面钱包完全相同的功能，使用相同的区块链和区块浏览器来搜索区块和交易</p>
<ul>
<li>托管地：其他人的计算机或者服务器上</li>
</ul>
<h4 id="手机钱包"><a href="#手机钱包" class="headerlink" title="手机钱包"></a>手机钱包</h4><p>与桌面钱包类似，只是托管地是手机<br>与桌面钱包相比，手机钱包的功能相对更简单一些</p>
<h4 id="冷钱包"><a href="#冷钱包" class="headerlink" title="冷钱包"></a>冷钱包</h4><p>无须连接到互联网，那么这就使得冷钱包是存储加密货币的更安全的替代方案，因为有物理介质可以离线存储密钥</p>
<ul>
<li>安全性：抵抗黑客能力更强，对长期投资者来说很实用</li>
</ul>
<h4 id="硬件钱包"><a href="#硬件钱包" class="headerlink" title="硬件钱包"></a>硬件钱包</h4><p>使用随机生成器生成公钥和私钥的物理电子设备<br>最适合长期投资和存储使用，因为它们不太容易获得</p>
<ul>
<li>主要用例：确保未分配的、用于持续使用的大笔资金的安全性</li>
<li>安全性：最安全的存储方案之一，因为能够在设备中保存公钥和私钥，而无须借助任何互联网连接。这样对加密货币的访问是处于离线状态</li>
</ul>
<h4 id="纸钱包"><a href="#纸钱包" class="headerlink" title="纸钱包"></a>纸钱包</h4><p>由物理打印出的区块链地址和私钥组成，到纸上。这些信息会被打印成二维码，可以通过扫描二维码来汇款</p>
<ul>
<li>托管地：纸</li>
<li>缺点；只能一次性发送全部余额，不能多次发送部分</li>
</ul>
<h4 id="市面上主流钱包"><a href="#市面上主流钱包" class="headerlink" title="市面上主流钱包"></a>市面上主流钱包</h4><blockquote>
<p>以太坊钱包</p>
</blockquote>
<ul>
<li><p>metamask</p>
</li>
<li><p>trust Wallet</p>
</li>
<li><p>argent</p>
</li>
<li><p>imToken</p>
</li>
</ul>
<blockquote>
<p>其他生态</p>
</blockquote>
<ul>
<li><p>phantom：Solana生态</p>
</li>
<li><p>keplr：Cosmos生态</p>
</li>
<li><p>polkadot：Polkadot生态</p>
</li>
<li><p>tezos：Temple生态</p>
</li>
</ul>
<h2 id="助记词"><a href="#助记词" class="headerlink" title="助记词"></a>助记词</h2><p>由于私钥一般情况下，都非常冗长复杂，不适合记忆，为了方便使用，密码学家将其简化成了12或者24位不等的单词或者中文字符，简化之后的就被称为助记词</p>
<p>即：</p>
<ul>
<li><p>助记词是密钥的另外一种形式</p>
</li>
<li><p>通过助记词可以获取相关的多个私钥，但是通过私钥无法获取助记词</p>
</li>
</ul>
<h2 id="区块链浏览器"><a href="#区块链浏览器" class="headerlink" title="区块链浏览器"></a>区块链浏览器</h2><h3 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h3><p>区块链浏览器是一种软件，它使用api和区块链节点从区块链中提取各种数据，然后使用数据库来排列搜索到的数据，并以可搜索的格式将数据呈现给用户</p>
<h3 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h3><p>区块链钱包可以提供不同类型的数据，但仅限于与钱包管理的密钥相关的数据。区块链浏览器用于查看与在给定区块链的所有钱包上执行的交易相关的数据。<br>特殊之处就是在于透明度，它允许用户检查智能合约地址的余额和支出，如当用户参数首次代币发行时。</p>
<h3 id="作用-1"><a href="#作用-1" class="headerlink" title="作用"></a>作用</h3><ul>
<li>查看任何钱包地址的交易历史<br>能够审计任何钱包地址并提高区块链的透明度</li>
<li>查看接收和更改地址<br>可以查看交易接收地址、更改地址。将加密货币返回给支出者，以防输入值过多用于交易费用，提高了交易的透明度</li>
<li>查看当天最大的交易</li>
<li>查看内存池的状态<br>可以查看区块链上未确认的交易及其详细信息</li>
<li>查看双花交易<br>部门浏览器支持</li>
<li>查看孤立和陈旧区块<br>孤立区块：挖掘之后没有附加到最长的区块链上，并且它们的父区块链是未知的</li>
</ul>
<p>陈旧区块：已知父区块链，但未链接到已知最长链的区块</p>
<ul>
<li><p>查看发现或开采特点区块的个人或矿池</p>
</li>
<li><p>查看创世区块</p>
</li>
<li><p>允许用户查看交易费用、区块链难度、哈希率和其他数据</p>
</li>
</ul>
<h3 id="优势"><a href="#优势" class="headerlink" title="优势"></a>优势</h3><ul>
<li><p>将加密货币发送给某人之前会检查钱包地址是否对区块链有效</p>
</li>
<li><p>检查加密货币是否已经发送给目标个人。所有者可以检查他们的钱包余额</p>
</li>
<li><p>可以帮助解释尚未通过或确认的交易出现的问题以及查看确认jieduan</p>
</li>
<li><p>帮助用户了解交易或Gas当前的成本，从而帮助计划未来的Gas支出</p>
</li>
<li><p>帮助用户了解某个组是不是挖掘交易的人，并有助于决定是否为未来的挖掘活动投入更多的计算资源</p>
</li>
<li><p>可以帮助正在开发钱包的人，如果它可以进行正常的工作（发送、接收、存储和加密货币）</p>
</li>
<li><p>与其他软件一起使用，可以证实数据和信息</p>
</li>
</ul>
<h3 id="工作流程"><a href="#工作流程" class="headerlink" title="工作流程"></a>工作流程</h3><ul>
<li><p>资源管理器首先使用节点接口提取给定区块链中的所有数据，一旦它导出数据，就会将其存储在可搜索的表格中</p>
</li>
<li><p>将收集最新的交易和区块，根据定义的可搜索类别进行排列。它为用户提供了一个界面用于搜索。在技术方面，资源管理器可以使用关系数据库、sql数据库和api</p>
</li>
</ul>
<p>每个区块链节点都可以直接读取区块链上的数据，获取最新交易和挖掘区块等数据等详细信息，然后将其发送到数据库，其中数据以可搜索表格的形式排列，使得资源管理器可以快速使用这些数据。</p>
<p>大部分的区块链使用表格，每一行都有唯一的id或者键用于区分</p>
<h2 id="域名系统"><a href="#域名系统" class="headerlink" title="域名系统"></a>域名系统</h2><p>在区块链中，域名系统和网络中的域名概念不同。区块链中，域名指向的是钱包地址，是一种身份的关联和映射，解决了ip或钱包地址过长的问题</p>
<h3 id="ENS域名系统"><a href="#ENS域名系统" class="headerlink" title="ENS域名系统"></a>ENS域名系统</h3><h4 id="含义"><a href="#含义" class="headerlink" title="含义"></a>含义</h4><p>ens由两个以太坊智能合约组成：记录域名的ens注册表和将域名与机器的可读地址互相转换的解析器</p>
<h4 id="获取"><a href="#获取" class="headerlink" title="获取"></a>获取</h4><p>在ens app上注册</p>
<h3 id="DAS域名账户系统"><a href="#DAS域名账户系统" class="headerlink" title="DAS域名账户系统"></a>DAS域名账户系统</h3><h4 id="含义-1"><a href="#含义-1" class="headerlink" title="含义"></a>含义</h4><p>das是web3的去中心化身份认证系统，和ens类似，允许用户将个人域名绑定都适用所有链的人类可读地址。</p>
<h2 id="预言机"><a href="#预言机" class="headerlink" title="预言机"></a>预言机</h2><p>预言机充当区块链上的app接口，通过查询可以获取智能合约的相关信息。预言机也可以向真实世界发送数据</p>
<h3 id="背景-1"><a href="#背景-1" class="headerlink" title="背景"></a>背景</h3><p>大多数区块链都有用于转移价值、启用协议操作或促进治理的本地加密货币，一些区块链支持智能合约，而智能合约可以在没有第三方的情况下执行，并且可以设计为执行几乎任何可以想象得到的合约。</p>
<p>区块链和链上智能合约需要一种方法来利用外部的链下数据，以便智能合约执行影响现实世界的app，因此预言机就需要被用到</p>
<h3 id="分类-1"><a href="#分类-1" class="headerlink" title="分类"></a>分类</h3><ul>
<li>软件预言机</li>
</ul>
<p>提供来自网站、服务器或数据库等数字源的数据。可以提供实时信息</p>
<ul>
<li>硬件预言机</li>
</ul>
<p>提供来自现实世界的数据，可以传递和中继来自项目运动传感器</p>
<ul>
<li>集中式预言机</li>
</ul>
<p>它由单个实体控制，并充当智能合约的唯一数据提供者。它要求合同参与者对一个实体给予极大的信任；它还代表单点故障，这可能会威胁到智能合约的安全性，如果预言机被破坏，智能合约也会被破坏。智能合约的准确性和有效性在很大程度上取决于所提供数据的质量，因此预言机对智能合约有很大的权利。</p>
<p>预言机问题：预言机可以使智能合约在去信任方之间执行，但当他变得过度中心化时，可能会有它试图成为中间人的风险。</p>
<ul>
<li>去中心化预言机</li>
</ul>
<p>去中心化预言机试图实现依赖因果关系而不是个人关系的去信任和确定性结果。它以与区块链网络相同的方式实现这些结果，在许多网络参与者之间分配信任。通过利用许多不同的数据源并实施不受单个实体控制的预言机系统，去中心化的预言机网络可能成为为智能合约提供更高级别的安全性和公平性。</p>
<h3 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h3><p>Chainlink</p>


    
    
    
  </section>
</article>
    </div>
  
    <div class='post-wrapper'>
      <article class="post reveal">
  <section class="meta">
    
    <h2 class="title">
      <a href="/2024/02/06/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%90Web3%E3%80%91%E5%8E%BB%E4%B8%AD%E5%BF%83%E5%8C%96%E5%AD%98%E5%82%A8%E5%8D%8F%E8%AE%AE/">
        【Web3】去中心化存储协议
      </a>
    </h2>
    
    <time>
      Feb 6, 2024
    </time>
		
    
    <div class='cats'>
        <a href="/categories/Defi/">Defi</a>
    </div>

  </section>
  <section class="article typo">
	  <h2 id="IPFS"><a href="#IPFS" class="headerlink" title="IPFS"></a>IPFS</h2><h3 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h3><p>ipfs星际文件系统是一种点对点的文件的共享协议。ipfs用于存储和访问文件、网站、app和数据，使用内容寻址来识别连接所有计算设备的全局命名空间中的每个文件。ipfs不是通过位置，而是通过文件内容进行文件寻址的。为了识别内容，使用内容的加密hash值。</p>
<p>ifps允许用户通过对等文件共享以分散的方式托管和接收内容，那么这样表示用户操作员拥有一部份整体数据，从而创建了一个强大的文件存储和共享系统。网络中的任何用户都可以简单的通过文件的内容地址来提供文件，其他用户可以通过分布式hash表（dht）定位并请求任何拥有该内容的人。</p>
<h3 id="工作流程"><a href="#工作流程" class="headerlink" title="工作流程"></a>工作流程</h3><p>组成组件：</p>
<ul>
<li>分布式哈希表（dht</li>
</ul>
<p>dht使用散列函数来计算索引，用户可以从中找到需要的值。即数据分布在计算机网络中，并进行协调，实现节点的分布式间的高效访问和查找。</p>
<ul>
<li><p>优势：去中心化程度高、容错性能、可扩展性高</p>
</li>
<li><p>bitTorrent</p>
</li>
</ul>
<p>是一种文件共享系统，能够通过数据交换协议来协调节点间的数据传输。但仅适用于Torrent系统。而ipfs提供bitswap，是该协议的更加通用版本</p>
<ul>
<li>merkle dag</li>
</ul>
<p>它是merkle树和有向无环图（dag）的组合，merkle树负责确保p2p网络上交换的数据块是正确的，并且绝对不会发生变化。</p>
<p>验证是使用加密散列函数组织数据块完成的，该函数接受输入并计算与该输入对应的唯一散列，以确保产生的散列比较简单，但很难通过散列猜测输入</p>
<p>dag是一种没有环的拓扑信息序列进行建模的方法。家谱是dag的基本表示。merkle dag本质上是一种数据结构，其中hash值用于引用数据块和对象。</p>
<p>ipfs的主要原理是在广义merkle dag上所有数据进行建模</p>
<ul>
<li>sfs：自认证文件系统</li>
</ul>
<p>sfs是一种分布式文件系统，不需要特殊权限即可交换数据。提供给用户的数据仅提供文件名进行身份验证，该文件名由服务器签名，即用户可以通过本地存储的透明性安全的访问远程内容</p>
<h3 id="优势"><a href="#优势" class="headerlink" title="优势"></a>优势</h3><p>去中心化的ifps有一个主要目标：可以从不由一个组织管理的多个位置下载一个文件</p>
<ul>
<li>支持强大的互联网。当无法访问服务器时，可以从其他人检索到相同的信息</li>
<li>增加审查内容的难度。因为ipfs上的文件可能来自多个位置</li>
</ul>
<h2 id="arweave"><a href="#arweave" class="headerlink" title="arweave"></a>arweave</h2><h3 id="定义-1"><a href="#定义-1" class="headerlink" title="定义"></a>定义</h3><p>arweave可以看作为使用区块链开安全、永久地存储全球信息的去中心化协议。</p>
<p>arweave的p2p协议允许硬盘驱动器中拥有大存储空间的各种用户（节点）连接到arweave网络，并为他人存储数据，然后ar网络会奖励这些节点。当存储在特定系统中的数据逐渐增加，共识需要的散列量减少，从而产生更具有成本效益的数据存储。</p>
<h3 id="工作流程-1"><a href="#工作流程-1" class="headerlink" title="工作流程"></a>工作流程</h3><p>arweave包含blokcweave和permaweb</p>
<blockquote>
<p>blockweave</p>
</blockquote>
<p>blockweave除了存储交易信息外，还存储每个区块的数据信息。blockweave上的每个块都引用其前一个块，前一个块被附加到一个随机选择到块上，即召回块。</p>
<p>arweave协议通过部署一种名为SPoRA的全新共识机制启用此架构，这种共识机制奖励网络中的参与节点存储arweare的所有交易历史。</p>
<p>例如如果想管理其中一个节点，要获取区块奖励，那么必须向blockweave证明可以完全访问前一个区块的数据以及一些随机选择的召回块。如果无权访问召回块，那么就知道没有将所有的交易数据全部放在arweave区块链上，因此会拒绝奖励。</p>
<blockquote>
<p>permaweb</p>
</blockquote>
<p>建立在arweave区块链上的去中心化网络，存储所有arweave dapps的地方。arweave使用http，用permaweb可以与网络进行交互</p>
<h3 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h3><ul>
<li>使用方便</li>
</ul>
<p>技术细节都放在后端；使用扩展程序保存的页面可以由去中心化的网络中的其他用户查看和共享</p>
<ul>
<li><p>不变性</p>
</li>
<li><p>以用户和开发人员为中心的精神</p>
</li>
</ul>
<p>它奖励并鼓励开发人员提高所构建的app的质量。推动开发人员并建立和参与使用其dapp的社区。</p>
<h3 id="优缺点"><a href="#优缺点" class="headerlink" title="优缺点"></a>优缺点</h3><ul>
<li><p>优点</p>
</li>
<li><p>数据不会被丢失</p>
</li>
<li><p>每秒可以处理超5k笔交易</p>
</li>
<li><p>ar代币有相当稳定的历史价格走势。</p>
</li>
<li><p>缺点</p>
</li>
<li><p>解决可扩展性问题的协议可能不被人相信</p>
</li>
</ul>
<h2 id="icp协议：去中心化计算机"><a href="#icp协议：去中心化计算机" class="headerlink" title="icp协议：去中心化计算机"></a>icp协议：去中心化计算机</h2><h3 id="定义-2"><a href="#定义-2" class="headerlink" title="定义"></a>定义</h3><p>icp是一种完善的区块链开发方案的聚合，使在线开发人员能够不再依赖商业云服务、数据库服务器、web服务器、dns服务、防火墙以及大型科技企业的专有应用程序编程接口。开发人员使用icp将可以自由地构建和部署安全、自主和防篡改的计算单元，这种计算单元类似于docker，它几乎可以完成任何事情。</p>
<p>icp是基于智能合约演变来的，它以分布式、复制的方式运行软件，同时还能捕获该软件程序状态的完整技术。用户通过互联网身份与这些容器进行交互，这是一种匿名区块链身份验证框架，将在线活动与物理技术设备相关联</p>
<blockquote>
<p>重要性</p>
</blockquote>
<ul>
<li><p>icp作为一种区块链技术，仍然具有民主精神，参与者可以通过质押icp投票决定icp的未来。</p>
</li>
<li><p>icp设计初衷是保护用户的数字身份，防止其被广告商、黑客和其他恶意软件滥用。icp通过消除用户的互联网身份来实现匿名，通过区块链身份验证框架确保用户拥有自己的数据，这些数据由区块链备份，并只有持有对应备份的私钥用户本人才能访问。如果用户任何物理设备被入侵，那么可以使用存储在安全位置的助记词快速恢复其互联网身份</p>
</li>
<li><p>icp在分散、集成的生态系统中重新构建了智能合约和软件，同步服务可以最好的满足用户需求。</p>
</li>
<li><p>icp提出了一种新的价值模型，通过将加密货币与法定货币的有效用标记化相关联来补充比特币，而不会存在集中管理的弱点。icp在模型上是比特币的升级版本，具有直接标记实用程序的优势，而没有法定货币集中管理的劣势。icp允许使用网络神经（nns）参与网络治理，并且可以重新启动以运行分散的app。</p>
</li>
</ul>
<p>icp承诺将与比特币进行深度绑定，并和比特币的价值一起成长。icp的目的是准备与现有的加密代币和web3结构建立共生关系，以连接和授权它们。</p>
<ul>
<li>icp的区块链是环保的。执行交易或者其他日常任务时的电力消耗与发送邮件的电力消耗基本等同。</li>
</ul>
<h3 id="工作流程-2"><a href="#工作流程-2" class="headerlink" title="工作流程"></a>工作流程</h3><p>icp有为计算提供动力的循环机制，icp代币用于铸造新的周期，这些周期由icp子网络燃烧以进行计算</p>
<p>在icp区块链上，稳定的周期使基于icp的软件开发成本可预测且始终处于较低水平。icp循环可以发送到icp容器以供其以后在执行计算或者存储数据时使用。icp软件可以用任何可以编译为webassembly的编程语言编写，以部署在icp的区块链上。</p>
<p>icp可以与环境分离，并与其他容器或用户交互以执行计算和智能合约代码。</p>


    
    
    
  </section>
</article>
    </div>
  
    <div class='post-wrapper'>
      <article class="post reveal">
  <section class="meta">
    
    <h2 class="title">
      <a href="/2024/02/06/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%90Web3%E3%80%91%E5%85%AC%E9%93%BE/">
        【Web3】公链
      </a>
    </h2>
    
    <time>
      Feb 6, 2024
    </time>
		
    
    <div class='cats'>
        <a href="/categories/Defi/">Defi</a>
    </div>

  </section>
  <section class="article typo">
	  <h2 id="阶段"><a href="#阶段" class="headerlink" title="阶段"></a>阶段</h2><h3 id="第一阶段：2008-2015"><a href="#第一阶段：2008-2015" class="headerlink" title="第一阶段：2008-2015"></a>第一阶段：2008-2015</h3><p>以早期比特币之类的数字货币公链为主，可以理解为一种“公共账本”</p>
<h3 id="第二阶段：2015～"><a href="#第二阶段：2015～" class="headerlink" title="第二阶段：2015～"></a>第二阶段：2015～</h3><p>以太坊公链的出现为开端，标志着底层公链时代，智能合约被提出。</p>
<p>主流的公链有：比特币链、以太坊链、币安链、瑞波链、艾达链、索拉纳链、波卡链、雪崩链、波场链、马蹄链</p>
<h2 id="以太坊"><a href="#以太坊" class="headerlink" title="以太坊"></a>以太坊</h2><h3 id="EVM：以太坊虚拟机"><a href="#EVM：以太坊虚拟机" class="headerlink" title="EVM：以太坊虚拟机"></a>EVM：以太坊虚拟机</h3><p>建立在以太坊上的抽象虚拟机，可以使DApps之间彼此隔离，并且与主链分离。即它是一个虚拟的运行环境，以太坊智能合约的运行是建立在此基础上的。</p>
<h3 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h3><p>可扩展、可编程、安全和去中心化</p>
<h3 id="以太币"><a href="#以太币" class="headerlink" title="以太币"></a>以太币</h3><p>智能合约本质是一段小的代码程序，那么运行它的载体上通过以太坊网络的矿工进行维护的。给予矿工以太币-Gas费，因此智能合约想运行在以太坊公链上，那么需要支付Gas费，当无法支付时，那么程序也就停止了。</p>
<h3 id="DApps"><a href="#DApps" class="headerlink" title="DApps"></a>DApps</h3><ul>
<li>含义</li>
</ul>
<p>是一种去中心化的数字应用程序，存在并运行于计算机的区块链或点对点(P2P)网络上，而不是单个计算机。</p>
<p>DApps不在单一机构的权限和控制范围内，通常说建立在以太坊平台上，可以被开发为用于各种目的的App，包括游戏、社交App等。</p>
<ul>
<li>App权限<br>普通应用程序中，其开发者们拥有对这个app及其工作的完全权限。</li>
</ul>
<p>而DApps不同，它在公链上运行，不受任何单一机构的控制和干扰，例如在以太坊上发布运行了一个DApp，若有人通过这个智能合约购买了一个商品，智能合约被执行，任何人都无法删除这个合约的执行信息。</p>
<ul>
<li>优劣</li>
</ul>
<p>优势：保护用户的隐私，使用去中心化的dapp，用户无须提交个人信息即可使用app；dapp使用智能合约完成交易，无须依赖中间机构</p>
<ul>
<li>劣势：执行智能合约需要Gas，因此费用一般较贵；有效扩展在需要大量计算以及网络过载导致网络拥堵的时候容易存在问题</li>
</ul>
<h2 id="Cosmos生态"><a href="#Cosmos生态" class="headerlink" title="Cosmos生态"></a>Cosmos生态</h2><h3 id="含义"><a href="#含义" class="headerlink" title="含义"></a>含义</h3><p>cosmos也被称为区块链互联网，是一个由独立但可以互相操作的区块链组成的去中心化网络，用户可以在无须许可的交换信息和代币</p>
<p>Cosmos中“区域”的独立区块链由基于拜占庭容错的权益证明Tendermint共识算法支持。拜占庭容错共识算法允许网络达成共识，即使某些节点发生故障或者恶意行为</p>
<h3 id="目的"><a href="#目的" class="headerlink" title="目的"></a>目的</h3><p>提供工具帮助开发人员为各种用例快速构建独立的区块链，使得网络中的区块链可以互相通信，从而解决区块链面料的比如可扩展性、可用性和治理问题等。</p>
<h3 id="加密货币：ATOM"><a href="#加密货币：ATOM" class="headerlink" title="加密货币：ATOM"></a>加密货币：ATOM</h3><p>ATOM是Cosmos背后的驱动力。</p>
<blockquote>
<p>功能：</p>
</blockquote>
<ul>
<li><p>维护网络共识</p>
</li>
<li><p>通过基于激励的验证节点进行质押</p>
</li>
<li><p>减少垃圾邮件作为支付Gas费的媒介</p>
</li>
<li><p>提供投票机制，通过Cosmos治理提案提出网络修正</p>
</li>
</ul>
<blockquote>
<p>用途</p>
</blockquote>
<ul>
<li><p>通过权益证明共识机制的运行</p>
</li>
<li><p>验证者质押或者锁定他们的ATOM并运行专门的软件，该软件通过新区块和验证交易维护Cosmos网络</p>
</li>
<li><p>持有者可以选择将自己的ATOM代币委托给验证者，允许获得一部份质押奖励。</p>
</li>
</ul>
<h3 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h3><ul>
<li>Tendermint Core BFT共识机制</li>
</ul>
<p>Tendermint主要成立目的是解决工作量证明共识算法的速度慢、可扩展性差以及高性能耗问题</p>
<p>它提供即使、可证明安全的移动客户端支付验证的方法。在设计上，它是不允许分叉的，所以移动钱包可以实时接收交易确认，从而在手机上实现信任的支付方式</p>
<p>它需要一种“验证人”，类似于比特币的矿工，是一种专门用于提交区块的安全机器(和矿工需要大量的Gas一样，需要消耗大量的代币)。验证人可以向非验证人租借代币，并承诺收益，但验证人被攻击或者违反协议规定，那么就会有一定的惩罚，比如削减代币</p>
<ul>
<li>可互操作</li>
</ul>
<p>Cosmos Hub是一个及其强大的去中心化区块链网络，其结构和治理允许网络参与者保持冷静。ATOM作为一种质押机构用于增强安全性、达成共识、提高运营效率</p>
<h3 id="优势"><a href="#优势" class="headerlink" title="优势"></a>优势</h3><ul>
<li><p>互操作性：Cosmos协议广泛支持现在的主流公链，而不是像EVM或者非EVM局限在自己的代码框架体系里，它是一种去中心化的交易中心</p>
</li>
<li><p>可扩展性：对于传统公链，每笔交易都需要Gas费，而且每秒事务处理量往往只能达到每秒几笔的规模，而Cosmos基于自身协议的前瞻性，每秒可以处理几千笔</p>
</li>
</ul>
<h2 id="Avalanche链"><a href="#Avalanche链" class="headerlink" title="Avalanche链"></a>Avalanche链</h2><h3 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h3><p>采用了一种独特的方式，在其主要平台中使用三条独立的区块链：交易链(X-Chain)、合约链(C-Chain)、平台链(P-Chain)。</p>
<p>Avalanche链最重要的突破之一是雪崩协议(Avalanche Consensus)，它是使用验证者重复的子抽样投票来快速达成共识的用户负担得起的方法。</p>
<p>Avalanche链还将子网作为一种新的水平扩展方法，允许创建可定制的、可互操作的区块链，子网没有数量限制</p>
<h3 id="区块链分类"><a href="#区块链分类" class="headerlink" title="区块链分类"></a>区块链分类</h3><ul>
<li><p>交易链：X链<br>负责AVAX或者其他数字资产的创建和交易</p>
</li>
<li><p>合约链：C链</p>
</li>
</ul>
<p>可以为DApps创建智能合约。该链实现了以太坊虚拟机下，支持兼容EVM的DApps。合约链使用Snowman共识协议，它是Avalanche共识协议的修订版</p>
<ul>
<li>平台链：P链</li>
</ul>
<p>用于协调验证者和子网。使用Snowman共识协议</p>
<h3 id="解决问题"><a href="#解决问题" class="headerlink" title="解决问题"></a>解决问题</h3><ul>
<li>可扩展性差和去中心化弱</li>
</ul>
<p>传统区块链活动增加的网络可能会迅速堵塞，例如比特币，在网络拥堵期间，交易有时候需要数小时或者几天才能完成</p>
<p>那么解决方法之一就是让网络更加集中，让更少的人有更多的权限来验证网络活动，从而提高交易速度。但由于去中心化是区块链中非常重要的特点</p>
<p>Avalanche共识协议不需要领导者达成共识，例如Pow、PoS(权益证明)或者DPoS(委托协议证明)。因此中不牺牲可扩展性的情况下，提高了Avalanche网络的去中心化程度</p>
<ul>
<li>交易费用高</li>
</ul>
<p>Avalanche共识协议不需要领导者达成共识</p>
<ul>
<li>互操作性不佳</li>
</ul>
<p>Avalanche链提供带有子网的解决方案，共享主网络的安全性、速度和兼容性的自定义应用程序特定区块链</p>
<h3 id="特点-1"><a href="#特点-1" class="headerlink" title="特点"></a>特点</h3><ul>
<li>共识机制</li>
</ul>
<p>Avalanche使用的是雪崩共识，虽然并不是唯一具有新颖共识机制的区块链</p>
<ul>
<li><p>交易速度和最终确定</p>
</li>
<li><p>权利下放</p>
</li>
<li><p>可互操作的区块链</p>
</li>
</ul>
<p>可互操作区块链的数量可能是无限的</p>
<h2 id="Solana链（非EVM"><a href="#Solana链（非EVM" class="headerlink" title="Solana链（非EVM"></a>Solana链（非EVM</h2><h3 id="定义-1"><a href="#定义-1" class="headerlink" title="定义"></a>定义</h3><p>基于RUST语言，原生加密货币SOL用于支付交易费用和质押。历史证明机制(PoH)使其能够高度可扩展且搞笑的网络</p>
<p>Solana链是一个加密计算平台，旨在不牺牲去中心化的情况下实现高交易速度</p>
<h3 id="功能"><a href="#功能" class="headerlink" title="功能"></a>功能</h3><ul>
<li>PoH机制</li>
</ul>
<p>该机制可以提供数字记录，确认网络上任何时间点都发生过什么事情。可以呈现为一个加密时钟，为每笔交易提供时间戳以及添加简单的数据结构</p>
<p>PoH机制依赖于使用BFT算法的交易时间权益证明(PoS)共识机制，BFT使用同步时钟的优势，可以在不产生任何大量事务延迟或消息传递开销的情况下达成共识，保证网络安全和运行，并充当验证交易的附加工具</p>
<p>PoH可以被视为一种高频可验证延迟函数(VDF)，VDF是一种三重函数(设置、评估、验证)，可以产生独特且可靠的输出。VDF通过证明区块生产者已经等待足够长的时间，让网络继续前进来维持网络中的秩序</p>
<ul>
<li>Turbine</li>
</ul>
<p>Turbine是网络上的块传播协议，它支持更轻松地将数据传输到区块链节点，通过将数据分解为更小的数据包来实现高效的数据传输。因此Solana区块链可以解决与带宽有关的问题，提高整体容量，加快交易结算速度</p>
<ul>
<li>湾流(Gulf Stream)</li>
</ul>
<p>作用是承担着将事务缓存转发到网络边缘的，因此验证者可以确保提前执行交易，减少确认时间。湾流有助于更快的切换领导者，同时减少来自不同未确认交易池的验证者的内存压力</p>
<ul>
<li>Sea Level</li>
</ul>
<p>海平面是一个超并行事务处理引擎，用于在各种SSD和GPU之间进行性能扩展</p>
<ul>
<li>Pipeline</li>
</ul>
<p>用于优化验证的事务处理单元，该过程设计将输入数据流分配给不同的硬件组件，因此可以支持在网络中的不同节点上更快地验证和复制交易信息</p>
<ul>
<li>Cloudbreak</li>
</ul>
<p>它是Solana链的横向扩展帐户数据库，有助于在Solana网络上实现所需的可扩展性。Cloudbreak是一种数据结构，是跨网络并发读写操作的理想选择</p>
<ul>
<li>Archivers</li>
</ul>
<p>存档器</p>
<ul>
<li>散列算法：SHA-256</li>
</ul>


    
    
    
  </section>
</article>
    </div>
  
    <div class='post-wrapper'>
      <article class="post reveal">
  <section class="meta">
    
    <h2 class="title">
      <a href="/2024/02/06/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%90Web3%E3%80%91%E4%BA%8C%E5%B1%82%E7%BD%91%E7%BB%9C/">
        【Web3】二层网络
      </a>
    </h2>
    
    <time>
      Feb 6, 2024
    </time>
		
    
    <div class='cats'>
        <a href="/categories/Defi/">Defi</a>
    </div>

  </section>
  <section class="article typo">
	  <h2 id="二层网络"><a href="#二层网络" class="headerlink" title="二层网络"></a>二层网络</h2><h3 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h3><p>指构建在现有区块链系统之上的二级框架或者协议，这些协议的主要目的是解决主要加密货币网络面临的交易速度低和扩展困难的问题</p>
<p>“二层”指的是针对区块链可扩展性问题提出的多种解决方案。例如早期的二层解决方案：比特币闪电网络和以太坊等离子体，虽然受限于自身工作机制和特殊性，但这两种解决方案都尽量为区块链系统提供更高的吞吐量</p>
<h2 id="二层网络技术"><a href="#二层网络技术" class="headerlink" title="二层网络技术"></a>二层网络技术</h2><h3 id="侧链"><a href="#侧链" class="headerlink" title="侧链"></a>侧链</h3><p>它是一条平行于主链的独立运行的链。不依赖于主链的安全策略，有自己独立的安全策略。</p>
<h3 id="状态通道"><a href="#状态通道" class="headerlink" title="状态通道"></a>状态通道</h3><p>只记录出入该通道的某一瞬间的交易。但其安全性不足，因为需要保证状态通道的运营者是可以信任的，否则投入就会有不安全性</p>
<h3 id="卷叠"><a href="#卷叠" class="headerlink" title="卷叠"></a>卷叠</h3><p>把一切复杂的交易都交给二层网络，复杂的数据都交给卷叠处理，处理完成后只返回数据摘要或处理结果。这样对性能有一定的提升。</p>
<h2 id="ZK-Rollups"><a href="#ZK-Rollups" class="headerlink" title="ZK-Rollups"></a>ZK-Rollups</h2><p>ZK-Rollups协议促进了交易者和中继者的交互。</p>
<h3 id="工作流程"><a href="#工作流程" class="headerlink" title="工作流程"></a>工作流程</h3><ul>
<li><p>交易者创建并将其交易数据广播到网络，此信息包括索引的双方地址、交易价值、网络费用和仅使用一次的数字。利用索引地址减少资源处理，交易价值产生存款和取款金额。然后智能合约将地址记录到一个Merkle树，并将交易值记录到另一个Merkle树</p>
</li>
<li><p>中继器负责收集创建汇总的事务。中继器生成一个简洁的非交互零知识论证证明，用于比较每笔交易前后的区块链状态（钱包余额）。由此产生的变化以可验证的方式散列并到达主链。</p>
</li>
</ul>
<h2 id="Optimistic-Rollups"><a href="#Optimistic-Rollups" class="headerlink" title="Optimistic Rollups"></a>Optimistic Rollups</h2><p>和ZK-Rollups类似，但ORs仅向主链发布最少的信息，仅在欺诈案件中生成证明。</p>
<h3 id="工作流程-1"><a href="#工作流程-1" class="headerlink" title="工作流程"></a>工作流程</h3><ul>
<li><p>当用户将交易发送到链外ORs时，聚合器注册并提交欺诈证明</p>
</li>
<li><p>聚合器在本地部署交易以生成新的智能合约。计算新的状态根，聚合器将交易和状态根发送回主链</p>
</li>
<li><p>如果用户认为聚合器返回了欺诈状态根，包括无效交易，他们可以质疑聚合器。用户可以通过发布正确的状态根和验证它所需的Merkle证明在注册这一挑战。对于违规的聚合器，以及任何建立在无效区块之上的聚合器，其保证金被削减，这些收益流向报告用户</p>
</li>
<li><p>一旦识别出无效块并完成欺诈证明，二层链就会回滚，并在前一个非欺诈块处恢复</p>
</li>
</ul>
<h3 id="优劣"><a href="#优劣" class="headerlink" title="优劣"></a>优劣</h3><blockquote>
<p>劣势</p>
</blockquote>
<ul>
<li><p>无效状态：OP允许存在无效的区块链状态。因此，在提交欺诈证明前，可能会存在无效状态</p>
</li>
<li><p>安全性：由于其基于博弈论模型，OP可能更容易受到攻击，因为用户可以参与报告欺诈</p>
</li>
<li><p>可扩展性：随着交易规模的扩大，在某些情况下，OP可能需要更多的主链计算资源，从而导致更高的成本。</p>
</li>
</ul>
<h2 id="Arbitrum"><a href="#Arbitrum" class="headerlink" title="Arbitrum"></a>Arbitrum</h2><p>是解决以太坊网络拥塞和高费用问题的解决方案之一</p>
<h3 id="工作流程-2"><a href="#工作流程-2" class="headerlink" title="工作流程"></a>工作流程</h3><p>Arbitrum生态系统中包含四个角色：验证者、虚拟机、密钥和管理器。</p>
<p>Arbitrum基于简单的加密货币设计，其中各方可以将智能合约实现为对合约规则进行编码的VM，它是中Arbitrum虚拟机架构上运行的程序。虚拟机的一组管理器由VM的设计者指定。</p>
<p>基于Arbitrum协议，任何一个管理者都可以强制VM根据VM的代码运行，与VM的结果有利害关系的各方可以选择各自信任的人代表他们这样做或者直接担任管理者。VM的状态可以通过依赖管理者器以及降低验证者的成本来提升，验证者只需跟踪虚拟机状态的hash值，而不是整个状态。</p>


    
    
    
  </section>
</article>
    </div>
  
    <div class='post-wrapper'>
      <article class="post reveal">
  <section class="meta">
    
    <h2 class="title">
      <a href="/2024/02/06/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%90Web3%E3%80%91SocialFi/">
        【Web3】SocialFi
      </a>
    </h2>
    
    <time>
      Feb 6, 2024
    </time>
		
    
    <div class='cats'>
        <a href="/categories/Defi/">Defi</a>
    </div>

  </section>
  <section class="article typo">
	  <p>SocialFi汇集了社交媒体和defi的原则，它提供了一种去中心化的方法来创建、管理和存储社交媒体几其参与者生产的内容。</p>
<p>在SocialFi的核心，应用程序是内容创建者、影响者和参与者，它们希望更好的控制自己的数据，保障言论自由以及通过参与社交媒体获利。货币化通常发生在加密货币中，而身份管理和数字所有权则由nft驱动。</p>
<h2 id="构建模块"><a href="#构建模块" class="headerlink" title="构建模块"></a>构建模块</h2><h3 id="货币化"><a href="#货币化" class="headerlink" title="货币化"></a>货币化</h3><p>SocialFi应用程序通过使用社交代币或者应用内实用代币，这些代币不仅可以在应用程序级别创建，而且可以在用户级别创建，创作者可以通过社交代币管理自己的经济。</p>
<p>模型的基本设计原则：</p>
<ul>
<li><p>只有那些持有创作者社交代币的人才能参与他们的帖子，</p>
</li>
<li><p>如果想引起影响者的注意，持有最多数量的社交代币时，消息回复会出现在回复页面首页</p>
</li>
<li><p>创作者和影响者可以设置阈值，允许拥有超过一定数量社交代币的追随者直接向他们发送消息</p>
</li>
<li><p>当用户想要通过点赞或者分享与某人进行互动时，需要花钱。</p>
</li>
</ul>
<h3 id="审查与言论自由"><a href="#审查与言论自由" class="headerlink" title="审查与言论自由"></a>审查与言论自由</h3><p>SocialFi平台通过标记链上数据进行去中心化管理。SocialFi平台所有可公开查看的帖子都在链上，因此，这些链上数据可供规则引擎根据主题和所用词的性质来解析和快速标记帖子。</p>
<p>每个单独的节点都可以选择阻止一些标签并与其他标签互动。如果一个节点选择参与和认可一个有害帖子时，它将收到法律起诉。因此，在网络中必须允许非中央机构或中央组织内的小团体做出选择，控制器和责任在于个人。</p>
<h3 id="数字所有权和身份"><a href="#数字所有权和身份" class="headerlink" title="数字所有权和身份"></a>数字所有权和身份</h3><p>如果用户想创建一个SocialFi资料，可以使用自己的nft作为个人头像，并通过连接他们的钱包来确认自己的nft所有权。</p>
<p>SocialFi平台中的nft为创作者提供分发功能来广播他们的作品。</p>


    
    
    
  </section>
</article>
    </div>
  
    <div class='post-wrapper'>
      <article class="post reveal">
  <section class="meta">
    
    <h2 class="title">
      <a href="/2024/02/06/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%90Web3%E3%80%91NFT/">
        【Web3】NFT
      </a>
    </h2>
    
    <time>
      Feb 6, 2024
    </time>
		
    
    <div class='cats'>
        <a href="/categories/Defi/">Defi</a>
    </div>

  </section>
  <section class="article typo">
	  <h2 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h2><p>nft是以数字形式表示的加密货币资产，每个nft都是独一无二的，这样有形资产和无形资产都能够被标记。即nft指可以投资于有价值的东西，而无须实际拥有或者存储它们，因此，在公开市场上买卖nft变得非常容易。</p>
<p>每个nft都可以通过唯一的交易hash值识别，即没有两个nft是完全一致的。</p>
<h2 id="工作流程"><a href="#工作流程" class="headerlink" title="工作流程"></a>工作流程</h2><p>冷现金是属于同质化资产（可替换，实际价值不变），而nft是一种非同质化资产，即无法相互转换，转换之后价值也不能完全一致，因为每个代币都是唯一的。</p>
<ul>
<li>区块链协议</li>
</ul>
<p>所有最好的nft都托管在区块链协议上，许多nft的创建者更喜欢以太坊区块链，尤其是因为它支持erc-721代币。即以太坊区块链这个特定子集非常适合nft，因为每个erc-721代币都是独一无二的。</p>
<ul>
<li>以太坊铸币</li>
</ul>
<p>铸币指的是创建尚未存在的新nft的过程。即当购买nft时，购买的是已经由其他人创建的数字资产。如果希望获取的是第一次被创建的nft，那么可以通过以太坊或者币安链等区块链网络铸造nft，这样nft可以验证你是否是真正的所属者。</p>
<h2 id="类型"><a href="#类型" class="headerlink" title="类型"></a>类型</h2><h3 id="分割式nft"><a href="#分割式nft" class="headerlink" title="分割式nft"></a>分割式nft</h3><p>以类似于股权的形式去分配一个nft，每个拥有的人都有可以获取一定比例的财产。</p>
<p>但是这个功能目前还未完全定型，处于探索状态。</p>
<h3 id="实物不动产"><a href="#实物不动产" class="headerlink" title="实物不动产"></a>实物不动产</h3><p>实物房地产是用nft表示的资产的完美示例，房产和nft都是独一无二的。</p>
<p>常见用例是部份所有权，例如房地产开发商想向零售客户开放投资机会，那么开发商可以让nft与一定比例的所有权相关联，然后在公开市场上发行nft</p>
<h3 id="元宇宙中的虚拟房地产"><a href="#元宇宙中的虚拟房地产" class="headerlink" title="元宇宙中的虚拟房地产"></a>元宇宙中的虚拟房地产</h3><h3 id="CryptoPunks和其他数字收藏品"><a href="#CryptoPunks和其他数字收藏品" class="headerlink" title="CryptoPunks和其他数字收藏品"></a>CryptoPunks和其他数字收藏品</h3><p>CryptoPunks是2007年创建的1k个数字图像的集合，每个CryptoPunks都是独一无二的，并由nft支持。</p>
<h3 id="体育nft"><a href="#体育nft" class="headerlink" title="体育nft"></a>体育nft</h3><p>有些体育品牌正在出售来自关键游戏赛事的视频剪辑的所有权或者比赛时的个别物品</p>
<h3 id="游戏nft"><a href="#游戏nft" class="headerlink" title="游戏nft"></a>游戏nft</h3><h2 id="好处"><a href="#好处" class="headerlink" title="好处"></a>好处</h2><ul>
<li>适合内容创作者</li>
</ul>
<p>保护知识产权</p>
<ul>
<li>价值存储</li>
</ul>
<p>现在所被创造出来的nft都是有价值的，因为铸币nft是需要有价值的东西才能被铸造。</p>
<ul>
<li>市场较大</li>
<li>nft可用抵押品</li>
</ul>
<h2 id="nft与加密货币"><a href="#nft与加密货币" class="headerlink" title="nft与加密货币"></a>nft与加密货币</h2><ul>
<li><p>相同点</p>
</li>
<li><p>以数字形式表示</p>
</li>
<li><p>构建和存储在区块链中</p>
</li>
<li><p>不同点</p>
</li>
<li><p>nft是非同质化货币，而加密货币是同质化产品。</p>
</li>
<li><p>每个nft都是独一无二的，价值也是独一无二的</p>
</li>
</ul>
<h2 id="CryptoPunks"><a href="#CryptoPunks" class="headerlink" title="CryptoPunks"></a>CryptoPunks</h2><h3 id="定义-1"><a href="#定义-1" class="headerlink" title="定义"></a>定义</h3><p>CryptoPunks是larva labs创建，是一个拥有1w个数字图像的系列，在以太坊区块链上被标记为nft。</p>
<p>nft实际上是对数字项目的所有权契约，持有CryptoPunks nft表示是该独一无二像素头像的唯一所有者。</p>
<h2 id="BAYC"><a href="#BAYC" class="headerlink" title="BAYC"></a>BAYC</h2><h3 id="定义-2"><a href="#定义-2" class="headerlink" title="定义"></a>定义</h3><p>BAYC是在以太坊区块链上铸造的一系列的nft头像，由1k枚nft组成，样式设计为以太坊区块链的猿猴。</p>


    
    
    
  </section>
</article>
    </div>
  
    <div class='post-wrapper'>
      <article class="post reveal">
  <section class="meta">
    
    <h2 class="title">
      <a href="/2024/02/06/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%90Web3%E3%80%91GameFi/">
        【Web3】GameFi
      </a>
    </h2>
    
    <time>
      Feb 6, 2024
    </time>
		
    
    <div class='cats'>
        <a href="/categories/Defi/">Defi</a>
    </div>

  </section>
  <section class="article typo">
	  <h2 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h2><p>GameFi是游戏和金融的组合，涉及到区块链游戏，对玩家提供经济激励。奖励包含游戏内部的奖励或者以nft为载体的奖励。</p>
<h2 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h2><ul>
<li><p>Decentraland（MANA和LAND代币）、</p>
</li>
<li><p>the sandbox（结合DAO和NFT）</p>
</li>
<li><p>axie infinity（AXS代币）</p>
</li>
</ul>
<p>前期需要准备3个axie nft作为起始，后续可以通过此游戏赚取回报获取slp代币，可以兑换为金钱</p>
<ul>
<li>Gala Games（以GALA为代币）</li>
</ul>
<p>将自己定位为一个游戏区块链生态孵化者，经济驱动剂是根据以太坊区块链上的erc-20标准创建的gala代币，兼容币安智能链。</p>
<p>其生态系统包含游戏、游戏发布平台、nft市场、游戏云托管服务和平台自身的代币经济学。</p>
<p>玩家可以通过特定的投票机制决定gala games平台应该添加哪些游戏。</p>
<ul>
<li>Enjin（是生态系统范围的解决方案，旨在通过对游戏内资产进行代币化并注入项目的原生代币ENJ）</li>
</ul>
<p>基础设施包含GraphQL和可信云。由于enjin允许开发人员用sdk和api以便根据需求访问响应功能，因此它采用graphql简化访问资源的方式，促进了虚拟世界和智能合约区块链之间的交互。而可信云允许enjin网络sdk和api的游戏与以太坊区块链互联</p>
<h2 id="游戏公会YGG"><a href="#游戏公会YGG" class="headerlink" title="游戏公会YGG"></a>游戏公会YGG</h2><p>ygg是专注于区块链p2p游戏的游戏公会，投资nft资产并将全球的区块链游玩家连接到一起的社区。</p>
<p>目标是建立一个属于玩家和投资者的网络，帮助彼此在nft游戏领域起步和成长。</p>
<h3 id="定义-1"><a href="#定义-1" class="headerlink" title="定义"></a>定义</h3><p>投资于区块链游戏中使用nft的dao？游戏包含较为广义的元宇宙，具有基于区块链的数字世界中的众多元素，包括数字土地&#x2F;货币等。</p>
<h3 id="运行"><a href="#运行" class="headerlink" title="运行"></a>运行</h3><p>结合了defi和nft，在以太坊区块链上创建了一种元宇宙经济。</p>
<p>ygg由多个subDAO（依附于DAO的较小DAO）组成，而这些subdao由来自特定nft游戏或地理位置的玩家群体组成。每个subdao都有自己的一套规则，用于管理各自的p2e游戏的活动和资产。</p>
<p>在ygg上，所有nft和数字资产都存储于社区控制的ygg金库中，金库为每个subdao提供nft，包括多个区块链游戏的p2e资产。</p>
<h3 id="代币"><a href="#代币" class="headerlink" title="代币"></a>代币</h3><p>ygg代币是一种赋予持有人对ygg dao的治理权利的erc-20代币。ygg代币可以用于支付网络上的服务费用，也可以在质押后在ygg收益池中获取奖励，或用于解锁ygg discord频道上的独家内容。此外，ygg代币持有者还可以提交提案，并对公会的技术、产品、项目、代币分配和整体治理结构等决策进行投票，最终在dao中得到实施的获胜建议将获得ygg代币奖励。</p>
<h2 id="dappradar-常用信息平台"><a href="#dappradar-常用信息平台" class="headerlink" title="dappradar 常用信息平台"></a>dappradar 常用信息平台</h2><p>该平台通过包括以太坊、eos和ont在内的20多个协议跟踪1w+dapps，使用户可以分析和比较各自dapps。</p>
<h3 id="定义-2"><a href="#定义-2" class="headerlink" title="定义"></a>定义</h3><p>网站自称为为全球用户带来了关于去中心化应用程序的高质量、准确的见解，迅速成为值得信赖的行业信息来源；发现dapps的起点，托管来自30多个协议的9k个dapps；能提供全面的nft估值和投资组合管理，并在数据主导、可操作的行业报告方面处于领先地位。</p>
<p>它的代币RADAR具有多种功能：持有人可以质押radar以赚取被动收入；是一种治理代币，允许持有者对生态系统的未来发展进行投票；用户可以获得对特定功能和见解的独占访问权限。</p>


    
    
    
  </section>
</article>
    </div>
  
    <div class='post-wrapper'>
      <article class="post reveal">
  <section class="meta">
    
    <h2 class="title">
      <a href="/2024/02/06/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%90Web3%E3%80%91Defi/">
        【Web3】DAO
      </a>
    </h2>
    
    <time>
      Feb 6, 2024
    </time>
		
    
    <div class='cats'>
        <a href="/categories/Defi/">Defi</a>
    </div>

  </section>
  <section class="article typo">
	  <p>defi是“去中心化金融”的缩写，是加密货币或者区块链中各种金融app的总称。</p>
<p>defi从区块链中获取灵感。区块链是数字货币背后的技术，它允许多个实体持有交易历史的副本，这意味着它不受单一的中央来源控制。</p>
<h2 id="主流的defi应用"><a href="#主流的defi应用" class="headerlink" title="主流的defi应用"></a>主流的defi应用</h2><ul>
<li><p>去中心化交易所（dex）。它帮助用户将货币兑换为其他货币，它直接连接用户，因此他们可以直接交易加密货币，而无须信任中介机构的资金</p>
</li>
<li><p>稳定币：一种与加密货币以外的资产挂钩并具有稳定价格的加密货币</p>
</li>
<li><p>借贷平台：这些平台使用智能合约来代替中间管理借贷的银行等中介机构</p>
</li>
<li><p>跨链比特币（wbtc）。将比特币发送到以太坊网络的方式，因此比特币可以直接在以太坊的defi系统中使用。wbtc允许用户通过在上述去中心化借出的btc赚取利息。</p>
</li>
<li><p>预测市场。投注未来事件结果的市场。defi版本的预测市场目标是提供相同的功能但没有中介机构。</p>
</li>
</ul>
<h2 id="dex：去中心化交易所"><a href="#dex：去中心化交易所" class="headerlink" title="dex：去中心化交易所"></a>dex：去中心化交易所</h2><p>dex是一个点对点市场，交易直接发生在加密交易者之间。处理加密货币之间的交易</p>
<h3 id="工作流程"><a href="#工作流程" class="headerlink" title="工作流程"></a>工作流程</h3><p>通过cex（中心化交易所），可以将加密货币与法定货币之间互换。这些所有交易都是由交易所自己通过“订单薄”处理的，该订单薄根据当前的买卖订单确定特定加密货币的价格。而dex是不允许法定与加密货币之间的交易。</p>
<p>dex只是一种智能合约，它通过算法确定各种加密货币的价格，并促进流动性池（投资者锁定资金以换取类似的利息奖励来促进交易。</p>
<p>cex的交易记录在该交易所的内部数据库中，而dex的交易直接在区块链上结算</p>
<h3 id="优缺点"><a href="#优缺点" class="headerlink" title="优缺点"></a>优缺点</h3><blockquote>
<p>优点</p>
</blockquote>
<ul>
<li><p>种类繁多。dex几乎提供了无限的代币种类</p>
</li>
<li><p>降低黑客风险。由于dex交易中的所有资金都存储在交易者自己的钱包中，因此理论上它们不太容易受到黑客攻击。dex还降低了“交易对手风险”（违约的可能性）</p>
</li>
<li><p>匿名性。使用主流的dex不需要个人信息</p>
</li>
</ul>
<blockquote>
<p>缺点</p>
</blockquote>
<ul>
<li><p>需要用户做大量的前期研究准备，不能指望dex本身提供很多帮助。在dex中进行复杂交易需要一些专业知识</p>
</li>
<li><p>智能合约漏洞。任何defi协议的安全性都取决于为其提供支持的智能合约，而合约代码可能存在可利用的漏洞。</p>
</li>
<li><p>风险更高的代币。dex上面存在未经审查的代币</p>
</li>
</ul>
<h3 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h3><p>uniswap</p>
<h2 id="稳定币"><a href="#稳定币" class="headerlink" title="稳定币"></a>稳定币</h2><p>稳定币是一种储备资产挂钩的数字货币，旨在降低相对于比特币等非挂钩加密货币的波动性。</p>
<p>常用的稳定币包括USDT、USDC、DAI等</p>
<h3 id="DAI"><a href="#DAI" class="headerlink" title="DAI"></a>DAI</h3><p>dai是一种加密资产，试图通过将其他加密资产锁定在合约中与美元保持1:1的价值关系。dai是一种名为maker协议的开源软件的产品，运行在以太坊区块链之上的dapp。dai保持其价值的方式是使用以ETH计价的抵押债务。抵押债务为贷方提供了一种使用他们拥有的资产获得贷款的方式。</p>
<p>maker协议通过以太坊运行的智能合约，使借款人能锁定ETH和其他加密资产，从而对其进行抵押，以便贷款的形式生成新的dai。如果借款人想收回抵押的eth，必须将dai返回给协议并且支付费用，如果发生清算，maker协议将使用基于市场的内部拍卖机制获取抵押品并出售。</p>
<h3 id="工作流程-1"><a href="#工作流程-1" class="headerlink" title="工作流程"></a>工作流程</h3><p>dai是一种由其他加密货币抵押的加密资产。如果用户想获取dai，那么可以在交易所花费eth购买等值的dai，也可以使用maker协议抵押eth和其他资产。</p>
<p>抵押债务头寸（cdp）是maker上的智能合约，用户可以利用它来锁定其抵押资产（eth或bat）并生成dai。cdp可以视为存储抵押品的安全保险库。dai一般会被超额抵押，即所需的存款金额通常要高于dai的价值。</p>
<h2 id="借贷平台"><a href="#借贷平台" class="headerlink" title="借贷平台"></a>借贷平台</h2><p>借贷市场将借款人与加密货币的贷方联系起来。主流平台Compound允许用户借用加密货币或者提供自己的钱款，用户可以通过借款获取利息。Compound通过算法设置利率，因此如果借入加密货币的需求更高，利率将被推高。</p>
<p>defi借贷是基于抵押品的。</p>
<h4 id="Compound"><a href="#Compound" class="headerlink" title="Compound"></a>Compound</h4><p>它是建立在以太坊上的可公开访问的智能合约系统，允许借款人通过将其加密资产锁定到协议中来获取贷款和为贷方提供钱款。借款人和贷款人支付和收取的利率由每种加密货币的供求关系决定。每个区块的开采都会产生利率，贷款可随时还款，锁定资产可以随时提现。</p>
<p>原生代币是cToken，它允许用户从他们的钱中赚取利息，也能在其他应用程序转移、交易和使用</p>
<h2 id="流动性质押"><a href="#流动性质押" class="headerlink" title="流动性质押"></a>流动性质押</h2><p>质押是赚取资产被动收入的一种方式，同时可以支持区块链网络的安全和运营。流动性质押协议提供与常规pos质押相同的好处，减少了潜在的缺点。</p>
<p>流动性质押协议处于加密货币质押经济的最前沿，改变了defi行业的流动性准入。流动质押的优势之一就是能够在互动和使用资产的同时获取奖励，流动性质押协议为借贷协议和单产农业等活动提供可基础。</p>
<h3 id="质押"><a href="#质押" class="headerlink" title="质押"></a>质押</h3><p>将加密资产锁定在协议中以获取回报的过程。通过将闲置资产投入使用，抵押加密货币是赚取被动收入的一种方式。质押协议可以协助pos共识机制，该机制促进关于区块链交易有效性的网络协议。因此，与比特币等pow区块链相比，降低可能源需求。</p>
<p>质押在一定时期内无法使用资金。</p>
<h3 id="流动性质押-1"><a href="#流动性质押-1" class="headerlink" title="流动性质押"></a>流动性质押</h3><p>锁定资金以赚取奖励的同时仍然可以使用资金的方式。</p>
<h3 id="流动性质押运作"><a href="#流动性质押运作" class="headerlink" title="流动性质押运作"></a>流动性质押运作</h3><p>用户有一个ETH，将eth放入流动质押协议中，然后会收到一个价值等值的stETH（质押的eth）作为回报。</p>
<p>该用户将从协议中保留的原始eth存款中获取奖励。为了获取被抵押的eth，需要一个stETH才能将其兑换回来。</p>
<h3 id="流动质押优点"><a href="#流动质押优点" class="headerlink" title="流动质押优点"></a>流动质押优点</h3><ul>
<li>高产农业</li>
</ul>
<p>流动性质押是收益农业活动的基本基石。收益农业是指交易者将资金锁定在一个协议中并收到这些资金的打包或者代币化版本。</p>
<ul>
<li><p>加密贷款</p>
</li>
<li><p>快速存取资金</p>
</li>
</ul>
<h3 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h3><ul>
<li>有风险</li>
</ul>
<h2 id="预测市场"><a href="#预测市场" class="headerlink" title="预测市场"></a>预测市场</h2><p>预测市场就是可以买卖预测的市场，即分享事件的结果。</p>
<p>预测市场是利用群体智慧来进行的，那么由于defi是一个去中心化的市场，普通民众也能参与，更加自由。</p>
<p>实例：Augur、Gnosis</p>


    
    
    
  </section>
</article>
    </div>
  
</section>


  <nav id="page-nav">
    
    <a class="prev" rel="prev" href="/archives/2024/page/3/">
      <span class="icon icon-chevron-left"></span>
      <span class="text">Previous</span>
    </a>
    
    
    <a class="next" rel="next" href="/archives/2024/page/5/">
      <span class="text">Next</span>
      <span class="icon icon-chevron-right"></span>
    </a>
    
  </nav>
  


      </div>
      <aside class='l_side'>
        
  <section class='m_widget about'>

<img class='avatar waves-image' src='/images/avatar.jpg' />

<div class='header'>John Doe</div>
<div class='content'>
<div class='desc'>Tempora mutantur, nos et mutamur in illis ...</div>
</div>
</section>

  <section class='m_widget links'>
<div class='header'>Links</div>
<div class='content'>
    <ul class="entry">
    
        <li><a class="flat-box" target="_blank" href="https://ccoooss.com">
            <div class='name'>ClassicOldSong</div>
        </a></li>
    
        <li><a class="flat-box" target="_blank" href="https://frantic1048.logdown.com/">
            <div class='name'>Frantic1048</div>
        </a></li>
    
        <li><a class="flat-box" target="_blank" href="https://hclmaster.github.io/">
            <div class='name'>Hclmaster</div>
        </a></li>
    
        <li><a class="flat-box" target="_blank" href="https://whst.github.io/">
            <div class='name'>WANG Hsü-Tung</div>
        </a></li>
    
    </ul>
</div>
</section>

  <section class='m_widget categories'>
<div class='header'>Categories</div>
<div class='content'>
    
    <ul class="entry">
    
        <li><a class="flat-box" href="/categories/Defi/"><div class='name'>Defi</div><div class='badget'>8</div></a></li>
    
        <li><a class="flat-box" href="/categories/HTML/"><div class='name'>HTML</div><div class='badget'>2</div></a></li>
    
        <li><a class="flat-box" href="/categories/PWA/"><div class='name'>PWA</div><div class='badget'>1</div></a></li>
    
        <li><a class="flat-box" href="/categories/css/"><div class='name'>css</div><div class='badget'>11</div></a></li>
    
        <li><a class="flat-box" href="/categories/http/"><div class='name'>http</div><div class='badget'>1</div></a></li>
    
        <li><a class="flat-box" href="/categories/js/"><div class='name'>js</div><div class='badget'>5</div></a></li>
    
        <li><a class="flat-box" href="/categories/vue/"><div class='name'>vue</div><div class='badget'>4</div></a></li>
    
        <li><a class="flat-box" href="/categories/web3/"><div class='name'>web3</div><div class='badget'>1</div></a></li>
    
        <li><a class="flat-box" href="/categories/webAssembly/"><div class='name'>webAssembly</div><div class='badget'>2</div></a></li>
    
        <li><a class="flat-box" href="/categories/webpack/"><div class='name'>webpack</div><div class='badget'>2</div></a></li>
    
        <li><a class="flat-box" href="/categories/webwork/"><div class='name'>webwork</div><div class='badget'>1</div></a></li>
    
        <li><a class="flat-box" href="/categories/%E4%B8%9A%E5%8A%A1%E5%9C%BA%E6%99%AF/"><div class='name'>业务场景</div><div class='badget'>1</div></a></li>
    
        <li><a class="flat-box" href="/categories/%E5%B0%8F%E7%A8%8B%E5%BA%8F/"><div class='name'>小程序</div><div class='badget'>2</div></a></li>
    
        <li><a class="flat-box" href="/categories/%E6%B5%8F%E8%A7%88%E5%99%A8/"><div class='name'>浏览器</div><div class='badget'>7</div></a></li>
    
        <li><a class="flat-box" href="/categories/%E9%A2%9D%E5%A4%96%E5%86%85%E5%AE%B9/"><div class='name'>额外内容</div><div class='badget'>5</div></a></li>
    
    </ul>
    
</div>
</section>

  
<div class="m_widget tagcloud">
    <div class="header">Tags</div>
    <div class='content'>
        <a href="/tags/chrome/" style="font-size: 14px; color: #808080">chrome</a> <a href="/tags/console/" style="font-size: 14px; color: #808080">console</a> <a href="/tags/js/" style="font-size: 14px; color: #808080">js</a>
    </div>
</div>



      </aside>
      <script>setLoadingBarProgress(60);</script>
    </div>
  </div>
  <footer id="footer" class="clearfix">

	<div class="social-wrapper">
  	
      
        <a href="https://github.com/stkevintan" class="social github"
          target="_blank" rel="external">
          <span class="icon icon-github"></span>
        </a>
      
        <a href="https://twitter.com/kevinsfork" class="social twitter"
          target="_blank" rel="external">
          <span class="icon icon-twitter"></span>
        </a>
      
        <a href="/atom.xml" class="social rss"
          target="_blank" rel="external">
          <span class="icon icon-rss"></span>
        </a>
      
    
  </div>
  
  <div>Theme <a target="_blank" rel="noopener" href='https://github.com/stkevintan/hexo-theme-material-flow' class="codename">MaterialFlow</a> designed by <a href="http://keyin.me/" target="_blank">Kevin Tan</a>.</div>
  
</footer>


  <script>setLoadingBarProgress(80);</script>
  

<script src="//apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
<script src='//cdn.bootcss.com/node-waves/0.7.5/waves.min.js'></script>
<script src="//cdn.bootcss.com/scrollReveal.js/3.3.2/scrollreveal.min.js"></script>

<script src="/js/jquery.fitvids.js"></script>

<script>
	var GOOGLE_CUSTOM_SEARCH_API_KEY = "";
	var GOOGLE_CUSTOM_SEARCH_ENGINE_ID = "";
	var ALGOLIA_API_KEY = "";
	var ALGOLIA_APP_ID = "";
	var ALGOLIA_INDEX_NAME = "";
  var AZURE_SERVICE_NAME = "";
  var AZURE_INDEX_NAME = "";
  var AZURE_QUERY_KEY = "";
  var BAIDU_API_ID = "";
  var SEARCH_SERVICE = "hexo";
  var ROOT = "/"||"/";
  if(!ROOT.endsWith('/'))ROOT += '/';
</script>

<script src="/js/search.js"></script>


<script src="/js/app.js"></script>



  <script>setLoadingBarProgress(100);</script>
</body>
</html>
